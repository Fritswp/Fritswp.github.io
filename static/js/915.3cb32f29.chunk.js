"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[915],{7915:function(e,r,s){s.r(r);var t=s(4165),n=s(5861),o=s(9439),a=s(2791),l=s(673),c=s(6635),i=s(2481),d=s(184);r.default=function(){var e=(0,a.useState)(null),r=(0,o.Z)(e,2),s=r[0],u=r[1],m=(0,a.useState)(""),p=(0,o.Z)(m,2),h=p[0],f=p[1],x=(0,a.useState)(""),v=(0,o.Z)(x,2),g=v[0],w=v[1],y=(0,a.useState)(""),j=(0,o.Z)(y,2),b=j[0],N=j[1],C=(0,a.useState)(""),k=(0,o.Z)(C,2),R=(k[0],k[1]),S=(0,a.useState)(""),L=(0,o.Z)(S,2),Z=(L[0],L[1]),P=(0,a.useState)(""),U=(0,o.Z)(P,2),E=U[0],I=U[1],M=(0,a.useState)(""),z=(0,o.Z)(M,2),A=z[0],T=z[1],V=(0,a.useState)(""),F=(0,o.Z)(V,2),H=F[0],J=F[1],D=(0,a.useState)(!1),B=(0,o.Z)(D,2),O=B[0],W=B[1],Q=(0,a.useState)(""),q=(0,o.Z)(Q,2),Y=q[0],K=q[1],_=(0,a.useState)(!1),$=(0,o.Z)(_,2),G=$[0],X=$[1],ee=(0,a.useState)(!1),re=(0,o.Z)(ee,2),se=re[0],te=re[1],ne=(0,a.useState)(""),oe=(0,o.Z)(ne,2),ae=oe[0],le=oe[1],ce=(0,a.useState)(""),ie=(0,o.Z)(ce,2),de=ie[0],ue=ie[1],me=(0,a.useState)(""),pe=(0,o.Z)(me,2),he=pe[0],fe=pe[1],xe=(0,a.useState)(!1),ve=(0,o.Z)(xe,2),ge=(ve[0],ve[1],(0,a.useState)(!1)),we=(0,o.Z)(ge,2),ye=we[0],je=we[1],be=(0,a.useState)(""),Ne=(0,o.Z)(be,2),Ce=Ne[0],ke=Ne[1],Re=(0,a.useState)(""),Se=(0,o.Z)(Re,2),Le=Se[0],Ze=Se[1];(0,a.useEffect)((function(){var e=function(){X(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((function(){var e=l.I8.onAuthStateChanged((function(e){if(e){u(e);var r=e.displayName.split(" ");R(r[0]||""),Z(r[1]||"");var s=e.uid,t=(0,i.JU)(l.RZ,"userProfiles",s);(0,i.QT)(t).then((function(e){if(e.exists()){var r=e.data();if(r){J(r.customURL),K(r.referralCode),je(r.referralSubmitted);var s=localStorage.getItem("customURL");s&&J(s),console.log("Referral submitted status:",r.referralSubmitted)}}})).catch((function(e){console.error("Error fetching custom URL: ",e)}))}else u(null),R(""),Z("")}));return function(){e()}}),[]),(0,a.useEffect)((function(){var e=l.I8.onAuthStateChanged((function(e){u(e||null)}));return function(){e()}}),[]);var Pe=function(){if(""===H)return console.error("Custom URL is empty."),void ue("Custom URL cannot be empty.");var e=H.toLowerCase(),r=(0,i.hJ)(l.RZ,"userProfiles"),t=(0,i.IO)(r,(0,i.ar)("customURL","==",e));(0,i.PL)(t).then((function(r){if(r.size>0)ue("Custom URL is already taken. Please choose another one."),le("");else{var t=s.uid,n=(0,i.JU)(l.RZ,"userProfiles",t);(0,i.r7)(n,{customURL:e}).then((function(){console.log("Custom URL updated successfully"),le("Custom URL updated successfully"),ue("")})).catch((function(e){console.error("Error updating custom URL: ",e),ue("Error updating custom URL."),le("")}))}})).catch((function(e){console.error("Error checking custom URL availability: ",e),ue("Error checking custom URL availability."),le("")}))},Ue=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(r){var n,o,a,c,d,u,m,p,h,f,x,v,g,w;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault(),console.log("Referral submission started."),!ye){e.next=7;break}return console.error("You have already submitted a referral."),fe("You have already submitted a referral."),Ze(""),e.abrupt("return");case 7:if(Ce!==Y){e.next=12;break}return console.log("User entered their own referral code."),fe("You cannot use your own referral code."),Ze(""),e.abrupt("return");case 12:return n=(0,i.hJ)(l.RZ,"userProfiles"),o=(0,i.IO)(n,(0,i.ar)("referralCode","==",Ce)),e.next=16,(0,i.PL)(o);case 16:return a=e.sent,c=(0,i.hJ)(l.RZ,"expertApplications"),d=(0,i.IO)(c,(0,i.ar)("referralCode","==",Ce)),e.next=21,(0,i.PL)(d);case 21:if(u=e.sent,a.size>0||u.size>0){e.next=28;break}return console.log("Referral code does not exist."),fe("Referral code does not exist. Please check the code and try again."),Ze(""),e.abrupt("return");case 28:if(!(m=a.size>0?a.docs[0].data():null)){e.next=33;break}return p=a.docs[0].ref,e.next=33,(0,i.r7)(p,{points:m.points+50});case 33:return h=s.uid,f=(0,i.JU)(l.RZ,"userProfiles",h),e.next=37,(0,i.QT)(f);case 37:return x=e.sent,v=x.data(),console.log("Updating user document:",f.id,{points:v.points+50,referralSubmitted:!0}),e.next=42,(0,i.r7)(f,{points:v.points+50,referralSubmitted:!0});case 42:return e.next=44,(0,i.QT)(f);case 44:g=e.sent,w=g.data(),console.log("Updated user document:",w),je(!0),console.log("Referral code applied successfully"),Ze("Referral code applied successfully! Both users have received 50 points."),fe("");case 51:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:" pricing ",children:(0,d.jsx)("div",{className:"container-xl",children:(0,d.jsxs)("div",{className:!0,"data-aos":"fade-up",children:[(0,d.jsxs)("div",{className:"row text-center mt-5",children:[(0,d.jsx)("h1",{className:"display-3 fw-bold mt-5",children:"Settings"}),(0,d.jsx)("div",{className:"heading-line"})]}),(0,d.jsx)("div",{className:"row mb-4 gx-4",children:(0,d.jsxs)("div",{className:"col-xl-12 col-12",children:[(0,d.jsxs)("div",{className:"",children:[(0,d.jsxs)("div",{className:"card-body card-profile",children:[(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Custom URL"}),(0,d.jsxs)("div",{className:G?"input-group-mobile ":"input-group",children:[(0,d.jsxs)("div",{className:G?"mobile-customurl":"input-group ",children:[(0,d.jsx)("span",{className:"customurl",children:"https://www.tioassist.io/user/"}),(0,d.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"yourHTML",value:H,onChange:function(e){return J(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Pe()}})]}),(0,d.jsxs)("div",{className:"copy-container",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#212529",fill:O?"#00FF00":"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"25",width:"25",onClick:function(){var e=document.createElement("textarea");e.value="https://www.tioassist.io/user/".concat(H),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),W(!0);var r=document.querySelector(".copy-text");r.style.display="inline-block",setTimeout((function(){W(!1),r.style.display="none"}),3e3)},style:{cursor:"pointer",marginTop:"3px"},children:O?(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"})}),(0,d.jsx)("span",{className:"copy-text",children:O?"Copied!":""})]})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[ae&&(0,d.jsx)("p",{style:{color:"green",margin:"10px 0"},children:ae}),de&&(0,d.jsx)("p",{style:{color:"red",margin:"10px 0"},children:de}),(0,d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Pe,children:"Update Custom URL"})]}),s&&"google.com"===s.providerData[0].providerId?null:(0,d.jsx)("form",{className:"file-upload",autoComplete:"new-password",children:(0,d.jsxs)("div",{className:"py-5 rounded mt-4",children:[(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Password"}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Old password *"}),(0,d.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",value:h,onChange:function(e){return f(e.target.value)}})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{htmlFor:"exampleInputPassword2",className:"form-label",children:"New password *"}),(0,d.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword2",value:g,onChange:function(e){return w(e.target.value)}})]}),(0,d.jsxs)("div",{className:"col-md-8",children:[(0,d.jsx)("label",{htmlFor:"exampleInputPassword3",className:"form-label",children:"Confirm Password *"}),(0,d.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword3",value:b,onChange:function(e){return N(e.target.value)}}),A&&(0,d.jsx)("div",{className:"text-success",children:A}),E&&(0,d.jsx)("div",{className:"text-danger",children:E})]})]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(""!==g||""!==b)if(g===b){var e="";if(g.length<8?e="Password must be more than 7 characters.":/[a-z]/.test(g)?/[A-Z]/.test(g)?/\d/.test(g)?/[@$!%*?&]/.test(g)||(e="Password must contain at least one special character."):e="Password must contain at least one digit.":e="Password must contain at least one uppercase letter.":e="Password must contain at least one lowercase letter.",e)I(e);else{var r=l.I8.currentUser;(0,c.gQ)(r,g).then((function(){T("Password updated successfully"),f(""),w(""),N(""),I("")})).catch((function(e){alert("Error updating password: "+e.message)}))}}else I("New password and confirm password don't match.");else I("Please type a new password.")},children:"Update Password"})})]})})]}),(0,d.jsx)("div",{className:"card-body card-profile",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Referral Code"}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:G?"input-group-mobile ":"input-group",children:[(0,d.jsx)("input",{type:"text",className:"form-control form-control-lg employment-entry",value:Y,readOnly:!0}),(0,d.jsxs)("div",{className:"copy-container",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#212529",fill:se?"#00FF00":"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"25",width:"25",onClick:function(){var e=document.createElement("textarea");e.value=Y,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),te(!0);var r=document.querySelector(".copy-referral");r.style.display="inline-block",setTimeout((function(){te(!1),r.style.display="none"}),3e3)},style:{cursor:"pointer",marginTop:"3px"},children:se?(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"})}),(0,d.jsx)("span",{className:"copy-referral",children:se?"Copied!":""})]})]})})]})}),(0,d.jsx)("div",{className:"card-body card-profile",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Submit  Referral"}),(0,d.jsx)("div",{className:"input-group",children:(0,d.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Referral Code",value:Ce,onChange:function(e){return ke(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Ue(e)}})}),(0,d.jsxs)("div",{className:"mt-3",children:[Le&&(0,d.jsx)("p",{style:{color:"green",margin:"10px 0"},children:Le}),he&&(0,d.jsx)("p",{style:{color:"red",margin:"10px 0"},children:he}),(0,d.jsx)("button",{type:"button",className:"btn btn-primary btn",onClick:function(){return Ue()},children:"Submit Referral"})]})]})})]}),(0,d.jsx)("div",{className:"card-body card-profile",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Delete Profile"}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){if(window.confirm("Are you sure you want to delete your profile?")){var e=l.I8.currentUser;if(!e)return void console.error("No user signed in.");var r=e.uid,s=(0,i.JU)(l.RZ,"userProfiles",r);(0,i.oe)(s).then((function(){e.delete().then((function(){console.log("User deleted successfully"),startTransition((function(){navigate("/")}))})).catch((function(e){"auth/requires-recent-login"===e.code?alert("Please log out and log back in again to delete your profile."):console.error("Error deleting user: ",e)}))})).catch((function(e){console.error("Error deleting user profile: ",e)}))}},children:"Delete Profile"})})]})})]})})]})})})}}}]);
//# sourceMappingURL=915.3cb32f29.chunk.js.map