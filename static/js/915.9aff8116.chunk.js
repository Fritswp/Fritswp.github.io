"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[915],{7915:function(e,s,a){a.r(s);var t=a(9439),r=a(2791),l=a(673),o=a(6635),n=a(2481),c=a(184);s.default=function(){var e=(0,r.useState)(null),s=(0,t.Z)(e,2),a=s[0],i=s[1],d=(0,r.useState)(""),u=(0,t.Z)(d,2),m=u[0],p=u[1],h=(0,r.useState)(""),x=(0,t.Z)(h,2),f=x[0],w=x[1],v=(0,r.useState)(""),j=(0,t.Z)(v,2),g=j[0],N=j[1],b=(0,r.useState)(""),y=(0,t.Z)(b,2),U=(y[0],y[1]),C=(0,r.useState)(""),P=(0,t.Z)(C,2),L=(P[0],P[1]),R=(0,r.useState)(""),S=(0,t.Z)(R,2),Z=S[0],I=S[1],k=(0,r.useState)(""),E=(0,t.Z)(k,2),F=E[0],z=E[1],A=(0,r.useState)(""),D=(0,t.Z)(A,2),J=D[0],M=D[1],Q=(0,r.useState)(""),T=(0,t.Z)(Q,2),_=T[0],H=T[1],K=(0,r.useState)(""),O=(0,t.Z)(K,2),W=O[0],$=O[1];(0,r.useEffect)((function(){var e=l.I8.onAuthStateChanged((function(e){if(e){i(e);var s=e.displayName.split(" ");U(s[0]||""),L(s[1]||"");var a=e.uid,t=(0,n.JU)(l.RZ,"userProfiles",a);(0,n.QT)(t).then((function(e){if(e.exists()){var s=e.data();s.customURL&&(M(s.customURL),localStorage.setItem("customURL",s.customURL))}})).catch((function(e){console.error("Error fetching custom URL: ",e)}))}else i(null),U(""),L("")})),s=localStorage.getItem("customURL");return s&&M(s),function(){e()}}),[]);var q=function(){if(""===J)return console.error("Custom URL is empty."),void $("Custom URL cannot be empty.");var e=J.toLowerCase(),s=a.uid,t=(0,n.JU)(l.RZ,"userProfiles",s);(0,n.r7)(t,{customURL:e}).then((function(){console.log("Custom URL updated successfully"),H("Custom URL updated successfully"),$("")})).catch((function(e){console.error("Error updating custom URL: ",e),$("Error updating custom URL."),H("")}))};return(0,c.jsxs)("div",{className:"profile-container",children:[(0,c.jsx)("div",{className:"profile-intro-section",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row align-items-center text-white",children:a&&(0,c.jsx)("div",{className:"welcome-text",children:(0,c.jsxs)("h1",{className:"display-3 fw-bold text-capitalize",children:["Welcome, ",(0,c.jsx)("span",{className:"email-h3",children:a.email}),"!"]})})})})}),(0,c.jsx)("div",{className:"profile-section",children:(0,c.jsxs)("div",{className:"content",children:[(0,c.jsxs)("div",{className:"my-4",children:[(0,c.jsx)("h3",{children:"My Settings"}),(0,c.jsx)("hr",{})]}),(0,c.jsx)("div",{className:"row mb-4 gx-4",children:(0,c.jsx)("div",{className:"col-xl-12 col-12",children:(0,c.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,c.jsxs)("div",{className:"card-body card-profile",children:[(0,c.jsxs)("div",{className:"row g-3",children:[(0,c.jsx)("h4",{className:"mb-4",children:"Custom URL"}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("span",{className:"customurl",children:"https://www.tioassist.io/user/"}),(0,c.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"yourHTML",value:J,onChange:function(e){return M(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&q()}})]})]}),(0,c.jsxs)("div",{className:"mt-3",children:[_&&(0,c.jsx)("p",{style:{color:"green",margin:"10px 0"},children:_}),W&&(0,c.jsx)("p",{style:{color:"red",margin:"10px 0"},children:W}),(0,c.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:q,children:"Update Custom URL"})]}),a&&"google.com"===a.providerData[0].providerId?null:(0,c.jsx)("form",{className:"file-upload",autoComplete:"new-password",children:(0,c.jsxs)("div",{className:"py-5 rounded mt-4",children:[(0,c.jsxs)("div",{className:"row g-3",children:[(0,c.jsx)("h4",{className:"mb-4",children:"Password"}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Old password *"}),(0,c.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",value:m,onChange:function(e){return p(e.target.value)}})]}),(0,c.jsxs)("div",{className:"col-md-4",children:[(0,c.jsx)("label",{htmlFor:"exampleInputPassword2",className:"form-label",children:"New password *"}),(0,c.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword2",value:f,onChange:function(e){return w(e.target.value)}})]}),(0,c.jsxs)("div",{className:"col-md-8",children:[(0,c.jsx)("label",{htmlFor:"exampleInputPassword3",className:"form-label",children:"Confirm Password *"}),(0,c.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword3",value:g,onChange:function(e){return N(e.target.value)}}),F&&(0,c.jsx)("div",{className:"text-success",children:F}),Z&&(0,c.jsx)("div",{className:"text-danger",children:Z})]})]}),(0,c.jsx)("div",{className:"mt-3",children:(0,c.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:function(){if(""!==f||""!==g)if(f===g){var e="";if(f.length<8?e="Password must be more than 7 characters.":/[a-z]/.test(f)?/[A-Z]/.test(f)?/\d/.test(f)?/[@$!%*?&]/.test(f)||(e="Password must contain at least one special character."):e="Password must contain at least one digit.":e="Password must contain at least one uppercase letter.":e="Password must contain at least one lowercase letter.",e)I(e);else{var s=l.I8.currentUser;(0,o.gQ)(s,f).then((function(){z("Password updated successfully"),p(""),w(""),N(""),I("")})).catch((function(e){alert("Error updating password: "+e.message)}))}}else I("New password and confirm password don't match.");else I("Please type a new password.")},children:"Update Password"})})]})})]})})})})]})})]})}}}]);
//# sourceMappingURL=915.9aff8116.chunk.js.map