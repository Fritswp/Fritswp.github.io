"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[915],{5416:function(e,t,r){r.r(t);var n=r(3433),s=r(4165),o=r(5861),a=r(9439),c=r(2791),l=r(673),i=r(2481),d=r(276),u=r(5485),m=r(7689),h=r(7386),p=r(184);t.default=function(){(0,m.UO)().customURL;var e=(0,c.useState)(null),t=(0,a.Z)(e,2),r=t[0],x=t[1],f=(0,c.useState)(""),v=(0,a.Z)(f,2),g=v[0],j=v[1],k=(0,c.useState)(""),w=(0,a.Z)(k,2),b=w[0],N=w[1],y=(0,c.useState)(null),L=(0,a.Z)(y,2),Z=L[0],C=L[1],S=(0,c.useState)(null),E=(0,a.Z)(S,2),U=(E[0],E[1]),R=(0,c.useState)({text:"",type:""}),A=(0,a.Z)(R,2),M=A[0],F=(A[1],(0,c.useState)({text:"",type:""})),B=(0,a.Z)(F,2),I=B[0],P=B[1],z=(0,c.useState)(!1),J=(0,a.Z)(z,2),W=J[0],D=J[1],H=(0,c.useState)(""),_=(0,a.Z)(H,2),O=_[0],T=_[1],G=(0,c.useState)(""),V=(0,a.Z)(G,2),K=V[0],Q=V[1],q=(0,c.useState)(""),Y=(0,a.Z)(q,2),X=Y[0],$=Y[1],ee=(0,c.useState)(""),te=(0,a.Z)(ee,2),re=te[0],ne=te[1],se=(0,c.useState)(""),oe=(0,a.Z)(se,2),ae=oe[0],ce=oe[1],le=(0,c.useState)(""),ie=(0,a.Z)(le,2),de=ie[0],ue=ie[1],me=(0,c.useState)(""),he=(0,a.Z)(me,2),pe=(he[0],he[1]),xe=(0,c.useState)(""),fe=(0,a.Z)(xe,2),ve=fe[0],ge=fe[1],je=(0,c.useState)(""),ke=(0,a.Z)(je,2),we=ke[0],be=ke[1],Ne=(0,c.useState)([]),ye=(0,a.Z)(Ne,2),Le=ye[0],Ze=ye[1],Ce=(0,c.useState)(""),Se=(0,a.Z)(Ce,2),Ee=Se[0],Ue=Se[1],Re=(0,c.useState)(!1),Ae=(0,a.Z)(Re,2),Me=Ae[0],Fe=Ae[1],Be=(0,c.useState)([]),Ie=(0,a.Z)(Be,2),Pe=Ie[0],ze=Ie[1],Je=(0,c.useState)([]),We=(0,a.Z)(Je,2),De=We[0],He=We[1],_e=(0,c.useState)([]),Oe=(0,a.Z)(_e,2);Oe[0],Oe[1],(0,c.useEffect)((function(){var e=l.I8.onAuthStateChanged(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r,n,o,a,c,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}return x(t),r=(0,i.JU)(l.RZ,"expertApplications",t.uid),e.next=5,(0,i.QT)(r);case 5:return(n=e.sent).exists()?((o=n.data()).photoURL?C(o.photoURL):C(t.photoURL),j(o.first_name||t.displayName.split(" ")[0]||""),N(o.last_name||t.displayName.split(" ")[1]||""),T(o.address||""),Q(o.city||""),$(o.county||""),ne(o.postcode||""),ce(o.mobileNumber||""),ue(o.occupation||""),pe(t.email),ge(o.description),Ue(o.labels||"")):C(t.photoURL),a=(0,i.hJ)(l.RZ,"expertApplications/".concat(t.uid,"/images")),e.prev=8,e.next=11,(0,i.PL)(a);case 11:c=e.sent,d=c.docs.map((function(e){var t=e.data();return{id:e.id,url:t.url,description:t.description}})),He(d),console.log("Gallery List:",d),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.error("Error fetching gallery images:",e.t0);case 20:e.next=31;break;case 22:T(""),Q(""),$(""),ne(""),ce(""),C(null),pe(""),ue(""),ge("");case 31:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]);var Te=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t),n=(0,i.JU)(l.RZ,"expertApplications",r.uid),e.next=4,(0,i.r7)(n,{photoURL:t});case 4:(0,u.ck)(r,{photoURL:t}).then((function(){console.log("Profile photo updated successfully")})).catch((function(e){console.error("Error updating profile photo:",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){P({text:"",type:""})},Ve=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(){var t,n,o,a,c,d,u,m,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=(0,i.JU)(l.RZ,"expertApplications",r.uid),e.next=6,(0,i.QT)(t);case 6:if(!(n=e.sent).exists()){e.next=22;break}return o=n.data(),a=o.approved||!1,c=o.customURL||!1,d=o.points||0,u=(0,i.JU)(l.RZ,"userProfiles",r.uid),e.next=15,(0,i.oe)(u);case 15:return m=l.I8.currentUser,h=m.photoURL,e.next=19,(0,i.pl)(t,{displayName:"".concat(g," ").concat(b),email:r.email,mobileNumber:document.getElementById("inputMobileNumber").value,occupation:document.getElementById("inputExpertise").value,address:document.getElementById("inputAddress").value,city:document.getElementById("inputCity").value,county:document.getElementById("inputCounty").value,postcode:document.getElementById("inputPostcode").value,description:document.getElementById("inputDescription").value,photoURL:h,approved:a,customURL:c,keywords:Pe,points:d,labels:Ee});case 19:U(null),P({text:"Profile updated successfully",type:"success"}),setTimeout((function(){return Ge()}),3e3);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(2),P({text:"Error updating profile: ".concat(e.t0.message),type:"error"}),setTimeout((function(){return Ge()}),3e3);case 28:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=l.I8.onAuthStateChanged(function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var r,n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return x(t),r=(0,i.JU)(l.RZ,"expertApplications",t.uid),e.next=5,(0,i.QT)(r);case 5:(n=e.sent).exists()&&(o=n.data(),Ze(o.keywords||[]),Ue(o.labels||""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]);var Ke=function(e){var t=(0,n.Z)(Pe);t.splice(e,1),ze(t)},Qe=function(e){var t=(0,n.Z)(Le);t.splice(e,1),Ze(t)},qe=function(){console.log("Image clicked"),Fe(!0)},Ye=function(){document.body.style.overflow=""},Xe=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t,o,a,c){var u,m,h,p,x,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=(0,d.iH)(l.tO,"expertFiles/".concat(r.uid,"/").concat(c)),e.prev=1,m=(0,d.B0)(u,t),e.next=5,m;case 5:return h=e.sent,e.next=8,(0,d.Jt)(h.ref);case 8:return p=e.sent,x={id:c,url:p,description:o},He((function(e){return[].concat((0,n.Z)(e),[x])})),f=(0,i.JU)(a,c),e.next=14,(0,i.pl)(f,{url:p,description:o});case 14:console.log("Image uploaded and stored successfully"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error uploading image:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,r,n,s){return e.apply(this,arguments)}}(),$e=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,o,a,c,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[0],o="",a=n.name,c=(0,i.hJ)(l.RZ,"expertApplications/".concat(r.uid,"/images")),e.prev=4,!(n.size>1048576)){e.next=11;break}return e.next=8,scaleImage(n);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=n;case 12:return d=e.t0,e.next=15,Xe(d,o,c,a);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(4),console.error("Error processing image:",e.t1);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,o,a,c,u,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Gallery before removal:",De),n=De[t],console.log("Image object:",n),n){e.next=7;break}return console.error("Error removing photo: Image not found in gallery"),e.abrupt("return");case 7:return o=n.id,console.log("Image name:",o),a=(0,d.iH)(l.tO,"expertFiles/".concat(r.uid,"/").concat(o)),e.next=12,(0,d.oq)(a);case 12:return console.log("Image removed successfully from Storage"),c="expertApplications/".concat(r.uid,"/images/").concat(o),u=(0,i.JU)(l.RZ,c),e.next=17,(0,i.oe)(u);case 17:console.log("Document removed successfully from Firestore"),m=De.filter((function(e,r){return r!==t})),console.log("Updated gallery:",m),He(m),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Error removing photo:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De[t],o=(0,i.JU)((0,i.hJ)(l.RZ,"expertApplications/".concat(r.uid,"/images")),n.id),e.prev=2,e.next=5,(0,i.r7)(o,{description:n.description});case 5:console.log("Description updated successfully in Firestore"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error updating description:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"profile-container",children:[(0,p.jsx)("div",{className:"container"}),(0,p.jsx)("div",{className:"profile-section",children:(0,p.jsx)("div",{className:"content profile-content ",children:(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsx)("div",{className:"card-profile"}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsxs)("div",{className:"Profile-image position-relative",children:[!W&&Z&&(0,p.jsxs)("div",{className:"position-relative",children:[(0,p.jsx)("img",{src:Z,alt:"User Profile",className:"user-avatar large-avatar mb-3",onError:function(){return D(!0)},onClick:qe,style:{cursor:"pointer"}}),(0,p.jsx)("div",{className:"svg-icon",onClick:qe,children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:2,stroke:"white",className:"w-6 h-6",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]}),W&&(0,p.jsxs)("div",{className:"position-relative",children:[(0,p.jsx)("img",{src:"".concat("","/images/arts/user.webp"),alt:"Custom 404 Image",className:"user-avatar large-avatar rounded-circle mb-3",onClick:qe,style:{cursor:"pointer"}}),(0,p.jsxs)("div",{className:"px-3",children:[(0,p.jsx)("div",{className:"card-title",children:"".concat(g," ").concat(b)}),(0,p.jsx)("div",{className:"fw-normal card-subtitle mb-4 h6",children:de})]})]})]}),(0,p.jsxs)("div",{className:"px-3",children:[(0,p.jsx)("div",{className:"card-title",children:"".concat(g," ").concat(b)}),(0,p.jsx)("div",{className:"text-muted card-subtitle h6",children:de})]}),(0,p.jsxs)("div",{children:["error"===M.type&&(0,p.jsx)("p",{className:"fw-light",style:{color:"red"},children:M.text}),"success"===M.type&&(0,p.jsx)("p",{className:"fw-light",style:{color:"green"},children:M.text}),"progress"===M.type&&(0,p.jsx)("p",{className:"fw-light",style:{color:"gray"},children:M.text})]})]}),(0,p.jsx)("h3",{children:"My Profile"}),(0,p.jsx)("hr",{}),(0,p.jsx)("form",{className:"file-upload",children:(0,p.jsxs)("div",{className:"row mb-4 gx-4",children:[(0,p.jsx)("div",{className:"col-xl-12 col-12",children:(0,p.jsx)("div",{className:"card-body card-profile",children:(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsxs)("div",{className:"col-md-8",children:[(0,p.jsx)("h4",{className:"mb-4",children:"General information"}),(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"First Name *"}),(0,p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"First name",value:g,onChange:function(e){return j(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"Last name",value:b,onChange:function(e){return N(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Email *"}),(0,p.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"inputEmail4",value:r?r.email:"",readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Mobile number *"}),(0,p.jsx)("input",{id:"inputMobileNumber",type:"text",className:"form-control form-control-lg",placeholder:"Enter your Phone number","aria-label":"Phone number",value:ae,onChange:function(e){return ce(e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-md-12",children:[(0,p.jsx)("label",{className:"form-label",children:"Role/Expertise *"}),(0,p.jsx)("input",{id:"inputExpertise",type:"text",className:"form-control form-control-lg",placeholder:"Enter your role/expertise","aria-label":"your Role",value:de,onChange:function(e){return ue(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-12",children:[(0,p.jsx)("label",{className:"form-label",children:"Description of Expertise"}),(0,p.jsx)("textarea",{id:"inputDescription",type:"text",className:"form-control",rows:"4",placeholder:"Enter a brief description of your expertise or how you can help",value:ve,onChange:function(e){return ge(e.target.value)},style:{resize:"none"}})]})]})})]}),(0,p.jsx)("div",{className:"col-md-4",children:(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{className:"form-label",children:"Categories"}),(0,p.jsxs)("ul",{className:"listcard expert-listcard",children:[(0,p.jsxs)("li",{className:"form-check expert-form-check ",children:[(0,p.jsx)("input",{type:"radio",className:"form-check-input listboxes ",id:"jobSuccess90",name:"jobSuccess",onChange:function(){return Ue("Computer")},checked:"Computer"===Ee}),(0,p.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Computer",(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,p.jsxs)("li",{className:"form-check expert-form-check",children:[(0,p.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",name:"jobSuccess",checked:"Sport"===Ee,onChange:function(){return Ue("Sport")}}),(0,p.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Sport",(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,p.jsxs)("li",{className:"form-check expert-form-check",children:[(0,p.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",name:"jobSuccess",checked:"Food"===Ee,onChange:function(){return Ue("Food")}}),(0,p.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Food",(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,p.jsxs)("li",{className:"form-check expert-form-check",children:[(0,p.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",checked:"Health"===Ee,name:"jobSuccess",onChange:function(){return Ue("Health")}}),(0,p.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Health",(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,p.jsxs)("li",{className:"form-check expert-form-check",children:[(0,p.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",checked:"Work"===Ee,name:"jobSuccess",onChange:function(){return Ue("Work")}}),(0,p.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Work",(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,p.jsxs)("li",{className:"form-check expert-form-check",children:[(0,p.jsx)("input",{type:"radio",className:"form-check-input listboxes",checked:"Hobbies"===Ee,id:"jobSuccess90",name:"jobSuccess",onChange:function(){return Ue("Hobbies")}}),(0,p.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Hobbies",(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]})]})]})})]})})}),(0,p.jsxs)("div",{className:"card-body card-profile",children:[(0,p.jsx)("h4",{children:"File Gallery"}),(0,p.jsxs)("div",{className:"uploadcontainer",children:[(0,p.jsx)("input",{className:"uploadfile",type:"file",onChange:function(e){return $e(e.target.files)},multiple:!0}),(0,p.jsxs)("div",{className:"documentupload",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#7EA0D6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"75",width:"75",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 12l-3-3m0 0l-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"choosefile mt-2",children:"Choose file"})," ","or"," ",(0,p.jsx)("div",{className:"draghere",children:"drag here"})]})]})]})]}),(0,p.jsx)("div",{children:(0,p.jsx)("div",{className:"gallery",children:(0,p.jsx)("div",{className:"gallery-container",children:De.map((function(e,t){return(0,p.jsxs)("div",{className:"gallery-item",children:[(0,p.jsx)("div",{className:"image-container",children:(0,p.jsx)("img",{src:e.url,alt:"Gallery ".concat(t+1),className:"gallery-image"})}),(0,p.jsx)("textarea",{type:"text",placeholder:"Enter description",className:"form-control form-control-lg borderradius",value:e.description,onChange:function(e){return function(e,t){var r=(0,n.Z)(De);r[t].description=e,He(r)}(e.target.value,t)}}),(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)("button",{onClick:function(e){e.preventDefault(),tt(t)},children:"Upload Description"}),(0,p.jsx)("button",{onClick:function(){return et(t)},children:"\u274c Remove"})]})]},t)}))})})}),(0,p.jsxs)("div",{className:"col-xl-12 col-12",children:[(0,p.jsxs)("div",{className:"pt-5 rounded",children:[(0,p.jsx)("div",{className:"card-body card-profile",children:(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsx)("h4",{className:"mb-4 mt-0",children:"Address"}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Address"}),(0,p.jsx)("input",{id:"inputAddress",type:"text",className:"form-control form-control-lg",placeholder:"Enter your home address",value:O,onChange:function(e){return T(e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"City"}),(0,p.jsx)("input",{id:"inputCity",type:"text",className:"form-control form-control-lg",placeholder:"Enter City",value:K,onChange:function(e){return Q(e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"County"}),(0,p.jsx)("input",{id:"inputCounty",type:"text",className:"form-control form-control-lg",placeholder:"County",value:X,onChange:function(e){return $(e.target.value)}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Postcode"}),(0,p.jsx)("input",{id:"inputPostcode",type:"text",className:"form-control form-control-lg",placeholder:"Postcode",value:re,onChange:function(e){return ne(e.target.value)}})]})]})}),(0,p.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsx)("h5",{className:"mb-2",children:"Choose 5 Keywords"}),(0,p.jsx)("p",{children:"we recommend choosing keywords that you think will get you highest in the search results"}),(0,p.jsx)("div",{className:"me-3",children:(0,p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:window.innerWidth<=600?"Add keywords here":"Type a keyword and press Space or Enter to add",value:we,onChange:function(e){return be(e.target.value)},onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||""===we.trim()||(e.preventDefault(),function(){if(""!==we.trim()&&Pe.length<6){var e=[].concat((0,n.Z)(Pe),[we.trim()]);ze(e),be("")}}())},disabled:Pe.length+Le.length>=5})}),(0,p.jsxs)("div",{className:"keywords-list",children:[Pe.map((function(e,t){return(0,p.jsxs)("div",{onClick:function(){return Ke(t)},className:"keyword-container btn mx-1  d-inline-flex align-items-center  mb-2",children:[e,(0,p.jsx)("svg",{onClick:function(){return Ke(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Le.map((function(e,t){return(0,p.jsxs)("div",{onClick:function(){return Qe(t)},className:"keyword-container btn mx-1  d-inline-flex align-items-center  mb-2",children:[e,(0,p.jsx)("svg",{onClick:function(){return Qe(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Pe.length+Le.length>=5&&(0,p.jsx)("p",{className:"message",children:"Keyword limit reached. You cannot add more keywords."})]})]})})]}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("button",{type:"button",className:"btn btn-primary  mb-4",onClick:Ve,children:"Update profile"}),(0,p.jsxs)("div",{children:["error"===I.type&&(0,p.jsx)("p",{className:"fw-light",style:{color:"red"},children:I.text}),"success"===I.type&&(0,p.jsx)("p",{className:"fw-light",style:{color:"green"},children:I.text})]})]})]})]})})]})})}),Me&&(0,p.jsx)("div",{className:"modal-overlay",children:(0,p.jsx)("div",{className:"modalcrop ",children:(0,p.jsx)(h.Z,{setPhotoURL:C,setImageLoadError:D,closeModal:function(){Fe(!1),Ye()},photoURL:Z,handleImageUpload:Te,handleImageError:function(){D(!0)},user:r,collectionName:"expertApplications"})})})]})}},7386:function(e,t,r){var n=r(4165),s=r(5861),o=r(9439),a=r(2791),c=r(28),l=(r(4333),r(276)),i=r(2481),d=r(673),u=r(184);t.Z=function(e){var t=e.closeModal,r=e.photoURL,m=e.handleImageUpload,h=e.setPhotoURL,p=e.user,x=e.collectionName,f=(0,a.useState)(r),v=(0,o.Z)(f,2),g=v[0],j=v[1],k=(0,a.useState)(null),w=(0,o.Z)(k,2),b=(w[0],w[1]),N=(0,a.useState)(!1),y=(0,o.Z)(N,2),L=(y[0],y[1]),Z=(0,a.useState)(null),C=(0,o.Z)(Z,2),S=C[0],E=C[1],U=(0,a.useState)(null),R=(0,o.Z)(U,2),A=R[0],M=R[1],F=(0,a.useRef)(null),B=(0,a.useRef)(null),I=(0,a.useState)(!1),P=(0,o.Z)(I,2),z=P[0],J=P[1];(0,a.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]);var W=function(e){var t=e.target.files[0];if(b(t),t){E(t.name);var r=new FileReader;r.onload=function(e){j(e.target.result)},r.readAsDataURL(t)}},D=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t,r,o,a,c,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=null===(t=F.current)||void 0===t?void 0:t.getCanvas())){e.next=6;break}return e.next=4,new Promise((function(e){return r.toBlob(e,"image/jpeg")}));case 4:(o=e.sent)&&(a=(0,l.iH)(d.tO,"profileImages/".concat(S)),c={contentType:"image/jpeg"},(u=(0,l.B0)(a,o,c)).on("state_changed",(function(e){}),(function(e){}),(function(){(0,l.Jt)(u.snapshot.ref).then(function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,(0,i.r7)(A,{photoURL:t});case 3:m(t),J(!0),setTimeout((function(){J(!1)}),3e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p||!p.uid){e.next=6;break}return t="".concat("","/images/arts/user.webp"),e.next=4,(0,i.r7)(A,{photoURL:t});case 4:h(t),L(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){B.current=document.createElement("input"),B.current.type="file",B.current.accept="image/*",B.current.addEventListener("change",W);var e=(0,i.JU)(d.RZ,x,p.uid);M(e);var t=(0,i.cf)(e,(function(e){var t;!function(e){j(e)}(null===(t=e.data())||void 0===t?void 0:t.photoURL)}));return function(){return t()}}),[p.uid,x]),(0,u.jsxs)("div",{className:"modalimage align-items-center",children:[(0,u.jsxs)("div",{className:"top-section",children:[(0,u.jsx)("div",{style:{marginRight:"10px"},children:"Profile image"}),(0,u.jsx)("button",{className:"btn-crop",onClick:t,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,u.jsx)("div",{className:"centerimage",children:(0,u.jsx)("div",{className:"croppers-wizard__body",children:(0,u.jsx)("div",{className:"default-cropper croppers-wizard__cropper",children:g?(0,u.jsx)(c.fle,{ref:F,src:g,stencilComponent:c.xqB,stencilProps:{grid:!0,handlers:{eastNorth:!0,north:!1,westNorth:!0,west:!1,westSouth:!0,south:!1,eastSouth:!0,east:!1}}}):null})})}),(0,u.jsxs)("div",{className:"button-section with-divider",children:[(0,u.jsx)("button",{className:"btn-crop",onClick:function(){B.current.click()},children:(0,u.jsxs)("div",{className:"button-content",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:[(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),"New Photo"]})}),(0,u.jsx)("button",{className:"btn-crop",onClick:D,children:(0,u.jsxs)("div",{className:"button-content",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),"Upload Photo"]})}),z&&(0,u.jsx)("div",{className:"upload-success-icon",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#009E60",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,u.jsx)("button",{className:"btn-crop",onClick:H,children:(0,u.jsxs)("div",{className:"button-content",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),"Delete Photo"]})})]})]})}}}]);
//# sourceMappingURL=915.44e0ff4e.chunk.js.map