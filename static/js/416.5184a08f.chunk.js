"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[416],{5416:function(e,t,r){r.r(t);var n=r(1413),s=r(3433),o=r(4165),a=r(5861),c=r(9439),l=r(2791),i=r(673),u=r(2481),d=r(276),h=r(6635),p=r(7689),m=r(7386),x=(r(7632),r(431)),f=r(2383),v=r(184);t.default=function(){(0,p.UO)().customURL;var e=(0,l.useState)(null),t=(0,c.Z)(e,2),r=t[0],g=t[1],j=(0,l.useState)(""),w=(0,c.Z)(j,2),k=w[0],b=w[1],y=(0,l.useState)(""),N=(0,c.Z)(y,2),Z=N[0],L=N[1],C=(0,l.useState)(null),S=(0,c.Z)(C,2),E=S[0],M=S[1],U=(0,l.useState)(null),z=(0,c.Z)(U,2),R=(z[0],z[1]),A=(0,l.useState)({text:"",type:""}),F=(0,c.Z)(A,2),B=F[0],D=(F[1],(0,l.useState)({text:"",type:""})),I=(0,c.Z)(D,2),P=I[0],J=I[1],V=(0,l.useState)(!1),W=(0,c.Z)(V,2),H=W[0],T=W[1],O=(0,l.useState)(""),_=(0,c.Z)(O,2),G=_[0],K=_[1],Q=(0,l.useState)(""),q=(0,c.Z)(Q,2),Y=q[0],$=q[1],X=(0,l.useState)(""),ee=(0,c.Z)(X,2),te=ee[0],re=ee[1],ne=(0,l.useState)(""),se=(0,c.Z)(ne,2),oe=se[0],ae=se[1],ce=(0,l.useState)(""),le=(0,c.Z)(ce,2),ie=le[0],ue=le[1],de=(0,l.useState)(""),he=(0,c.Z)(de,2),pe=he[0],me=he[1],xe=(0,l.useState)(""),fe=(0,c.Z)(xe,2),ve=(fe[0],fe[1]),ge=(0,l.useState)(""),je=(0,c.Z)(ge,2),we=je[0],ke=je[1],be=(0,l.useState)(""),ye=(0,c.Z)(be,2),Ne=ye[0],Ze=ye[1],Le=(0,l.useState)([]),Ce=(0,c.Z)(Le,2),Se=Ce[0],Ee=Ce[1],Me=(0,l.useState)(""),Ue=(0,c.Z)(Me,2),ze=Ue[0],Re=Ue[1],Ae=(0,l.useState)(!1),Fe=(0,c.Z)(Ae,2),Be=Fe[0],De=Fe[1],Ie=(0,l.useState)([]),Pe=(0,c.Z)(Ie,2),Je=Pe[0],Ve=Pe[1],We=(0,l.useState)([]),He=(0,c.Z)(We,2),Te=He[0],Oe=He[1],_e=(0,l.useState)(!1),Ge=(0,c.Z)(_e,2),Ke=Ge[0],Qe=Ge[1],qe=(0,l.useState)(!1),Ye=(0,c.Z)(qe,2),$e=(Ye[0],Ye[1]),Xe=(0,l.useState)(!1),et=(0,c.Z)(Xe,2),tt=et[0],rt=et[1],nt=(0,l.useState)(null),st=(0,c.Z)(nt,2),ot=st[0],at=st[1],ct=(0,l.useState)(null),lt=(0,c.Z)(ct,2),it=lt[0],ut=lt[1],dt=(0,l.useState)(""),ht=(0,c.Z)(dt,2),pt=ht[0],mt=ht[1],xt=(0,l.useState)([]),ft=(0,c.Z)(xt,2),vt=ft[0],gt=ft[1],jt=(0,l.useState)(!1),wt=(0,c.Z)(jt,2),kt=(wt[0],wt[1]),bt=(0,l.useState)(""),yt=(0,c.Z)(bt,2),Nt=yt[0],Zt=yt[1];(0,l.useEffect)((function(){var e=i.I8.onAuthStateChanged(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var r,n,s,a,c,l,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return g(t),r=(0,u.JU)(i.RZ,"expertApplications",t.uid),e.next=5,(0,u.QT)(r);case 5:return(n=e.sent).exists()?(s=n.data(),M(s.photoURL||t.photoURL),b(s.first_name||(t.displayName?t.displayName.split(" ")[0]:"")),L(s.last_name||(t.displayName?t.displayName.split(" ")[1]:"")),K(s.address||""),$(s.city||""),re(s.county||""),ae(s.postcode||""),ue(s.mobileNumber||""),me(s.occupation||""),ve(t.email),ke(s.description||""),Re(s.labels||"")):M(t.photoURL),a=(0,u.hJ)(i.RZ,"expertApplications/".concat(t.uid,"/files")),c=(0,u.cf)(a,(function(e){var t=e.docs.map((function(e){var t=e.data(),r=/\.(jpeg|jpg|gif|png|webp|svg)$/i.test(t.url.split("?")[0]);return{id:e.id,url:t.url,description:t.description||"",title:t.title||"",isImage:r}}));console.log("Gallery List:",t),Oe(t)})),l=(0,u.hJ)(i.RZ,"expertApplications/".concat(t.uid,"/links")),e.next=12,(0,u.PL)(l);case 12:return d=e.sent,h=d.docs.map((function(e){var t=e.data();return{id:e.id,url:t.url,description:t.description}})),gt(h),e.abrupt("return",(function(){c()}));case 18:K(""),$(""),re(""),ae(""),ue(""),M(null),ve(""),me(""),ke(""),gt([]);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return e}),[]);var Lt=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,n){var s,a,c,l,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t[0],a="",c=n||s.name,l=(0,u.hJ)(i.RZ,"expertApplications/".concat(r.uid,"/files")),!(s.size>1048576)){e.next=7;break}return at({type:"error",message:"File size exceeds the limit (1MB)."}),e.abrupt("return");case 7:if(e.prev=7,!(s.size>1048576)){e.next=14;break}return e.next=11,d(s);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=s;case 15:return d=e.t0,e.next=18,Ct(d,a,c,l);case 18:h=e.sent,console.log("Download URL:",h),at({type:"success",message:"File uploaded successfully!"}),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(7),console.error("Error processing file:",e.t1),at({type:"error",message:"Error uploading file. Please try again."});case 27:setTimeout((function(){at(null)}),3e3);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,r){return e.apply(this,arguments)}}(),Ct=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,n,a,c){var l,h,p,m,x,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,d.iH)(i.tO,"expertFiles/".concat(r.uid,"/").concat(a)),e.prev=1,h=(0,d.B0)(l,t),e.next=5,h;case 5:return p=e.sent,e.next=8,(0,d.Jt)(p.ref);case 8:return m=e.sent,x={id:a,url:m,description:n,title:""},Oe((function(e){return[].concat((0,s.Z)(e),[x])})),f=(0,u.JU)(c,a),e.next=14,(0,u.pl)(f,{url:m,description:n,title:""});case 14:return console.log("Files uploaded and stored successfully"),e.abrupt("return",m);case 18:e.prev=18,e.t0=e.catch(1),console.error("Error uploading Files:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,r,n,s){return e.apply(this,arguments)}}(),St=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,n){var s,a,c,l,h,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Gallery before removal:",Te),s=Te[t],console.log(" object:",s),s){e.next=7;break}return console.error("Error removing photo:  not found in gallery"),e.abrupt("return");case 7:return a=s.id,console.log(" name:",a),c=(0,d.iH)(i.tO,"expertFiles/".concat(r.uid,"/").concat(a)),e.next=12,(0,d.oq)(c);case 12:return console.log(" removed successfully from Storage"),l="expertApplications/".concat(r.uid,"/files/").concat(a),console.log("Firestore document path:",l),h=(0,u.JU)(i.RZ,l),e.next=18,(0,u.oe)(h);case 18:console.log("Document removed successfully from Firestore"),p=Te.filter((function(e,r){return r!==t})),console.log("Updated gallery:",p),Oe(p),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error removing photo:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,r){return e.apply(this,arguments)}}(),Et=function(e,t){var r=Te.map((function(r){return r.id===t?(0,n.Z)((0,n.Z)({},r),{},{title:e}):r}));Oe(r)},Mt=function(e,t){var r=Te.map((function(r){return r.id===t?(0,n.Z)((0,n.Z)({},r),{},{description:e}):r}));Oe(r)},Ut=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te[t],s=(0,u.JU)((0,u.hJ)(i.RZ,"expertApplications/".concat(r.uid,"/files")),n.id),e.prev=2,e.next=5,Promise.all([(0,u.r7)(s,{description:n.description,title:n.title})]);case 5:console.log("Description and title updated successfully in Firestore"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error updating description and title:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),zt=function(e){if(!e)return null;switch(e.split("?")[0].split(".").pop().toLowerCase()){case"pdf":return(0,v.jsxs)("svg",{style:{color:"red"},xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 14 16",children:[" ",(0,v.jsx)("path",{d:"M5.523 12.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.148 21.148 0 0 0 .5-1.05 12.045 12.045 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.881 3.881 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 6.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z",fill:"red"})," ",(0,v.jsx)("path",{"fill-rule":"evenodd",d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3zM4.165 13.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.651 11.651 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.697 19.697 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z",fill:"red"})," "]});case"doc":case"docx":return(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 110.031 107.5",children:[(0,v.jsx)("path",{d:"M57.505 0h7.475v10c13.375.075 26.738-.138 40.101.075 2.85-.288 5.087 1.925 4.825 4.775.212 24.625-.05 49.262.125 73.887-.125 2.525.25 5.325-1.213 7.562-1.825 1.3-4.188 1.138-6.312 1.237-12.514-.061-25.014-.036-37.526-.036v10h-7.812c-19.024-3.475-38.1-6.662-57.162-10-.013-29.162 0-58.325 0-87.475C19.167 6.675 38.343 3.413 57.506 0z",fill:"#2a5699"}),(0,v.jsx)("path",{d:"M64.98 13.75h41.25v80H64.98v-10h32.5v-5h-32.5V72.5h32.5v-5h-32.5v-6.25h32.5v-5h-32.5V50h32.5v-5h-32.5v-6.25h32.5v-5h-32.5V27.5h32.5v-5h-32.5v-8.75zM25.83 35.837c2.375-.137 4.75-.237 7.125-.362 1.662 8.438 3.362 16.862 5.162 25.262 1.413-8.675 2.976-17.325 4.487-25.987 2.5-.087 5-.225 7.488-.375-2.825 12.112-5.3 24.325-8.388 36.362-2.088 1.088-5.213-.05-7.688.125-1.663-8.274-3.6-16.5-5.088-24.812-1.462 8.075-3.362 16.075-5.037 24.101-2.4-.125-4.812-.275-7.226-.438-2.074-11-4.512-21.925-6.449-32.95 2.137-.1 4.287-.188 6.425-.263 1.287 7.962 2.75 15.888 3.875 23.862 1.765-8.174 3.564-16.349 5.314-24.525z",fill:"#fff"})]});case"xls":case"xlsx":return(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 110.037 107.5",children:[(0,v.jsx)("path",{d:"M57.55 0h7.425v10c12.513 0 25.025.025 37.537-.038 2.113.087 4.438-.062 6.275 1.2 1.287 1.85 1.138 4.2 1.225 6.325-.062 21.7-.037 43.388-.024 65.075-.062 3.638.337 7.35-.425 10.938-.5 2.6-3.625 2.662-5.713 2.75-12.95.037-25.912-.025-38.875 0v11.25h-7.763c-19.05-3.463-38.138-6.662-57.212-10V10.013C19.188 6.675 38.375 3.388 57.55 0z",fill:"#207245"}),(0,v.jsx)("path",{d:"M64.975 13.75h41.25V92.5h-41.25V85h10v-8.75h-10v-5h10V62.5h-10v-5h10v-8.75h-10v-5h10V35h-10v-5h10v-8.75h-10v-7.5z",fill:"#fff"}),(0,v.jsx)("path",{d:"M79.975 21.25h17.5V30h-17.5v-8.75z",fill:"#207245"}),(0,v.jsx)("path",{d:"M37.025 32.962c2.825-.2 5.663-.375 8.5-.512a2607.344 2607.344 0 0 1-10.087 20.487c3.438 7 6.949 13.95 10.399 20.95a716.28 716.28 0 0 1-9.024-.575c-2.125-5.213-4.713-10.25-6.238-15.7-1.699 5.075-4.125 9.862-6.074 14.838-2.738-.038-5.476-.15-8.213-.263C19.5 65.9 22.6 59.562 25.912 53.312c-2.812-6.438-5.9-12.75-8.8-19.15 2.75-.163 5.5-.325 8.25-.475 1.862 4.888 3.899 9.712 5.438 14.725 1.649-5.312 4.112-10.312 6.225-15.45z",fill:"#fff"}),(0,v.jsx)("path",{d:"M79.975 35h17.5v8.75h-17.5V35zM79.975 48.75h17.5v8.75h-17.5v-8.75zM79.975 62.5h17.5v8.75h-17.5V62.5zM79.975 76.25h17.5V85h-17.5v-8.75z",fill:"#207245"})]});case"ppt":case"pptx":return(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 110.031 107.5",children:[(0,v.jsx)("path",{d:"M57.893 0h7.087v11.25c13.363.075 26.738-.138 40.088.062 2.875-.275 5.125 1.962 4.838 4.837.212 23.35-.05 46.712.125 70.075-.125 2.525.25 5.325-1.2 7.562-1.825 1.325-4.2 1.15-6.338 1.25-12.5-.062-25-.037-37.513-.037v12.5h-7.774c-19.05-3.475-38.138-6.65-57.2-10-.013-29.162 0-58.325 0-87.475C19.292 6.688 38.58 3.288 57.893 0z",fill:"#d24625"}),(0,v.jsx)("path",{d:"M64.98 15h41.25v76.25H64.98v-10h30v-5h-30V70h30v-5H64.993c-.013-2.45-.013-4.9-.024-7.35 4.95 1.537 10.587 1.5 15.012-1.476 4.788-2.837 7.288-8.25 7.7-13.65-5.487-.038-10.975-.025-16.45-.025-.012-5.438.062-10.875-.112-16.3-2.05.4-4.1.825-6.138 1.262V15z",fill:"#fff"}),(0,v.jsx)("path",{d:"M73.743 23.587c8.688.4 15.987 7.712 16.45 16.375-5.488.063-10.975.038-16.463.038 0-5.475-.012-10.95.013-16.413z",fill:"#d24625"}),(0,v.jsx)("path",{d:"M20.055 33.025c6.788.325 15.013-2.688 20.638 2.4 5.388 6.538 3.963 18.562-4.025 22.476-2.837 1.449-6.087 1.25-9.175 1.149-.013 4.888-.024 9.775-.013 14.663a1323.27 1323.27 0 0 0-7.438-.625c-.112-13.351-.136-26.713.013-40.063z",fill:"#fff"}),(0,v.jsx)("path",{d:"M27.48 39.788c2.463-.113 5.513-.562 7.176 1.75 1.425 2.45 1.35 5.675.162 8.2-1.425 2.575-4.65 2.325-7.138 2.625-.263-4.188-.237-8.376-.2-12.575z",fill:"#d24625"})]});default:return null}};(0,l.useEffect)((function(){var e=0===Te.length||Te.some((function(e){return e.isUploading}));Qe(e);var t=0===Te.filter((function(e){return e.isImage})).length||Te.some((function(e){return e.isUploading}));$e(t)}),[Te]);var Rt=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(t),n=(0,u.JU)(i.RZ,"expertApplications",r.uid),e.next=4,(0,u.r7)(n,{photoURL:t});case 4:(0,h.ck)(r,{photoURL:t}).then((function(){console.log("Profile photo updated successfully")})).catch((function(e){console.error("Error updating profile photo:",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){J({text:"",type:""})},Ft=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var t,n,s,a,c,l,d,h,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=(0,u.JU)(i.RZ,"expertApplications",r.uid),e.next=6,(0,u.QT)(t);case 6:if(!(n=e.sent).exists()){e.next=22;break}return s=n.data(),a=s.approved||!1,c=s.customURL||!1,l=s.points||0,d=(0,u.JU)(i.RZ,"userProfiles",r.uid),e.next=15,(0,u.oe)(d);case 15:return h=i.I8.currentUser,p=h.photoURL,e.next=19,(0,u.pl)(t,{displayName:"".concat(k," ").concat(Z),email:r.email,mobileNumber:document.getElementById("inputMobileNumber").value,occupation:document.getElementById("inputExpertise").value,address:document.getElementById("inputAddress").value,city:document.getElementById("inputCity").value,county:document.getElementById("inputCounty").value,postcode:document.getElementById("inputPostcode").value,description:document.getElementById("inputDescription").value,photoURL:p,approved:a,customURL:c,keywords:Je,points:l,labels:ze});case 19:R(null),J({text:"Profile updated successfully",type:"success"}),setTimeout((function(){return At()}),3e3);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(2),J({text:"Error updating profile: ".concat(e.t0.message),type:"error"}),setTimeout((function(){return At()}),3e3);case 28:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=i.I8.onAuthStateChanged(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var r,n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return g(t),r=(0,u.JU)(i.RZ,"expertApplications",t.uid),e.next=5,(0,u.QT)(r);case 5:(n=e.sent).exists()&&(s=n.data(),Ee(s.keywords||[]),Re(s.labels||""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]);var Bt=function(e){var t=(0,s.Z)(Je);t.splice(e,1),Ve(t)},Dt=function(e){var t=(0,s.Z)(Se);t.splice(e,1),Ee(t)},It=function(){console.log("Image clicked"),De(!0)},Pt=function(){document.body.style.overflow=""},Jt=function(e){e.preventDefault(),rt(!0)},Vt=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,a,c,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),pt.trim()&&Nt.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,kt(!0),n=pt.startsWith("http://")||pt.startsWith("https://")?pt:"https://".concat(pt),a=(0,u.hJ)(i.RZ,"expertApplications/".concat(r.uid,"/links")),e.next=9,(0,u.ET)(a,{url:n,description:Nt});case 9:c=e.sent,l={id:c.id,url:n,description:Nt},gt([].concat((0,s.Z)(vt),[l])),mt(""),Zt(""),ut({type:"success",message:"Link added successfully!",context:"links"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("Error adding link:",e.t0),ut({type:"error",message:"Error adding link. Please try again."});case 21:return e.prev=21,kt(!1),e.finish(21);case 24:setTimeout((function(){ut(null)}),3e3);case 25:case"end":return e.stop()}}),e,null,[[3,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,n){var s,a,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,kt(!0),s=vt[n].id,a=(0,u.JU)(i.RZ,"expertApplications/".concat(r.uid,"/links"),s),e.next=7,(0,u.oe)(a);case 7:c=vt.filter((function(e,t){return t!==n})),gt(c),ut({type:"success",message:"Link removed successfully!",context:"links"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error removing link:",e.t0),ut({type:"error",message:"Error removing link. Please try again."});case 16:return e.prev=16,kt(!1),e.finish(16);case 19:setTimeout((function(){ut(null)}),3e3);case 20:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t,r){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:"profile-container",children:[(0,v.jsx)("div",{className:"container"}),(0,v.jsx)("div",{className:"profile-section",children:(0,v.jsx)("div",{className:"content profile-content ",children:(0,v.jsxs)("div",{className:"row g-3",children:[(0,v.jsx)("div",{className:"card-profile"}),(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsxs)("div",{className:"Profile-image position-relative",children:[!H&&E&&(0,v.jsxs)("div",{className:"position-relative",children:[(0,v.jsx)("img",{src:E,alt:"User Profile",className:"user-avatar large-avatar mb-3",onError:function(){return T(!0)},onClick:It,style:{cursor:"pointer"}}),(0,v.jsx)("div",{className:"svg-icon",onClick:It,children:(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:2,stroke:"white",className:"w-6 h-6",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]}),H&&(0,v.jsxs)("div",{className:"position-relative",children:[(0,v.jsx)("img",{src:"".concat("","/images/arts/user.webp"),alt:"Custom 404 Image",className:"user-avatar large-avatar rounded-circle mb-3",onClick:It,style:{cursor:"pointer"}}),(0,v.jsxs)("div",{className:"px-3",children:[(0,v.jsx)("div",{className:"card-title",children:"".concat(k," ").concat(Z)}),(0,v.jsx)("div",{className:"fw-normal card-subtitle mb-4 h6",children:pe})]})]})]}),(0,v.jsxs)("div",{className:"px-3",children:[(0,v.jsx)("div",{className:"card-title",children:"".concat(k," ").concat(Z)}),(0,v.jsx)("div",{className:"text-muted card-subtitle h6",children:pe})]}),(0,v.jsxs)("div",{children:["error"===B.type&&(0,v.jsx)("p",{className:"fw-light",style:{color:"red"},children:B.text}),"success"===B.type&&(0,v.jsx)("p",{className:"fw-light",style:{color:"green"},children:B.text}),"progress"===B.type&&(0,v.jsx)("p",{className:"fw-light",style:{color:"gray"},children:B.text})]})]}),(0,v.jsx)("h3",{children:"My Profile"}),(0,v.jsx)("hr",{}),(0,v.jsx)("form",{className:"file-upload",children:(0,v.jsxs)("div",{className:"row mb-4 gx-4",children:[(0,v.jsx)("div",{className:"col-xl-12 col-12",children:(0,v.jsx)("div",{className:"card-body card-profile",children:(0,v.jsxs)("div",{className:"row g-3",children:[(0,v.jsxs)("div",{className:"col-md-8",children:[(0,v.jsx)("h4",{className:"mb-4",children:"General information"}),(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"row g-3",children:[(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"First Name *"}),(0,v.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"First name",value:k,onChange:function(e){return b(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,v.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"Last name",value:Z,onChange:function(e){return L(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Email *"}),(0,v.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"inputEmail4",value:r?r.email:"",readOnly:!0,style:{pointerEvents:"none"}})]}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"Mobile number *"}),(0,v.jsx)("input",{id:"inputMobileNumber",type:"text",className:"form-control form-control-lg",placeholder:"Enter your Phone number","aria-label":"Phone number",value:ie,onChange:function(e){return ue(e.target.value)}})]}),(0,v.jsxs)("div",{className:"col-md-12",children:[(0,v.jsx)("label",{className:"form-label",children:"Role/Expertise *"}),(0,v.jsx)("input",{id:"inputExpertise",type:"text",className:"form-control form-control-lg",placeholder:"Enter your role/expertise","aria-label":"your Role",value:pe,onChange:function(e){return me(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,v.jsxs)("div",{className:"col-md-12",children:[(0,v.jsx)("label",{className:"form-label",children:"Description of Expertise"}),(0,v.jsx)("textarea",{id:"inputDescription",type:"text",className:"form-control",rows:"4",placeholder:"Enter a brief description of your expertise or how you can help",value:we,onChange:function(e){return ke(e.target.value)},style:{resize:"none"}})]})]})})]}),(0,v.jsx)("div",{className:"col-md-4",children:(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label",children:"Categories"}),(0,v.jsxs)("ul",{className:"listcard expert-listcard",children:[(0,v.jsxs)("li",{className:"form-check expert-form-check ",children:[(0,v.jsx)("input",{type:"radio",className:"form-check-input listboxes ",id:"jobSuccess90",name:"jobSuccess",onChange:function(){return Re("Computer")},checked:"Computer"===ze}),(0,v.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Computer",(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,v.jsxs)("li",{className:"form-check expert-form-check",children:[(0,v.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",name:"jobSuccess",checked:"Sport"===ze,onChange:function(){return Re("Sport")}}),(0,v.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Sport",(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,v.jsxs)("li",{className:"form-check expert-form-check",children:[(0,v.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",name:"jobSuccess",checked:"Food"===ze,onChange:function(){return Re("Food")}}),(0,v.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Food",(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,v.jsxs)("li",{className:"form-check expert-form-check",children:[(0,v.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",checked:"Health"===ze,name:"jobSuccess",onChange:function(){return Re("Health")}}),(0,v.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Health",(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,v.jsxs)("li",{className:"form-check expert-form-check",children:[(0,v.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",checked:"Work"===ze,name:"jobSuccess",onChange:function(){return Re("Work")}}),(0,v.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Work",(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,v.jsxs)("li",{className:"form-check expert-form-check",children:[(0,v.jsx)("input",{type:"radio",className:"form-check-input listboxes",checked:"Hobbies"===ze,id:"jobSuccess90",name:"jobSuccess",onChange:function(){return Re("Hobbies")}}),(0,v.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Hobbies",(0,v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]})]})]})})]})})}),(0,v.jsxs)("div",{className:"card-body card-profile",children:[(0,v.jsxs)("div",{className:"link-section",children:[(0,v.jsx)("h4",{children:"Links"}),(0,v.jsxs)("div",{className:"link-container",children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter link URL",className:"form-control",value:pt,onChange:function(e){return mt(e.target.value)}}),(0,v.jsx)("input",{type:"text",placeholder:"Enter link description",className:"form-control",value:Nt,onChange:function(e){return Zt(e.target.value)}}),(0,v.jsx)("button",{className:"btn btn-primary mt-2 mb-2",onClick:function(e){return Vt(e)},children:"Add Link"})]}),(0,v.jsx)("div",{className:"links-list",children:vt.map((function(e,t){return(0,v.jsxs)("div",{className:"link-item",children:[(0,v.jsxs)("div",{className:"links-container",children:[(0,v.jsx)("div",{className:"url-container",children:(0,v.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url.replace(/^https?:\/\//,"")})}),e.description&&(0,v.jsx)("div",{className:"description-container",children:e.description})]}),(0,v.jsx)("button",{className:"btn remove-link",onClick:function(e){return Wt(e,t)},children:"\u274c"})]},t)}))}),it&&(0,v.jsx)("div",{className:"alert alert-".concat(it.type),role:"alert",children:it.message})]}),(0,v.jsx)("h4",{children:"File Gallery"}),(0,v.jsx)("div",{className:"upload-container-profile ".concat(tt?"drag-over-profile":""),onDragEnter:Jt,onDragOver:Jt,onDragLeave:function(e){e.preventDefault(),rt(!1)},onDrop:function(e){e.preventDefault(),rt(!1);var t=e.dataTransfer.files;Lt(t)},children:(0,v.jsxs)("label",{htmlFor:"file-upload-profile",className:"upload-label-profile",children:[(0,v.jsx)("input",{id:"file-upload-profile",type:"file",className:"upload-field-profile",onChange:function(e){return Lt(e.target.files)},multiple:!0}),(0,v.jsxs)("div",{className:"upload-wrapper",children:[(0,v.jsx)("div",{className:"upload-icon-profile",children:(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#7EA0D6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"75",width:"75",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 12l-3-3m0 0l-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,v.jsxs)("div",{className:"upload-text-profile",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"choosefile mt-2",children:"Choose file"})," ","or"," "]}),(0,v.jsx)("div",{className:"draghere",children:"drag here"})]})]})]})}),ot&&(0,v.jsx)("div",{className:"alert alert-".concat(ot.type),role:"alert",children:ot.message})]}),Ke?(0,v.jsx)(f.Z,{}):(0,v.jsx)(v.Fragment,{children:Te.some((function(e){return!e.isImage&&e.url}))&&(0,v.jsx)("div",{className:"carousel-container mb-4",children:(0,v.jsx)("div",{className:"gallery-container",children:Te.map((function(e,t){return!e.isImage&&e.url?(0,v.jsxs)("div",{className:"gallery-item",children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter title",className:"form-control form-control-lg borderradius",value:e.title||"",onChange:function(e){return Et(e.target.value,t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),Ut(t))}}),e.url&&(0,v.jsx)("div",{className:"file-container",children:(0,v.jsx)("div",{className:"file-icon",children:zt(e.url)})}),(0,v.jsx)("textarea",{type:"text",placeholder:"Enter description",className:"form-control form-control-lg borderradius",value:e.description,onChange:function(e){return Mt(e.target.value,t)}}),(0,v.jsxs)("div",{className:"button-container-profile mt-2",children:[(0,v.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),Ut(t)},children:"Upload Description"}),(0,v.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),St(t)},children:"\u274c Remove"})]})]},t):null}))})})}),Te.some((function(e){return e.isImage}))&&(0,v.jsx)("div",{className:"carousel-container",children:(0,v.jsx)(x.Z,{"data-bs-theme":"dark",children:Te.filter((function(e){return e.isImage})).map((function(e,t){return(0,v.jsxs)(x.Z.Item,{children:[e.isLoading?(0,v.jsx)("div",{className:"image-loading-container",children:(0,v.jsx)(f.Z,{})}):(0,v.jsx)("img",{className:"carousel-image",src:e.url,alt:"Gallery ".concat(t+1)}),(0,v.jsxs)(x.Z.Caption,{children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter title",className:"form-control form-control-lg",value:e.title||"",onChange:function(t){return Et(t.target.value,e.id)}}),(0,v.jsx)("textarea",{type:"text",placeholder:"Enter description",className:"form-control form-control-lg mb-2",value:e.description,onChange:function(t){return Mt(t.target.value,e.id)}}),(0,v.jsxs)("div",{className:"button-container-profile mt-2",children:[(0,v.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),Ut(t)},children:"Upload Changes"}),(0,v.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),St(t)},children:"Remove"})]})]})]},e.id)}))})}),(0,v.jsxs)("div",{className:"col-xl-12 col-12",children:[(0,v.jsxs)("div",{className:"pt-5 rounded",children:[(0,v.jsx)("div",{className:"card-body card-profile",children:(0,v.jsxs)("div",{className:"row g-3",children:[(0,v.jsx)("h4",{className:"mb-4 mt-0",children:"Address"}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"Address"}),(0,v.jsx)("input",{id:"inputAddress",type:"text",className:"form-control form-control-lg",placeholder:"Enter your home address",value:G,onChange:function(e){return K(e.target.value)}})]}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"City"}),(0,v.jsx)("input",{id:"inputCity",type:"text",className:"form-control form-control-lg",placeholder:"Enter City",value:Y,onChange:function(e){return $(e.target.value)}})]}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"County"}),(0,v.jsx)("input",{id:"inputCounty",type:"text",className:"form-control form-control-lg",placeholder:"County",value:te,onChange:function(e){return re(e.target.value)}})]}),(0,v.jsxs)("div",{className:"col-md-6",children:[(0,v.jsx)("label",{className:"form-label",children:"Postcode"}),(0,v.jsx)("input",{id:"inputPostcode",type:"text",className:"form-control form-control-lg",placeholder:"Postcode",value:oe,onChange:function(e){return ae(e.target.value)}})]})]})}),(0,v.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,v.jsxs)("div",{className:"row g-3",children:[(0,v.jsx)("h5",{className:"mb-2",children:"Choose 5 Keywords"}),(0,v.jsx)("p",{children:"we recommend choosing keywords that you think will get you highest in the search results"}),(0,v.jsx)("div",{className:"me-3",children:(0,v.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:window.innerWidth<=600?"Add keywords here":"Type a keyword and press Space or Enter to add",value:Ne,onChange:function(e){return Ze(e.target.value)},onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||""===Ne.trim()||(e.preventDefault(),function(){if(""!==Ne.trim()&&Je.length<6){var e=[].concat((0,s.Z)(Je),[Ne.trim()]);Ve(e),Ze("")}}())},disabled:Je.length+Se.length>=5})}),(0,v.jsxs)("div",{className:"keywords-list",children:[Je.map((function(e,t){return(0,v.jsxs)("div",{onClick:function(){return Bt(t)},className:"keyword-container btn mx-1  d-inline-flex align-items-center  mb-2",children:[e,(0,v.jsx)("svg",{onClick:function(){return Bt(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Se.map((function(e,t){return(0,v.jsxs)("div",{onClick:function(){return Dt(t)},className:"keyword-container btn mx-1  d-inline-flex align-items-center  mb-2",children:[e,(0,v.jsx)("svg",{onClick:function(){return Dt(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Je.length+Se.length>=5&&(0,v.jsx)("p",{className:"message",children:"Keyword limit reached. You cannot add more keywords."})]})]})})]}),(0,v.jsxs)("div",{className:"mt-3",children:[(0,v.jsx)("button",{type:"button",className:"btn btn-primary  mb-4",onClick:Ft,children:"Update profile"}),(0,v.jsxs)("div",{children:["error"===P.type&&(0,v.jsx)("p",{className:"fw-light",style:{color:"red"},children:P.text}),"success"===P.type&&(0,v.jsx)("p",{className:"fw-light",style:{color:"green"},children:P.text})]})]})]})]})})]})})}),Be&&(0,v.jsx)(m.Z,{setPhotoURL:M,setImageLoadError:T,closeModal:function(){De(!1),Pt()},photoURL:E,handleImageUpload:Rt,handleImageError:function(){T(!0)},user:r,collectionName:"expertApplications"})]})}},7386:function(e,t,r){var n=r(4165),s=r(5861),o=r(9439),a=r(2791),c=r(7005),l=r(276),i=r(2481),u=r(673),d=r(184);t.Z=function(e){var t=e.closeModal,r=e.photoURL,h=e.handleImageUpload,p=e.setPhotoURL,m=e.user,x=e.collectionName,f=(0,a.useState)(r),v=(0,o.Z)(f,2),g=v[0],j=v[1],w=(0,a.useState)(null),k=(0,o.Z)(w,2),b=k[0],y=k[1],N=(0,a.useState)(null),Z=(0,o.Z)(N,2),L=Z[0],C=Z[1],S=(0,a.useRef)(null),E=(0,a.useState)(null),M=(0,o.Z)(E,2),U=(M[0],M[1]),z=(0,a.useState)(!1),R=(0,o.Z)(z,2),A=R[0],F=R[1],B=(0,a.useState)({x:0,y:0}),D=(0,o.Z)(B,2),I=D[0],P=D[1],J=(0,a.useState)(1),V=(0,o.Z)(J,2),W=V[0],H=V[1],T=(0,a.useState)(null),O=(0,o.Z)(T,2),_=O[0],G=O[1],K=(0,a.useState)(!1),Q=(0,o.Z)(K,2),q=Q[0],Y=Q[1],$="".concat("","/images/arts/user.webp");(0,a.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]);var X=function(e){var t=e.target.files[0];if(t){y(t.name);var r=new FileReader;r.onload=function(e){j(e.target.result)},r.readAsDataURL(t)}},ee=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t,o,a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=3;break}return console.error("Crop area not selected"),e.abrupt("return");case 3:return e.prev=3,e.next=6,fetch(g).then((function(e){return e.blob()}));case 6:t=e.sent,o=document.createElement("canvas"),a=o.getContext("2d"),(c=new Image).onload=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.width=_.width,o.height=_.height,a.drawImage(c,_.x,_.y,_.width,_.height,0,0,_.width,_.height),o.toBlob(function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var o,a,c,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=(0,l.iH)(u.tO,"profileImages/".concat(b)),a={contentType:"image/jpeg"},!r||r===$){e.next=7;break}return c=(0,l.iH)(u.tO,r),e.next=7,(0,l.oq)(c);case 7:(d=(0,l.B0)(o,t,a)).on("state_changed",(function(e){}),(function(e){console.error("Upload error:",e)}),(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Jt)(d.snapshot.ref);case 2:if(!(t=e.sent)){e.next=15;break}return e.next=6,(0,i.r7)(L,{photoURL:t});case 6:h(t),F(!0),Y(!0),setTimeout((function(){Y(!1)}),500),setTimeout((function(){F(!1)}),3e3),j(t),G(null),H(1),P({x:0,y:0});case 15:case"end":return e.stop()}}),e)})))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error uploading image:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),"image/jpeg");case 4:case"end":return e.stop()}}),e)}))),c.src=URL.createObjectURL(t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error("Error handling upload:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!m.uid){e.next=5;break}return t="".concat("","/images/arts/user.webp"),e.next=4,(0,i.r7)(L,{photoURL:t});case 4:p(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){S.current=document.createElement("input"),S.current.type="file",S.current.accept="image/*",S.current.addEventListener("change",X);var e=(0,i.JU)(u.RZ,x,m.uid);C(e);var t=(0,i.cf)(e,(function(e){var t;!function(e){j(e)}(null===(t=e.data())||void 0===t?void 0:t.photoURL)}));return function(){return t()}}),[m.uid,x]),(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsxs)("div",{className:"modalcrop",children:[(0,d.jsxs)("div",{className:"top-section",children:[(0,d.jsx)("div",{style:{marginRight:"10px"},children:"Profile image"}),(0,d.jsx)("button",{className:"btn-crop",onClick:t,children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,d.jsx)("div",{className:q?"flash":""})," ",(0,d.jsx)("div",{className:"centerimage",children:g&&(0,d.jsx)(c.ZP,{ref:U,image:g,crop:I,zoom:W,onCropChange:P,onZoomChange:H,onCropComplete:function(e,t){G(t)},cropShape:"round",aspect:1})}),(0,d.jsxs)("div",{className:"button-section",children:[(0,d.jsx)("button",{className:"btn-crop",onClick:function(){return S.current.click()},children:(0,d.jsxs)("div",{className:"button-content",children:[(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),"New Photo"]})}),(0,d.jsxs)("div",{className:"success",children:[(0,d.jsx)("div",{className:"button-container",children:(0,d.jsx)("button",{className:"btn-crop",onClick:ee,children:(0,d.jsxs)("div",{className:"button-content",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),"Upload Photo"]})})}),A&&(0,d.jsx)("div",{className:"upload-success-icon",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#009E60",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})]}),(0,d.jsx)("button",{className:"btn-crop",onClick:te,children:(0,d.jsxs)("div",{className:"button-content",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),"Delete Photo"]})})]})]})})}}}]);
//# sourceMappingURL=416.5184a08f.chunk.js.map