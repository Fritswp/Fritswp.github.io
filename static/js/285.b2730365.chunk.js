"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[285],{9285:function(e,s,a){a.r(s);var l=a(4942),t=a(1413),r=a(4165),n=a(5861),c=a(9439),o=a(2791),i=a(673),d=a(2481),m=a(7689),u=a(1087),p=a(184);s.default=function(){var e=(0,m.UO)().customURL,s=(0,o.useState)(null),a=(0,c.Z)(s,2),x=a[0],h=(a[1],(0,o.useState)("")),v=(0,c.Z)(h,2),f=v[0],j=v[1],N=(0,o.useState)(""),b=(0,c.Z)(N,2),y=b[0],Z=b[1],g=(0,o.useState)(null),w=(0,c.Z)(g,2),U=w[0],E=w[1],R=(0,o.useState)(null),S=(0,c.Z)(R,2),C=(S[0],S[1],(0,o.useState)({text:"",type:""})),k=(0,c.Z)(C,2),P=(k[0],k[1]),O=(0,o.useState)(!1),L=(0,c.Z)(O,2),I=L[0],M=(L[1],(0,o.useState)("")),J=(0,c.Z)(M,2),z=J[0],A=J[1],Q=(0,o.useState)(""),T=(0,c.Z)(Q,2),D=T[0],F=T[1],B=(0,o.useState)(""),H=(0,c.Z)(B,2),_=H[0],G=H[1],V=(0,o.useState)(""),q=(0,c.Z)(V,2),K=q[0],W=q[1],X=(0,o.useState)(""),Y=(0,c.Z)(X,2),$=Y[0],ee=Y[1],se=(0,o.useState)(""),ae=(0,c.Z)(se,2),le=(ae[0],ae[1]),te=(0,o.useState)(""),re=(0,c.Z)(te,2),ne=re[0],ce=re[1],oe=(0,m.s0)(),ie=(0,o.useState)(null),de=(0,c.Z)(ie,2),me=de[0],ue=de[1],pe=(0,o.useState)(null),xe=(0,c.Z)(pe,2),he=xe[0],ve=xe[1],fe=(0,o.useState)({}),je=(0,c.Z)(fe,2),Ne=(je[0],je[1]),be=(0,o.useState)(!1),ye=(0,c.Z)(be,2),Ze=(ye[0],ye[1]);(0,o.useEffect)((function(){var s=function(){var s=(0,n.Z)((0,r.Z)().mark((function s(){var a,l,t,n;return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,e){s.next=4;break}return console.log("Custom URL is not defined."),s.abrupt("return");case 4:return a=(0,d.IO)((0,d.hJ)(i.RZ,"userProfiles"),(0,d.ar)("customURL","==",e)),s.next=7,(0,d.PL)(a);case 7:(l=s.sent).empty||(t=l.docs[0].data(),j(t.displayName.split(" ")[0]||""),Z(t.displayName.split(" ")[1]||""),A(t.address||""),F(t.city||""),G(t.county||""),W(t.postcode||""),ee(t.mobileNumber||""),ce(t.role||""),le(t.email||""),E(t.photoURL||null),n=l.docs[0].id,ve(n)),s.next=13;break;case 11:s.prev=11,s.t0=s.catch(0);case 13:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(){return s.apply(this,arguments)}}();e&&s()}),[e]);var ge=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var s,a,l,n,o,m,u,p,x,h,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=i.I8.currentUser.uid,a=(0,d.JU)(i.RZ,"userProfiles",s),l=(0,d.JU)(i.RZ,"expertApplications",s),e.next=6,Promise.all([(0,d.QT)(a),(0,d.QT)(l)]);case 6:n=e.sent,o=(0,c.Z)(n,2),m=o[0],u=o[1],p={},m.exists()&&(x=m.data(),p=x.contacts||{}),u.exists()&&(h=u.data(),v=h.contacts||{},p=(0,t.Z)((0,t.Z)({},p),v)),Ne(p),he&&p[he]?ue(!0):ue(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error fetching user contacts:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){e&&he&&ge()}),[e,he]);var we=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var s,a,n,o,m,u,p,x,h,v,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ze(!0),s=i.I8.currentUser.uid,!he){e.next=21;break}return a=(0,d.JU)(i.RZ,"userProfiles",s),n=(0,d.JU)(i.RZ,"expertApplications",s),e.next=8,Promise.all([(0,d.QT)(a),(0,d.QT)(n)]);case 8:return o=e.sent,m=(0,c.Z)(o,2),u=m[0],p=m[1],x={},u.exists()&&(h=u.data(),x=h.contacts||{}),p.exists()&&(v=p.data(),x=v.contacts||{}),f=x?(0,d.JU)(i.RZ,"userProfiles",s):(0,d.JU)(i.RZ,"expertApplications",s),e.next=18,(0,d.pl)(f,{contacts:(0,t.Z)((0,t.Z)({},x),{},(0,l.Z)({},he,!0))},{merge:!0});case 18:ue(!0),e.next=22;break;case 21:console.log("Other User UID not found");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error connecting:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"profile-container",children:[(0,p.jsx)("div",{className:"profile-intro-section",children:(0,p.jsx)("div",{className:"container"})}),(0,p.jsx)("div",{className:"profile-section",children:(0,p.jsx)("div",{className:"content profile-content ",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"card-profile"}),(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsx)("div",{className:"card-body",children:(0,p.jsxs)("div",{className:"d-flex",children:[!I&&U&&(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:U,alt:"User Profile",className:"user-avatar large-avatar mb-3"}),(0,p.jsxs)("div",{className:"px-3",children:[(0,p.jsx)("div",{className:"card-title h5",children:"".concat(f," ").concat(y)}),(0,p.jsx)("div",{className:"text-muted  card-subtitle h6",children:ne})]})]}),I&&(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:"".concat("","/images/arts/user.webp"),alt:"Custom 404 Image",className:"user-avatar large-avatar rounded-circle mb-3"}),(0,p.jsxs)("div",{className:"px-3",children:[(0,p.jsx)("div",{className:"card-title",children:"".concat(f," ").concat(y)}),(0,p.jsx)("div",{className:"fw-normal card-subtitle mb-4 h6",children:ne})]})]})]})}),(0,p.jsxs)("div",{className:"d-flex responsive-buttons",children:[(0,p.jsx)(u.rU,{to:"/chat",children:(0,p.jsxs)("button",{type:"button",className:"me-4 btn btn-primary btn-sm rounded-pill pt-2 pb-2",onClick:function(){var s=(0,d.IO)((0,d.hJ)(i.RZ,"userProfiles"),(0,d.ar)("customURL","==",e));(0,d.PL)(s).then((function(s){if(s.empty)console.log("Custom URL not found:",e);else{var a=s.docs[0].id;ve(a);var l=i.I8.currentUser.uid;oe("/chat",{state:{currentUserUID:l,otherUserUID:a}})}})).catch((function(e){console.error("Error fetching data:",e),P({text:"Error accessing chat",type:"error"})}))},children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"25",className:"me-2 svg-inline--fa ",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M4.804 21.644A6.707 6.707 0 006 21.75a6.721 6.721 0 003.583-1.029c.774.182 1.584.279 2.417.279 5.322 0 9.75-3.97 9.75-9 0-5.03-4.428-9-9.75-9s-9.75 3.97-9.75 9c0 2.409 1.025 4.587 2.674 6.192.232.226.277.428.254.543a3.73 3.73 0 01-.814 1.686.75.75 0 00.44 1.223zM8.25 10.875a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zM10.875 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875-1.125a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z",clipRule:"evenodd"})}),"Message"]})}),null!==me&&(0,p.jsxs)("button",{type:"button",className:"btn btn-secondary btn-sm rounded-pill pt-2 pb-2",onClick:we,disabled:me,children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"25",className:"me-2 svg-inline--fa ",children:(0,p.jsx)("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"})}),(0,p.jsx)("span",{className:"me-2",children:me?"Connected":"Connect"})]})]})]}),(0,p.jsx)("div",{className:"my-4",children:(0,p.jsxs)("h3",{children:["Profile of ",(0,p.jsx)("span",{children:" "}),"".concat(f," ").concat(y)]})}),(0,p.jsx)("form",{className:"file-upload",children:(0,p.jsx)("div",{className:"row mb-4 gx-4",children:(0,p.jsx)("div",{className:"col-xl-8 col-12",children:(0,p.jsx)("div",{className:"",children:(0,p.jsxs)("div",{className:"card-body card-profile",children:[(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsx)("h4",{className:"mb-4",children:"General information"}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"First Name"}),(0,p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"First name",value:f,readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Last Name "}),(0,p.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"Last name",value:y,readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Email "}),(0,p.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"inputEmail4",value:x?x.email:"",readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Mobile number "}),(0,p.jsx)("input",{id:"inputMobileNumber",type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"Phone number",value:$,readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Role/Expertise "}),(0,p.jsx)("input",{id:"inputRole",type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"your Role",value:ne,onChange:function(e){return ce(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]})]}),(0,p.jsx)("div",{className:"py-5 rounded mt-4",children:(0,p.jsxs)("div",{className:"row g-3",children:[(0,p.jsx)("h4",{className:"mb-4 mt-0",children:"Address"}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Address"}),(0,p.jsx)("input",{id:"inputAddress",type:"text",className:"form-control form-control-lg",placeholder:"",value:z,readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"City"}),(0,p.jsx)("input",{id:"inputCity",type:"text",className:"form-control form-control-lg",placeholder:"",value:D,readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"County"}),(0,p.jsx)("input",{id:"inputCounty",type:"text",className:"form-control form-control-lg",placeholder:"",value:_,readOnly:!0,style:{pointerEvents:"none"}})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Postcode"}),(0,p.jsx)("input",{id:"inputPostcode",type:"text",className:"form-control form-control-lg",placeholder:"",value:K,readOnly:!0,style:{pointerEvents:"none"}})]})]})})]})})})})})]})})})]})}}}]);
//# sourceMappingURL=285.b2730365.chunk.js.map