"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[993],{9993:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var s,r=n(3433),i=n(4165),c=n(5861),a=n(9439),o=n(673),l=n(2481),u=n(7592),d=n(2383),h=n(2791),p=n(184),m=function(e){var t=e.selectedSession,n=e.closeShareChat,s=e.resetChat,r=e.closeChatHistoryOnMobile,m=(0,h.useState)([]),x=(0,a.Z)(m,2),f=x[0],v=x[1],w=(0,h.useState)(!0),g=(0,a.Z)(w,2),j=g[0],b=g[1],k=(0,h.useRef)(null);(0,h.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n,s,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=10;break}return n=(0,l.hJ)(o.RZ,"users",o.I8.currentUser.uid,"discussions",t,"messages"),e.next=5,(0,l.PL)((0,l.IO)(n,(0,l.Xo)("createTime")));case 5:s=e.sent,r=s.docs.map((function(e){var t=e.data();return{prompt:t.prompt,response:t.response}})),v(r),b(!1),console.log("Fetched messages for discussionId:",t,r);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching shared chat messages:",e.t0),b(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,h.useEffect)((function(){var e=function(e){k.current&&!k.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n]);var y=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=(0,l.JU)(o.RZ,"users",o.I8.currentUser.uid,"discussions",t),e.next=4,(0,l.oe)(c);case 4:console.log("Discussion deleted:",t),n(),s(),startNewChat(),r(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error deleting discussion:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{ref:k,className:"blurred-background",children:(0,p.jsxs)("div",{className:"white-box-chathistory",children:[(0,p.jsx)("div",{className:"go-back-svg",children:(0,p.jsx)("button",{onClick:n,children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,color:"black",stroke:"currentColor",className:"w-6 h-6",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})}),(0,p.jsx)("h2",{children:"Share link to Chat"}),(0,p.jsx)("div",{className:"divider "}),(0,p.jsx)("p",{children:"Messages you send after creating your link won't be shared. Anyone with the URL will be able to view the shared chat."}),(0,p.jsx)("div",{className:"shared-chat scroll-cat mb-5",children:j?(0,p.jsx)(d.Z,{}):f.map((function(e,t){return(0,p.jsxs)("div",{className:"chat-message",children:[(0,p.jsx)("strong",{children:(0,p.jsx)(u.U,{children:e.prompt})}),(0,p.jsx)(u.U,{children:e.response}),(0,p.jsx)("div",{className:"divider "})]},t)}))}),(0,p.jsx)("div",{className:"delete-svg",children:(0,p.jsx)("button",{className:"delete-button",onClick:y,children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#212529",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"25",width:"25",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})})]})})},x=function(e){var t=e.isOpen,n=e.toggleOpen,s=e.onSessionClick,r=e.resetChatMessages,u=e.selectedSession,x=e.setShowGreeting,f=(0,h.useState)(!1),v=(0,a.Z)(f,2),w=v[0],g=v[1],j=(0,h.useState)(!1),b=(0,a.Z)(j,2),k=(b[0],b[1]),y=(0,h.useRef)(null),Z=(0,h.useState)([]),N=(0,a.Z)(Z,2),L=(N[0],N[1]),S=(0,h.useState)(!1),C=(0,a.Z)(S,2),E=C[0],U=C[1],I=(0,h.useState)(!0),T=(0,a.Z)(I,2),R=T[0],M=T[1],D=(0,h.useState)(null),H=(0,a.Z)(D,2),A=H[0],O=H[1],W=function(e){var t=new Date;t.setHours(0,0,0,0);var n=new Date;n.setDate(n.getDate()-1),n.setHours(0,0,0,0);var s={today:[],yesterday:[],previously:[]};return e.forEach((function(e){var r,i=null!==(r=e.timestamp)&&void 0!==r&&r.seconds?new Date(1e3*e.timestamp.seconds):null;i&&(i.setHours(0,0,0,0),i.getTime()===t.getTime()?s.today.push(e):i.getTime()===n.getTime()?s.yesterday.push(e):s.previously.push(e))})),s},B=(0,h.useState)({today:[],yesterday:[],previously:[]}),J=(0,a.Z)(B,2),P=J[0],q=J[1];(0,h.useEffect)((function(){t&&F()}),[t]);var F=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,s,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=o.I8.currentUser)){e.next=9;break}return n=t.uid,s=(0,l.IO)((0,l.hJ)(o.RZ,"users",n,"discussions"),(0,l.Xo)("timestamp","desc")),r=(0,l.cf)(s,(function(e){var t=e.docs.map((function(e){return{id:e.id,timestamp:e.data().timestamp}}));if(L(t),q(W(t)),t.length>0)t[0].id;M(!1)})),e.abrupt("return",(function(){return r()}));case 9:M(!1);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),M(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),z=function(){r(),s(null),x(!1)};(0,h.useEffect)((function(){t&&F()}),[t]);var V=function(){n(),g(!w)},G=function(e){!y.current||y.current.contains(e.target)||"svg"===e.target.tagName&&E||(n(),g(!1),k(!1))};(0,h.useEffect)((function(){var e=window.innerWidth<=768;return t&&e?document.addEventListener("mousedown",G):document.removeEventListener("mousedown",G),function(){document.removeEventListener("mousedown",G)}}),[t,E]);var Q=function(){window.innerWidth<=768&&(n(),g(!1),k(!1))};return(0,h.useEffect)((function(){t&&F()}),[t]),(0,p.jsxs)("div",{ref:y,className:"chatbot-history ".concat(t?"chatbot-history-open":""),children:[(0,p.jsx)("span",{className:"svg-chatbot-history ".concat(t?"svg-chatbot-history-rotate-icon":""),"aria-hidden":"true",onClick:V,children:(0,p.jsx)("svg",{width:"8",height:"16",viewBox:"0 0 8 16",children:(0,p.jsx)("path",{d:"M0.772126 1.19065L0.153407 1.80934C0.00696973 1.95578 0.00696973 2.19322 0.153407 2.33969L5.80025 8L0.153407 13.6603C0.00696973 13.8067 0.00696973 14.0442 0.153407 14.1907L0.772126 14.8094C0.918563 14.9558 1.156 14.9558 1.30247 14.8094L7.84666 8.26519C7.99309 8.11875 7.99309 7.88131 7.84666 7.73484L1.30247 1.19065C1.156 1.04419 0.918563 1.04419 0.772126 1.19065Z"})})}),t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"chatbot-previous",children:[(0,p.jsx)("div",{style:{display:"flex"},children:(0,p.jsxs)("button",{className:"chat-history-btn",onClick:function(){z(),window.innerWidth<=768&&V()},children:[(0,p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)("img",{src:"".concat("","/images/arts/TIO.webp"),alt:"TIO illustration",className:"me-1 very-small-avatar rounded-circle"}),(0,p.jsx)("p",{className:"font-weight-bold mb-0",style:{color:"white",marginLeft:"5px"},children:"Let's Chat"})]}),(0,p.jsx)("div",{className:"ms-auto",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",width:"18",height:"18",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})]})}),(0,p.jsx)("div",{className:"content-container",children:R?(0,p.jsx)("div",{className:"loading-container",children:(0,p.jsx)(d.Z,{})}):(0,p.jsxs)(p.Fragment,{children:[P.today.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{className:"text-sm text-muted mt-3 no-mb",children:"Today:"}),(0,p.jsx)("ul",{className:"fade-ulist no-scroll",children:P.today.map((function(e){return(0,p.jsxs)("li",{className:"fade-list".concat(e.id===u?" selected-session":""),onClick:function(){s(e.id),window.innerWidth<=768&&V()},children:[(0,p.jsx)("div",{className:"text-container",children:e.id}),(0,p.jsxs)("div",{className:"svg-chathistory-container",children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:function(t){t.stopPropagation(),O(e.id),U(!0)},children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,p.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,p.jsx)("circle",{cx:"5",cy:"12",r:"1"})]}),(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",width:"18",height:"18",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"})})]})]},e.id)}))})]}),P.yesterday.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{className:"text-sm text-muted mt-3 no-mb",children:"Yesterday:"}),(0,p.jsx)("ul",{className:"fade-ulist no-scroll",children:P.yesterday.map((function(e){return(0,p.jsxs)("li",{className:"fade-list".concat(e.id===u?" selected-session":""),onClick:function(){s(e.id),window.innerWidth<=768&&V()},children:[(0,p.jsx)("div",{className:"text-container",children:e.id}),(0,p.jsxs)("div",{className:"svg-chathistory-container",children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:function(t){t.stopPropagation(),O(e.id),U(!0)},children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,p.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,p.jsx)("circle",{cx:"5",cy:"12",r:"1"})]}),(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",width:"18",height:"18",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"})})]})]},e.id)}))})]}),P.previously.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{className:"text-sm text-muted mt-3 no-mb",children:"Previously:"}),(0,p.jsx)("ul",{className:"fade-ulist no-scroll",children:P.previously.map((function(e){return(0,p.jsxs)("li",{className:"fade-list".concat(e.id===u?" selected-session":""),onClick:function(){s(e.id),window.innerWidth<=768&&V()},children:[(0,p.jsx)("div",{className:"text-container",children:e.id}),(0,p.jsxs)("div",{className:"svg-chathistory-container",children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:function(t){t.stopPropagation(),O(e.id),U(!0)},children:[(0,p.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,p.jsx)("circle",{cx:"19",cy:"12",r:"1"}),(0,p.jsx)("circle",{cx:"5",cy:"12",r:"1"})]}),(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",width:"18",height:"18",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"})})]})]},e.id)}))})]})]})})]}),E&&(0,p.jsx)(m,{selectedSession:A,closeShareChat:function(){U(!1),g(!1),k(!1),z(),Q()},resetChat:r,closeChatHistoryOnMobile:Q})]})]})},f=n(4942),v=n(1413),w=n(7689),g=n(1087),j=function(e){var t=e.isHovered,n=e.displayName,s=e.photoURL,r=e.skills,u=e.description,d=e.otherUserUID,m=e.occupation,x=e.onClose,j=e.selectedSession,b=(0,w.s0)(),k=(0,h.useState)(null),y=(0,a.Z)(k,2),Z=y[0],N=y[1],L=(0,h.useState)(!1),S=(0,a.Z)(L,2),C=S[0],E=S[1],U=(0,h.useState)(!1),I=(0,a.Z)(U,2);I[0],I[1];(0,h.useEffect)((function(){var e=o.I8.onAuthStateChanged((function(e){e?(N(e.uid),console.log("Current User UID in ExpertBox:",e.uid)):(console.error("User is not authenticated in ExpertBox"),N(null))}));return function(){e()}}),[j]);var T=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d&&Z&&j){e.next=3;break}throw new Error("otherUserUID, currentUserUID, or selectedSession is undefined or null");case 3:return t="".concat(Z,"_").concat(d),n=(0,l.JU)((0,l.hJ)(o.RZ,"sharedConversations"),t),e.next=7,(0,l.pl)(n,{selectedSession:j,currentUserUID:Z,otherUserUID:d});case 7:b("/chat",{state:{otherUserUID:d,selectedSession:j,currentUserUID:Z}}),console.log("New document created successfully."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error handling chat button click:",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),R=function(e){"Escape"===e.key&&x()};(0,h.useEffect)((function(){return t&&document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}}),[t]);var M=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,s,r,c,u,h,p,m,x,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=o.I8.currentUser.uid,n=(0,l.JU)(o.RZ,"userProfiles",t),s=(0,l.JU)(o.RZ,"expertApplications",t),e.next=6,Promise.all([(0,l.QT)(n),(0,l.QT)(s)]);case 6:r=e.sent,c=(0,a.Z)(r,2),u=c[0],h=c[1],p={},u.exists()&&(m=u.data(),p=m.contacts||{}),h.exists()&&(x=h.data(),f=x.contacts||{},p=(0,v.Z)((0,v.Z)({},p),f)),d&&p[d]?E(!0):E(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching user contacts:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();(0,h.useEffect)((function(){d&&M()}),[d]);var D=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,s,r,c,u,h,p,m,x,w;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=o.I8.currentUser.uid,!d){e.next=20;break}return n=(0,l.JU)(o.RZ,"userProfiles",t),s=(0,l.JU)(o.RZ,"expertApplications",t),e.next=7,Promise.all([(0,l.QT)(n),(0,l.QT)(s)]);case 7:return r=e.sent,c=(0,a.Z)(r,2),u=c[0],h=c[1],p={},u.exists()&&(m=u.data(),p=m.contacts||{}),h.exists()&&(x=h.data(),p=x.contacts||{}),w=p?(0,l.JU)(o.RZ,"userProfiles",t):(0,l.JU)(o.RZ,"expertApplications",t),e.next=17,(0,l.pl)(w,{contacts:(0,v.Z)((0,v.Z)({},p),{},(0,f.Z)({},d,!0))},{merge:!0});case 17:E(!0),e.next=21;break;case 20:console.log("Other User UID not found");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Error connecting:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();return t&&(0,p.jsxs)("div",{className:"white-box",children:[(0,p.jsx)("div",{className:"go-back-svg go-back-svg-padding",children:(0,p.jsxs)("button",{onClick:x,children:["                  ",(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,color:"black",stroke:"currentColor",className:"w-6 h-6",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,p.jsxs)("h5",{className:"card-title",children:[" ",n]}),(0,p.jsxs)("h5",{className:"card-title",children:["Expertise: ",m]}),(0,p.jsx)("div",{href:s,className:"d-md-inline",children:(0,p.jsx)("img",{src:s,alt:"Profile Photo",className:"searchimage card-img user-avatar large-avatar rounded-circle mb-2 mx-md-auto mx-0 "})}),(0,p.jsxs)("div",{className:"about-container",children:[(0,p.jsx)("h5",{className:"card-title",style:{display:"inline"},children:"About: "}),(0,p.jsx)("p",{style:{display:"inline"},children:u})]}),(0,p.jsxs)("div",{style:{marginBottom:"0.4rem",marginTop:"0.4rem"},children:[(0,p.jsxs)("p",{className:"font-weight-bold mb-0",children:["Skills: ",r.join(", ")]}),r&&r.map((function(e){return(0,p.jsx)("button",{type:"button",className:" containerhover keyword-container mb-2 mx-1 pb-1",children:e},e)}))]}),(0,p.jsx)("div",{}),(0,p.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,p.jsx)(g.rU,{to:"/chat",state:{otherUserUID:d,selectedSession:j},onClick:T,children:(0,p.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm rounded-pill btncard pb-1 mb-2 mx-1",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"25",className:"me-2 svg-inline--fa ",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M4.804 21.644A6.707 6.707 0 006 21.75a6.721 6.721 0 003.583-1.029c.774.182 1.584.279 2.417.279 5.322 0 9.75-3.97 9.75-9 0-5.03-4.428-9-9.75-9s-9.75 3.97-9.75 9c0 2.409 1.025 4.587 2.674 6.192.232.226.277.428.254.543a3.73 3.73 0 01-.814 1.686.75.75 0 00.44 1.223zM8.25 10.875a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zM10.875 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875-1.125a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z",clipRule:"evenodd"})}),(0,p.jsx)("span",{className:"me-2",children:"Message"})]})}),Z!==d&&(0,p.jsxs)("button",{type:"button",className:"btn btn-secondary btn-sm rounded-pill btncard pb-1 mb-2 mx-1",onClick:D,disabled:C,children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"25",className:"me-2 svg-inline--fa ",children:(0,p.jsx)("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"})}),(0,p.jsx)("span",{className:"me-2",children:C?"Connected":"Connect"})]})]})]})},b=n(2624),k=function(e){var t=e.isOpen,n=e.toggleOpen,s=e.selectedTopic,r=e.onExpertsAvailable,l=e.selectedSession,u=(0,h.useState)(!1),m=(0,a.Z)(u,2),x=(m[0],m[1]),f=(0,h.useState)(!1),v=(0,a.Z)(f,2),w=(v[0],v[1]),g=(0,h.useState)([]),k=(0,a.Z)(g,2),y=k[0],Z=k[1],N=(0,h.useRef)(null),L=(0,h.useState)(!1),S=(0,a.Z)(L,2),C=S[0],E=S[1],U=(0,h.useState)(!1),I=(0,a.Z)(U,2),T=I[0],R=I[1],M=(0,h.useState)(null),D=(0,a.Z)(M,2),H=(D[0],D[1]),A=(0,h.useState)(!0),O=(0,a.Z)(A,2),W=O[0],B=O[1],J=(0,h.useState)(!1),P=(0,a.Z)(J,2),q=P[0],F=P[1],z=(0,h.useState)([]),V=(0,a.Z)(z,2),G=(V[0],V[1]),Q=function(){R(!1),F(!1),E(null)},K=function(e){E(e)},X=function(){q||T||(R(!1),E(null))};(0,h.useEffect)((function(){var e=window.innerWidth<=768;return e||(document.addEventListener("mouseenter",K),document.addEventListener("mouseleave",X)),function(){e||(document.removeEventListener("mouseenter",K),document.removeEventListener("mouseleave",X))}}),[q,T]);var Y=function(e){N.current&&!N.current.contains(e.target)&&(n(),x(!1),w(!1))};(0,h.useEffect)((function(){var e=window.innerWidth<=768;return t&&e?document.addEventListener("mousedown",Y):document.removeEventListener("mousedown",Y),function(){document.removeEventListener("mousedown",Y)}}),[t]),(0,h.useEffect)((function(){_()}),[s,l,t]);var _=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s&&!l){e.next=24;break}if(e.prev=1,B(!0),!s){e.next=9;break}return e.next=6,ee(s,l);case 6:t=e.sent,e.next=13;break;case 9:if(!l){e.next=13;break}return e.next=12,$(l);case 12:t=e.sent;case 13:Z(t||[]),r(!!t.length),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error fetching experts:",e.t0);case 20:return e.prev=20,B(!1),G(Array(y.length).fill(!1)),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[1,17,20,24]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,s,r,c,a,l,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,o.hJ)(o.RZ,"expertApplications"),e.next=4,(0,o.PL)(n);case 4:return s=e.sent,r=o.I8.currentUser.uid,c=(0,o.hJ)(o.RZ,"users/".concat(r,"/discussions/").concat(t,"/messages")),e.next=9,(0,o.PL)(c);case 9:return a=e.sent,l=[],u=new Set,a.forEach((function(e){var n=e.data(),r=n.prompt,i=n.response;s.forEach((function(e){var n=e.data();if(n&&n.displayName&&!u.has(e.id)){var s={name:n.displayName,photoURL:n.photoURL||"".concat("","/images/arts/user.webp"),skills:n.keywords||[],description:n.description,city:n.city,occupation:n.occupation,otherUserUID:e.id},c={keys:["city","occupation","description","labels"],includeScore:!0,includeMatches:!0,threshold:.7},a=new b.Z([n],c),o=t&&n.occupation.toLowerCase().includes(t.toLowerCase()),d=r&&a.search(r).length>0,h=i&&a.search(i).length>0;(o||d||h)&&(l.push(s),u.add(e.id))}}))})),e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(0),console.error("Error fetching experts for selected session:",e.t0),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var s,r,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=(0,o.hJ)(o.RZ,"expertApplications"),e.next=4,(0,o.PL)(s);case 4:return r=e.sent,c=[],r.forEach((function(e){var s=e.data();if(s&&s.displayName){var r={name:s.displayName,photoURL:s.photoURL||"".concat("","/images/arts/user.webp"),skills:s.keywords||[],description:s.description,city:s.city,occupation:s.occupation,otherUserUID:e.id},i=["city","occupation","keywords","description","labels"];(n&&i.some((function(e){return s[e]&&"string"===typeof s[e]&&s[e].toLowerCase().includes(n.toLowerCase())}))||t&&i.some((function(e){return s[e]&&"string"===typeof s[e]&&s[e].toLowerCase().includes(t.name.toLowerCase())}))||!t&&!n)&&c.push(r)}})),e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Error fetching experts for selected topic:",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{children:t&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:(0,p.jsx)("h4",{children:"Experts"})}),(0,p.jsx)("div",{className:"",children:W?(0,p.jsx)("div",{className:"loading-container",children:(0,p.jsx)(d.Z,{})}):y.map((function(e,t){return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"d-flex",children:(0,p.jsx)("button",{className:"chat-btn expert-btn text-left ".concat(T&&t===C?"open-expert-box":""),onMouseEnter:function(){return K(t)},onMouseLeave:X,onClick:function(){return function(e,t){t===C&&(window.innerWidth<=768?(H(e),R(!0)):(F(!q),R(!0)))}(e,t)},children:(0,p.jsxs)("div",{className:"d-flex flex-column",children:[(0,p.jsxs)("div",{className:"button-container-login",children:[(0,p.jsx)("img",{src:e.photoURL,alt:"Avatar",className:"very-small-avatar rounded-circle"}),(0,p.jsx)("div",{className:"ml-2",children:(0,p.jsx)("p",{className:"font-weight-bold mb-0 text-start",children:e.name})})]}),e.skills&&(0,p.jsx)("div",{className:"text-start mt-2",children:(0,p.jsxs)("p",{className:"font-weight-bold mb-0",children:["Skills: ",e.skills.join(", ")]})})]})})}),t===C&&(0,p.jsx)(j,{isHovered:!0,displayName:e.name,photoURL:e.photoURL,skills:e.skills,description:e.description,city:e.city,occupation:e.occupation,otherUserUID:e.otherUserUID,selectedSession:l,onClose:Q})]},t)}))})]})})},y=function(e){var t=e.onSelectTopic,n=e.selectedTopic,s=e.toggleTopicPicker,r=(0,h.useRef)(null),i=(0,h.useState)(null),c=(0,a.Z)(i,2),o=c[0],l=c[1],u=((0,h.useRef)(null),(0,h.useState)(n?n.id:null)),d=(0,a.Z)(u,2),m=d[0],x=d[1],f=(0,h.useState)(!1),v=(0,a.Z)(f,2),w=(v[0],v[1],(0,h.useState)("")),g=(0,a.Z)(w,2),j=g[0],b=g[1],k=function(e){l(e),x(e.id),t(e),s()};(0,h.useEffect)((function(){var e=function(e){r.current&&!r.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[r,s]);var y=function(e){var t=e.category,s=e.handleTopicSelection,r=e.selectedTopicId,i=(0,h.useState)(!1),c=(0,a.Z)(i,2),o=c[0],l=c[1];return(0,p.jsxs)("button",{className:"chat-dropdown-model-button",id:t.id,onClick:function(){s(t),l(!1)},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[(t.id===r||t===n)&&(0,p.jsx)("div",{className:"activated-indicator-topic"}),o&&t.id!==r&&(0,p.jsx)("div",{className:"hover-indicator"}),(0,p.jsx)("div",{className:"icon-container",style:{width:"3rem"},children:t.icon}),(0,p.jsxs)("div",{className:"topic-text-container",children:[(0,p.jsxs)("div",{className:"title-container",children:[" ",(0,p.jsx)("h5",{className:"m-0",children:t.name})]}),(0,p.jsx)("h6",{className:"text-muted  m-0",children:t.description})]})]})},N=Z.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}));return(0,p.jsxs)("div",{ref:r,className:"chat-dropdown-model ",children:[(0,p.jsxs)("div",{className:"topic-picker-heading-container",children:[(0,p.jsx)("h3",{className:"topic-picker-heading",children:"Select a Topic"}),(0,p.jsx)("input",{type:"text",placeholder:"Search topics",value:j,onChange:function(e){b(e.target.value)},className:"topic-picker-search-bar"})]}),(0,p.jsx)("div",{className:"card-profile-border chat-topics-selection  scroll-col",children:N.map((function(e){return(0,p.jsx)(y,{category:e,handleTopicSelection:k,selectedTopicId:m,selectedTopic:o,toggleTopicPicker:s},e.id)}))})]})},Z=[{id:"computerOption",name:"Computer",description:"All your IT solutions",icon:"\ud83d\udcbb"},{id:"sportOption",name:"Sport",description:"Let Tio help you become fit",icon:"\u26bd"},{id:"foodCategory",name:"Food",description:"Ready to become head-chef?",icon:"\ud83c\udf54"},{id:"healthCategory",name:"Health",description:"Here to help",icon:"\u26d1\ufe0f"},{id:"workCategory",name:"Work",description:"New Job or career advice",icon:"\ud83d\udcbc"},{id:"hobbiesCategory",name:"Hobbies",description:"Discover what's possible",icon:"\ud83c\udfa8"}],N=n(5987),L=n(1694),S=n.n(L),C=n(5090),E=n(8436),U=n(7202),I=n(9968),T=["className","children","transitionClasses","onEnter"],R=(s={},(0,f.Z)(s,C.d0,"show"),(0,f.Z)(s,C.cn,"show"),s),M=h.forwardRef((function(e,t){var n=e.className,s=e.children,r=e.transitionClasses,i=void 0===r?{}:r,c=e.onEnter,a=(0,N.Z)(e,T),o=(0,v.Z)({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},a),l=(0,h.useCallback)((function(e,t){(0,U.Z)(e),null==c||c(e,t)}),[c]);return(0,p.jsx)(I.Z,(0,v.Z)((0,v.Z)({ref:t,addEndListener:E.Z},o),{},{onEnter:l,childRef:s.ref,children:function(e,t){return h.cloneElement(s,(0,v.Z)((0,v.Z)({},t),{},{className:S()("fade",n,s.props.className,R[e],i[e])}))}}))}));M.displayName="Fade";var D=M,H=function(){var e=(0,h.useState)(""),t=(0,a.Z)(e,2),n=t[0],s=t[1],m=(0,h.useState)("28px"),f=(0,a.Z)(m,2),v=f[0],w=f[1],g=(0,h.useRef)(null),j=(0,h.useState)([]),b=(0,a.Z)(j,2),Z=b[0],N=b[1],L=(0,h.useState)(!1),S=(0,a.Z)(L,2),C=S[0],E=S[1],U=(0,h.useState)(!1),I=(0,a.Z)(U,2),T=I[0],R=I[1],M=(0,h.useRef)(null),H=(0,h.useState)(!1),A=(0,a.Z)(H,2),O=A[0],W=A[1],B=(0,h.useState)(!1),J=(0,a.Z)(B,2),P=J[0],q=(J[1],(0,h.useState)(null)),F=(0,a.Z)(q,2),z=F[0],V=F[1],G=(0,h.useState)(null),Q=(0,a.Z)(G,2),K=Q[0],X=Q[1],Y=(0,h.useState)(null),_=(0,a.Z)(Y,2),$=(_[0],_[1]),ee=(0,h.useState)(!0),te=(0,a.Z)(ee,2),ne=te[0],se=te[1],re=(0,h.useState)(!1),ie=(0,a.Z)(re,2),ce=ie[0],ae=ie[1],oe=(0,h.useState)(null),le=(0,a.Z)(oe,2),ue=le[0],de=le[1],he=(0,h.useState)(!0),pe=(0,a.Z)(he,2),me=pe[0],xe=pe[1],fe=(0,h.useState)(!1),ve=(0,a.Z)(fe,2),we=ve[0],ge=ve[1],je=(0,h.useState)(!1),be=(0,a.Z)(je,2),ke=be[0],ye=be[1],Ze=(0,h.useState)(!1),Ne=(0,a.Z)(Ze,2),Le=Ne[0],Se=Ne[1],Ce=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var s,r,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=(0,l.hJ)(o.RZ,"users",t,"discussions",n,"messages"),e.next=4,(0,l.PL)((0,l.IO)(s,(0,l.Xo)("createTime")));case 4:r=e.sent,c=r.docs.map((function(e){var t=e.data(),n=t.prompt,s=t.response;return[{text:(0,p.jsx)(u.U,{children:n}),user:"user"},{text:(0,p.jsx)(u.U,{children:s}),user:"bot",isTyping:!1}]})).flat(),N(c),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,a,d,h,m,x,f,v,w,j;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n.trim()){e.next=38;break}if(W(!0),se(!1),t=o.I8.currentUser.uid,e.prev=4,a=z){e.next=22;break}return d=n.split(" ").slice(0,5),a=d.join(" "),e.next=11,(0,l.pl)((0,l.JU)(o.db,"users/".concat(t)),{});case 11:return h=(0,l.JU)(o.db,"users/".concat(t,"/discussions/").concat(a)),e.next=14,(0,l.QT)(h);case 14:if(e.sent.exists()){e.next=22;break}return m=(0,l.Bt)(),e.next=19,(0,l.pl)(h,{timestamp:m});case 19:$(a),Ie(a),sessionStorage.setItem("currentDiscussionId",a);case 22:return x=(0,l.JU)(o.db,"users/".concat(t,"/discussions/").concat(a)),f=(0,l.hJ)(x,"messages"),v=(0,l.Bt)(),e.next=27,(0,l.ET)(f,{prompt:n,timestamp:v});case 27:w=e.sent,s(""),Re(),N((function(e){return[].concat((0,r.Z)(e),[{text:n,user:"user"},{text:"",user:"bot",isTyping:!0}])})),me&&xe(!1),j=(0,l.cf)(w,function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,s,c,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=null===(n=t.data())||void 0===n?void 0:n.response)){e.next=15;break}j(),20,.1,c=s,a=(0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.max(5,20-.1*t),e.next=3,new Promise((function(e){return setTimeout(e,n)}));case 3:N((function(e){return[].concat((0,r.Z)(e.slice(0,-1)),[{text:(0,p.jsx)(u.U,{children:c.slice(0,t+1)}),user:"bot"}])}));case 4:case"end":return e.stop()}}),e)})),o=0;case 8:if(!(o<c.length)){e.next=13;break}return e.delegateYield(a(o),"t0",10);case 10:o++,e.next=8;break;case 13:W(!1),window.innerWidth<768&&g.current&&g.current.blur();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V(a),e.next=38;break;case 36:e.prev=36,e.t0=e.catch(4);case 38:case"end":return e.stop()}}),e,null,[[4,36]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(t),se(!1),sessionStorage.setItem("lastDiscussionId",t),e.next=5,Ce(o.I8.currentUser.uid,t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(t),sessionStorage.setItem("lastDiscussionId",t),e.next=4,Ce(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();window.addEventListener("beforeunload",(function(){sessionStorage.removeItem("currentDiscussionId")})),(0,h.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{o.I8.currentUser&&sessionStorage.getItem("lastDiscussionId")}catch(t){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),P&&fetchSessions()}),[P]);var Te=function(){R(!T),E(!1)},Re=function(){var e=g.current;if(e){e.style.height="28px";var t=Math.min(e.scrollHeight,200);e.style.height="".concat(t,"px")}};(0,h.useEffect)((function(){Re();var e=function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Ee())},t=g.current;return t&&t.addEventListener("keydown",e),function(){t&&t.removeEventListener("keydown",e)}}),[Z]),(0,h.useEffect)((function(){""===n&&w("28px")}),[n]),(0,h.useEffect)((function(){M.current&&(M.current.scrollTop=M.current.scrollHeight)}),[Z]);(0,h.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.I8.currentUser&&(de(o.I8.currentUser),ae(!0),setTimeout((function(){ge(!0)}),700));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Me,De=function(){ye(!ke)};return(0,p.jsxs)("div",{className:"Chatcontainer-model",children:[(0,p.jsx)(x,{isOpen:C,setShowGreeting:se,toggleOpen:function(){O||(E(!C),R(!1))},onSessionClick:Ue,selectedSession:z,resetChatMessages:function(){N([])}}),(0,p.jsxs)("div",{className:"chat-display",children:[ke&&(0,p.jsx)(y,{onSelectTopic:function(e){X(e),De()},selectedTopic:K,toggleTopicPicker:De}),"        ",(0,p.jsxs)("div",{className:"chat-column chat-bot-upper-section",children:[(0,p.jsxs)("div",{className:"chat-box chat-bot-section",ref:M,children:[ne&&ue&&(0,p.jsx)("div",{className:"chat-greeting-flex",children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(D,{in:ce,appear:!0,timeout:1500,className:"greeting-fade",children:(0,p.jsx)("div",{className:"chat-greeting",children:(0,p.jsxs)("h1",{children:[(Me=(new Date).getHours(),Me>=5&&Me<12?"Good morning":Me>=12&&Me<17?"Good afternoon":"Good evening"),", ",ue.displayName]})})}),(0,p.jsx)(D,{in:we,appear:!0,timeout:1e3,delay:500,className:"business-fade",children:(0,p.jsx)("h3",{children:"Let's get down to business"})})]})}),Z.map((function(e,t){return(0,p.jsxs)("div",{className:"chat-bubble-bot ".concat("user"===e.user?"user-sent-bot":"bot"),children:["bot"===e.user&&(0,p.jsxs)("div",{className:"bot-message",children:[(0,p.jsx)("div",{className:"bot-avatar",children:(0,p.jsx)("img",{className:"bot-avatar",src:"".concat("","/images/arts/TIO.webp"),alt:"TIO-bot"})}),(0,p.jsxs)("div",{className:"bot-details",children:[(0,p.jsx)("div",{className:"bot-name",children:"TIO-bot"}),!me&&e.isTyping?(0,p.jsx)(d.Z,{}):(0,p.jsx)("div",{className:"chat-text",children:e.text})]})]}),"bot"!==e.user&&ue&&(0,p.jsxs)("div",{className:"bot-message",children:[" ",(0,p.jsx)("div",{className:"bot-avatar",children:(0,p.jsx)("img",{className:"user-avatar",src:ue.photoURL,alt:"User Avatar"})}),(0,p.jsxs)("div",{className:"user-details",children:[(0,p.jsx)("div",{className:"bot-name",children:"You"}),(0,p.jsx)("div",{className:"chat-text",children:e.text})]})]})]},t)}))]}),(0,p.jsxs)("div",{className:"chatui-wrapper",children:[(0,p.jsx)("div",{className:"spacing",children:(0,p.jsxs)("button",{type:"button",className:"new-topic-btn rounded-pill",onClick:De,children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",color:"white",fill:"none",strokeWidth:1,stroke:"white",height:"30",width:"30",children:(0,p.jsx)("path",{fill:"white",d:"M308.001-180.309v-406.998q0-27.023 18.5-45.857 18.5-18.835 45.423-18.835h407.767q26.527 0 45.417 18.891 18.891 18.89 18.891 45.417v264.306q0 12.855-4.616 24.504-4.615 11.65-14.211 21.246L682.365-134.828q-9.596 9.596-21.246 14.211-11.649 4.616-24.504 4.616H372.309q-26.527 0-45.417-18.891-18.891-18.89-18.891-45.417Zm-190-515.767q-4.615-25.923 11.135-48.505 15.75-22.581 41.711-27.033l400.383-71.385q25.923-4.615 48.004 11.135t26.534 41.711l10.231 58.462h-52.23L594-783.538q-.769-4.231-4.616-6.731-3.846-2.5-8.462-1.731l-401.537 71.769q-5.385.769-8.077 5-2.693 4.231-1.923 9.616l58.924 330.313v127.223q-14.846-5.846-25.385-18.581-10.538-12.735-13.538-29.034l-71.385-400.382ZM360-587.691v407.382q0 5.385 3.462 8.847 3.462 3.462 8.847 3.462H624l168-168v-251.691q0-5.385-3.462-8.847-3.462-3.462-8.847-3.462H372.309q-5.385 0-8.847 3.462-3.462 3.462-3.462 8.847ZM576-384Zm-25.747 25.999V-276q0 11.05 7.502 18.524 7.503 7.475 18.492 7.475t18.41-7.475q7.42-7.474 7.42-18.524v-82.001h81.689q10.984 0 18.609-7.418 7.624-7.418 7.624-18.384 0-10.966-7.475-18.455-7.474-7.49-18.524-7.49h-82.001v-82.168q0-11.085-7.478-18.584-7.479-7.499-18.534-7.499-11.056 0-18.521 7.499-7.465 7.499-7.465 18.584v82.168H468q-11.05 0-18.524 7.503-7.475 7.503-7.475 18.258 0 11.056 7.499 18.521 7.499 7.465 18.584 7.465h82.169Z"})}),(0,p.jsx)("span",{className:"button-text",children:"Topic"})]})}),(0,p.jsxs)("div",{className:"chatui-container",children:[(0,p.jsx)("textarea",{value:n,onChange:function(e){s(e.target.value),Re()},className:"scroll-col message-input no-left",style:{height:v},ref:g,placeholder:"Type a message...",autoComplete:"off",inputMode:"text",onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),""!==n.trim()&&Ee())},disabled:O}),(0,p.jsx)("button",{"aria-label":"Send Message",className:"svg-container-chat send-btn",disabled:O||""===n.trim(),onClick:function(){""!==n.trim()&&Ee(z)},children:(0,p.jsx)("i",{className:"fas fa-paper-plane"})})]})]})]})]}),(0,p.jsxs)("div",{className:"chatbot-expert ".concat(T?"chatbot-expert-open":""),children:[(0,p.jsx)("span",{"aria-hidden":"true",className:"svg-chatbot-expert ",onClick:Te,children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:Le?"#fdfa72":"none",strokeWidth:1,stroke:Le?"black":"currentColor",viewBox:"0 0 24 24",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})}),(0,p.jsx)(k,{isOpen:T,toggleOpen:Te,selectedTopic:K,selectedSession:z,onExpertsAvailable:function(e){Se(e)}})]})]})}}}]);
//# sourceMappingURL=993.a6aa137b.chunk.js.map