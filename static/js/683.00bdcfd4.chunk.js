"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[683],{5683:function(e,t,s){s.r(t);var r=s(4165),o=s(5861),n=s(9439),a=s(2791),l=s(673),c=s(6635),i=s(2481),d=s(184);t.default=function(){var e=(0,a.useState)(null),t=(0,n.Z)(e,2),s=t[0],u=t[1],m=(0,a.useState)(""),p=(0,n.Z)(m,2),h=p[0],f=p[1],x=(0,a.useState)(""),v=(0,n.Z)(x,2),w=v[0],g=v[1],y=(0,a.useState)(""),j=(0,n.Z)(y,2),b=j[0],N=j[1],C=(0,a.useState)(""),k=(0,n.Z)(C,2),R=(k[0],k[1]),L=(0,a.useState)(""),S=(0,n.Z)(L,2),Z=(S[0],S[1]),U=(0,a.useState)(""),P=(0,n.Z)(U,2),E=P[0],I=P[1],A=(0,a.useState)(""),M=(0,n.Z)(A,2),z=M[0],T=M[1],V=(0,a.useState)(""),F=(0,n.Z)(V,2),H=F[0],J=F[1],D=(0,a.useState)(!1),B=(0,n.Z)(D,2),O=B[0],W=B[1],Q=(0,a.useState)(""),Y=(0,n.Z)(Q,2),q=Y[0],K=Y[1],_=(0,a.useState)(!1),$=(0,n.Z)(_,2),G=$[0],X=$[1],ee=(0,a.useState)(!1),te=(0,n.Z)(ee,2),se=te[0],re=te[1],oe=(0,a.useState)(""),ne=(0,n.Z)(oe,2),ae=ne[0],le=ne[1],ce=(0,a.useState)(""),ie=(0,n.Z)(ce,2),de=ie[0],ue=ie[1],me=(0,a.useState)(""),pe=(0,n.Z)(me,2),he=pe[0],fe=pe[1],xe=(0,a.useState)(!1),ve=(0,n.Z)(xe,2),we=(ve[0],ve[1],(0,a.useState)(!1)),ge=(0,n.Z)(we,2),ye=ge[0],je=ge[1],be=(0,a.useState)(""),Ne=(0,n.Z)(be,2),Ce=Ne[0],ke=Ne[1],Re=(0,a.useState)(""),Le=(0,n.Z)(Re,2),Se=Le[0],Ze=Le[1];(0,a.useEffect)((function(){var e=function(){X(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((function(){var e=l.I8.onAuthStateChanged((function(e){if(e){u(e);var t=e.displayName.split(" ");R(t[0]||""),Z(t[1]||"");var s=e.uid,r=(0,i.JU)(l.RZ,"expertApplications",s);(0,i.QT)(r).then((function(e){if(e.exists()){var t=e.data();t&&(J(t.customURL),K(t.referralCode),je(t.referralSubmitted),localStorage.setItem("customURL",t.customURL),console.log("Referral submitted status:",t.referralSubmitted))}})).catch((function(e){console.error("Error fetching custom URL: ",e)}))}else u(null),R(""),Z("")})),t=localStorage.getItem("customURL");return t&&J(t),function(){e()}}),[]),(0,a.useEffect)((function(){var e=l.I8.onAuthStateChanged((function(e){u(e||null)}));return function(){e()}}),[]);var Ue=function(){if(""===H)return console.error("Custom URL is empty."),void ue("Custom URL cannot be empty.");var e=H.toLowerCase(),t=(0,i.hJ)(l.RZ,"expertApplications"),r=(0,i.IO)(t,(0,i.ar)("customURL","==",e));(0,i.PL)(r).then((function(t){if(t.size>0)ue("Custom URL is already taken. Please choose another one."),le("");else{var r=s.uid,o=(0,i.JU)(l.RZ,"expertApplications",r);(0,i.r7)(o,{customURL:e}).then((function(){console.log("Custom URL updated successfully"),le("Custom URL updated successfully"),ue("")})).catch((function(e){console.error("Error updating custom URL: ",e),ue("Error updating custom URL."),le("")}))}})).catch((function(e){console.error("Error checking custom URL availability: ",e),ue("Error checking custom URL availability."),le("")}))},Pe=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var o,n,a,c,d,u,m,p,h,f,x,v,w,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),console.log("Referral submission started."),!ye){e.next=7;break}return console.error("You have already submitted a referral."),fe("You have already submitted a referral."),Ze(""),e.abrupt("return");case 7:if(Ce!==q){e.next=12;break}return console.log("User entered their own referral code."),fe("You cannot use your own referral code."),Ze(""),e.abrupt("return");case 12:return o=(0,i.hJ)(l.RZ,"userProfiles"),n=(0,i.IO)(o,(0,i.ar)("referralCode","==",Ce)),e.next=16,(0,i.PL)(n);case 16:return a=e.sent,c=(0,i.hJ)(l.RZ,"expertApplications"),d=(0,i.IO)(c,(0,i.ar)("referralCode","==",Ce)),e.next=21,(0,i.PL)(d);case 21:if(u=e.sent,a.size>0||u.size>0){e.next=28;break}return console.log("Referral code does not exist."),fe("Referral code does not exist. Please check the code and try again."),Ze(""),e.abrupt("return");case 28:if(!(m=a.size>0?a.docs[0].data():null)){e.next=33;break}return p=a.docs[0].ref,e.next=33,(0,i.r7)(p,{points:m.points+50});case 33:return h=s.uid,f=(0,i.JU)(l.RZ,"userProfiles",h),e.next=37,(0,i.QT)(f);case 37:return x=e.sent,v=x.data(),console.log("Updating user document:",f.id,{points:v.points+50,referralSubmitted:!0}),e.next=42,(0,i.r7)(f,{points:v.points+50,referralSubmitted:!0});case 42:return e.next=44,(0,i.QT)(f);case 44:w=e.sent,g=w.data(),console.log("Updated user document:",g),je(!0),console.log("Referral code applied successfully"),Ze("Referral code applied successfully! Both users have received 50 points."),fe("");case 51:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:" pricing ",children:(0,d.jsx)("div",{className:"container-xl",children:(0,d.jsxs)("div",{className:!0,"data-aos":"fade-up",children:[(0,d.jsxs)("div",{className:"row text-center mt-5",children:[(0,d.jsx)("h1",{className:"display-3 fw-bold mt-5",children:"Settings"}),(0,d.jsx)("div",{className:"heading-line"})]}),(0,d.jsx)("div",{className:"row mb-4 gx-4",children:(0,d.jsxs)("div",{className:"col-xl-12 col-12",children:[(0,d.jsxs)("div",{className:"",children:[(0,d.jsxs)("div",{className:"card-body card-profile",children:[(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Custom URL"}),(0,d.jsxs)("div",{className:G?"input-group-mobile ":"input-group",children:[(0,d.jsxs)("div",{className:G?"mobile-customurl":"input-group ",children:[(0,d.jsx)("span",{className:"customurl",children:"https://www.tioassist.io/expert/"}),(0,d.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"yourHTML",value:H,onChange:function(e){return J(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Ue()}})]}),(0,d.jsxs)("div",{className:"copy-container",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#212529",fill:O?"#00FF00":"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"25",width:"25",onClick:function(){var e=document.createElement("textarea");e.value="https://www.tioassist.io/user/".concat(H),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),W(!0);var t=document.querySelector(".copy-text");t.style.display="inline-block",setTimeout((function(){W(!1),t.style.display="none"}),3e3)},style:{cursor:"pointer",marginTop:"3px"},children:O?(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"})}),(0,d.jsx)("span",{className:"copy-text",children:O?"Copied!":""})]})]})]}),(0,d.jsxs)("div",{className:"mt-3",children:[ae&&(0,d.jsx)("p",{style:{color:"green",margin:"10px 0"},children:ae}),de&&(0,d.jsx)("p",{style:{color:"red",margin:"10px 0"},children:de}),(0,d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Ue,children:"Update Custom URL"})]}),s&&"google.com"===s.providerData[0].providerId?null:(0,d.jsx)("form",{className:"file-upload",autoComplete:"new-password",children:(0,d.jsxs)("div",{className:"py-5 rounded mt-4",children:[(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Password"}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Old password *"}),(0,d.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",value:h,onChange:function(e){return f(e.target.value)}})]}),(0,d.jsxs)("div",{className:"col-md-4",children:[(0,d.jsx)("label",{htmlFor:"exampleInputPassword2",className:"form-label",children:"New password *"}),(0,d.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword2",value:w,onChange:function(e){return g(e.target.value)}})]}),(0,d.jsxs)("div",{className:"col-md-8",children:[(0,d.jsx)("label",{htmlFor:"exampleInputPassword3",className:"form-label",children:"Confirm Password *"}),(0,d.jsx)("input",{type:"password",className:"form-control form-control-lg",id:"exampleInputPassword3",value:b,onChange:function(e){return N(e.target.value)}}),z&&(0,d.jsx)("div",{className:"text-success",children:z}),E&&(0,d.jsx)("div",{className:"text-danger",children:E})]})]}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){if(""!==w||""!==b)if(w===b){var e="";if(w.length<8?e="Password must be more than 7 characters.":/[a-z]/.test(w)?/[A-Z]/.test(w)?/\d/.test(w)?/[@$!%*?&]/.test(w)||(e="Password must contain at least one special character."):e="Password must contain at least one digit.":e="Password must contain at least one uppercase letter.":e="Password must contain at least one lowercase letter.",e)I(e);else{var t=l.I8.currentUser;(0,c.gQ)(t,w).then((function(){T("Password updated successfully"),f(""),g(""),N(""),I("")})).catch((function(e){alert("Error updating password: "+e.message)}))}}else I("New password and confirm password don't match.");else I("Please type a new password.")},children:"Update Password"})})]})})]}),(0,d.jsx)("div",{className:"card-body card-profile",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Referral Code"}),(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:G?"input-group-mobile ":"input-group",children:[(0,d.jsx)("input",{type:"text",className:"form-control form-control-lg",value:q,readOnly:!0}),(0,d.jsxs)("div",{className:"copy-container",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#212529",fill:se?"#00FF00":"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"25",width:"25",onClick:function(){var e=document.createElement("textarea");e.value=q,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),re(!0);var t=document.querySelector(".copy-referral");t.style.display="inline-block",setTimeout((function(){re(!1),t.style.display="none"}),3e3)},style:{cursor:"pointer",marginTop:"3px"},children:se?(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}):(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"})}),(0,d.jsx)("span",{className:"copy-referral",children:se?"Copied!":""})]})]})})]})}),(0,d.jsx)("div",{className:"card-body card-profile",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Submit  Referral"}),(0,d.jsx)("div",{className:"input-group",children:(0,d.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter Referral Code",value:Ce,onChange:function(e){return ke(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&Pe(e)}})}),(0,d.jsxs)("div",{className:"mt-3",children:[Se&&(0,d.jsx)("p",{style:{color:"green",margin:"10px 0"},children:Se}),he&&(0,d.jsx)("p",{style:{color:"red",margin:"10px 0"},children:he}),(0,d.jsx)("button",{type:"button",className:"btn btn-primary btn",onClick:function(){return Pe()},children:"Submit Referral"})]})]})})]}),(0,d.jsx)("div",{className:"card-body card-profile",children:(0,d.jsxs)("div",{className:"row g-3",children:[(0,d.jsx)("h3",{className:"mb-4",children:"Delete Profile"}),(0,d.jsx)("div",{className:"mt-3",children:(0,d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){if(window.confirm("Are you sure you want to delete your profile?")){var e=l.I8.currentUser;if(!e)return void console.error("No user signed in.");var t=e.uid,s=(0,i.JU)(l.RZ,"expertApplications",t);(0,i.oe)(s).then((function(){e.delete().then((function(){console.log("User deleted successfully"),window.location="/"})).catch((function(e){console.error("Error deleting user: ",e)}))})).catch((function(e){console.error("Error deleting user profile: ",e)}))}},children:"Delete Profile"})})]})})]})})]})})})}}}]);
//# sourceMappingURL=683.00bdcfd4.chunk.js.map