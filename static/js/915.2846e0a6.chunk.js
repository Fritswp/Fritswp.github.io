"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[915],{5416:function(e,t,r){r.r(t);var s=r(3433),n=r(4165),a=r(5861),l=r(9439),o=r(2791),c=r(673),i=r(2481),d=r(5485),u=r(276),m=r(7689),p=r(7386),h=r(184);t.default=function(){(0,m.UO)().customURL;var e=(0,o.useState)(null),t=(0,l.Z)(e,2),r=t[0],x=t[1],f=(0,o.useState)(""),v=(0,l.Z)(f,2),g=v[0],j=v[1],y=(0,o.useState)(""),N=(0,l.Z)(y,2),b=N[0],w=N[1],k=(0,o.useState)(null),Z=(0,l.Z)(k,2),C=Z[0],L=Z[1],E=(0,o.useState)(null),R=(0,l.Z)(E,2),U=R[0],S=R[1],M=(0,o.useState)({text:"",type:""}),P=(0,l.Z)(M,2),B=P[0],F=P[1],I=(0,o.useState)({text:"",type:""}),z=(0,l.Z)(I,2),A=z[0],T=z[1],J=(0,o.useState)(!1),_=(0,l.Z)(J,2),D=_[0],O=_[1],W=(0,o.useState)(""),K=(0,l.Z)(W,2),H=K[0],G=K[1],V=(0,o.useState)(""),Q=(0,l.Z)(V,2),q=Q[0],Y=Q[1],X=(0,o.useState)(""),$=(0,l.Z)(X,2),ee=$[0],te=$[1],re=(0,o.useState)(""),se=(0,l.Z)(re,2),ne=se[0],ae=se[1],le=(0,o.useState)(""),oe=(0,l.Z)(le,2),ce=oe[0],ie=oe[1],de=(0,o.useState)(""),ue=(0,l.Z)(de,2),me=ue[0],pe=ue[1],he=(0,o.useState)(""),xe=(0,l.Z)(he,2),fe=(xe[0],xe[1]),ve=(0,o.useState)(""),ge=(0,l.Z)(ve,2),je=ge[0],ye=ge[1],Ne=(0,o.useState)(""),be=(0,l.Z)(Ne,2),we=be[0],ke=be[1],Ze=(0,o.useState)([]),Ce=(0,l.Z)(Ze,2),Le=Ce[0],Ee=Ce[1],Re=(0,o.useState)(!1),Ue=(0,l.Z)(Re,2),Se=(Ue[0],Ue[1],(0,o.useState)(!1)),Me=(0,l.Z)(Se,2),Pe=Me[0],Be=Me[1],Fe=(0,o.useState)([]),Ie=(0,l.Z)(Fe,2),ze=Ie[0],Ae=Ie[1],Te=(0,o.useState)(!1),Je=(0,l.Z)(Te,2),_e=(Je[0],Je[1],(0,o.useState)([])),De=(0,l.Z)(_e,2),Oe=De[0],We=De[1];(0,o.useEffect)((function(){var e=c.I8.onAuthStateChanged(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return x(t),r=(0,i.JU)(c.RZ,"expertApplications",t.uid),e.next=5,(0,i.QT)(r);case 5:(s=e.sent).exists()?((a=s.data()).photoURL?L(a.photoURL):L(t.photoURL),j(a.first_name||t.displayName.split(" ")[0]||""),w(a.last_name||t.displayName.split(" ")[1]||""),G(a.address||""),Y(a.city||""),te(a.county||""),ae(a.postcode||""),ie(a.mobileNumber||""),pe(a.occupation||""),fe(t.email),ye(a.description)):L(t.photoURL),e.next=18;break;case 9:G(""),Y(""),te(""),ae(""),ie(""),L(null),fe(""),pe(""),ye("");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]);var Ke=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(t),s=(0,i.JU)(c.RZ,"expertApplications",r.uid),e.next=4,(0,i.r7)(s,{photoURL:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s,l,o,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=t.target.files[0])){e.next=22;break}if(!(s.size>5242880)){e.next=6;break}return F({text:"File size is too big, max 500kb. Please select a smaller file.",type:"error"}),setTimeout((function(){return F({text:"",type:""})}),3e3),e.abrupt("return");case 6:if(l={contentType:s.type},!U){e.next=19;break}return e.prev=8,e.next=11,(0,u.oq)(U);case 11:F({text:"Profile photo removed",type:"progress"}),console.log("Profile photo removed"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),F({text:"Error deleting previous photo: ".concat(e.t0.message),type:"error"}),console.error("Error deleting previous photo:",e.t0);case 19:o=(0,u.iH)(c.tO,"profileImages/".concat(s.name)),(m=(0,u.B0)(o,s,l)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;F({text:"Upload is ".concat(t.toFixed(2),"% done"),type:"progress"})}),(function(e){F({text:"Error uploading image: ".concat(e.message),type:"error"}),console.error("Error uploading image:",e),O(!0),setTimeout((function(){return F({text:"",type:""})}),3e3)}),(function(){(0,u.Jt)(m.snapshot.ref).then(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("File available at",t),(0,d.ck)(r,{photoURL:t}).then((0,a.Z)((0,n.Z)().mark((function e(){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F({text:"Profile photo updated successfully",type:"success"}),console.log("Profile photo updated successfully"),L(t),S(m.snapshot.ref),O(!1),s=(0,i.JU)(c.RZ,"expertApplications",r.uid),e.next=8,(0,i.r7)(s,{photoURL:t});case 8:setTimeout((function(){return F({text:"",type:""})}),3e3);case 9:case"end":return e.stop()}}),e)})))).catch((function(e){F({text:"Error updating profile photo: ".concat(e.message),type:"error"}),console.error("Error updating profile photo:",e),setTimeout((function(){return F({text:"",type:""})}),3e3)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 22:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){T({text:"",type:""})},Ve=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,s,a,l,o,d,u,m,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=(0,i.JU)(c.RZ,"expertApplications",r.uid),e.next=6,(0,i.QT)(t);case 6:if(!(s=e.sent).exists()){e.next=22;break}return a=s.data(),l=a.approved||!1,o=a.customURL||!1,d=a.points||0,u=(0,i.JU)(c.RZ,"userProfiles",r.uid),e.next=15,(0,i.oe)(u);case 15:return m=c.I8.currentUser,p=m.photoURL,e.next=19,(0,i.pl)(t,{displayName:"".concat(g," ").concat(b),email:r.email,mobileNumber:document.getElementById("inputMobileNumber").value,occupation:document.getElementById("inputExpertise").value,address:document.getElementById("inputAddress").value,city:document.getElementById("inputCity").value,county:document.getElementById("inputCounty").value,postcode:document.getElementById("inputPostcode").value,description:document.getElementById("inputDescription").value,photoURL:p,approved:l,customURL:o,keywords:ze,points:d});case 19:S(null),T({text:"Profile updated successfully",type:"success"}),setTimeout((function(){return Ge()}),3e3);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(2),T({text:"Error updating profile: ".concat(e.t0.message),type:"error"}),setTimeout((function(){return Ge()}),3e3);case 28:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){var e=c.I8.onAuthStateChanged(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return x(t),r=(0,i.JU)(c.RZ,"expertApplications",t.uid),e.next=5,(0,i.QT)(r);case 5:(s=e.sent).exists()&&(a=s.data(),Ee(a.keywords||[]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]);var Qe=function(e){var t=(0,s.Z)(ze);t.splice(e,1),Ae(t),We([].concat((0,s.Z)(Oe),[e]))},qe=function(){console.log("Image clicked"),Be(!0)};return(0,h.jsxs)("div",{className:"profile-container",children:[(0,h.jsx)("div",{className:"profile-intro-section",children:(0,h.jsx)("div",{className:"container"})}),(0,h.jsx)("div",{className:"profile-section",children:(0,h.jsx)("div",{className:"content profile-content ",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"card-profile"}),(0,h.jsx)("div",{className:"row g-3",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("div",{className:"d-flex",children:[!D&&C&&(0,h.jsxs)("div",{children:[(0,h.jsx)("img",{src:C,alt:"User Profile",className:"user-avatar large-avatar mb-3",onError:function(){return O(!0)},onClick:qe}),(0,h.jsxs)("div",{className:"px-3",children:[(0,h.jsx)("div",{className:"card-title",children:"".concat(g," ").concat(b)}),(0,h.jsx)("div",{className:"text-muted  card-subtitle h6",children:me})]})]}),D&&(0,h.jsxs)("div",{children:[(0,h.jsx)("img",{src:"".concat("","/images/arts/user.webp"),alt:"Custom 404 Image",className:"user-avatar large-avatar rounded-circle mb-3",onClick:qe}),(0,h.jsxs)("div",{className:"px-3",children:[(0,h.jsx)("div",{className:"card-title",children:"".concat(g," ").concat(b)}),(0,h.jsx)("div",{className:"fw-normal card-subtitle mb-4 h6",children:me})]})]})]}),(0,h.jsxs)("div",{children:["error"===B.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"red"},children:B.text}),"success"===B.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"green"},children:B.text}),"progress"===B.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"gray"},children:B.text})]})]})}),(0,h.jsxs)("div",{className:"my-4",children:[(0,h.jsx)("h3",{children:"My Profile"}),(0,h.jsx)("hr",{})]}),(0,h.jsxs)("form",{className:"file-upload",children:[(0,h.jsxs)("div",{className:"row mb-4 gx-4",children:[(0,h.jsx)("div",{className:"col-xl-8 col-12",children:(0,h.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,h.jsxs)("div",{className:"card-body card-profile",children:[(0,h.jsxs)("div",{className:"row g-3",children:[(0,h.jsx)("h4",{className:"mb-4",children:"General information"}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"First Name *"}),(0,h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"First name",value:g,onChange:function(e){return j(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"Last name",value:b,onChange:function(e){return w(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Email *"}),(0,h.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"inputEmail4",value:r?r.email:"",readOnly:!0,style:{pointerEvents:"none"}})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"Mobile number *"}),(0,h.jsx)("input",{id:"inputMobileNumber",type:"text",className:"form-control form-control-lg",placeholder:"Enter your Phone number","aria-label":"Phone number",value:ce,onChange:function(e){return ie(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-md-12",children:[(0,h.jsx)("label",{className:"form-label",children:"Role/Expertise *"}),(0,h.jsx)("input",{id:"inputExpertise",type:"text",className:"form-control form-control-lg",placeholder:"Enter your role/expertise","aria-label":"your Role",value:me,onChange:function(e){return pe(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,h.jsxs)("div",{className:"col-md-12",children:[(0,h.jsx)("label",{className:"form-label",children:"Description of Expertise"}),(0,h.jsx)("textarea",{id:"inputDescription",type:"text",className:"form-control",rows:"4",placeholder:"Enter a brief description of your expertise or how you can help",value:je,onChange:function(e){return ye(e.target.value)},style:{resize:"none"}})]})]}),(0,h.jsx)("div",{className:"py-5 rounded mt-4",children:(0,h.jsxs)("div",{className:"row g-3",children:[(0,h.jsx)("h4",{className:"mb-4 mt-0",children:"Address"}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"Address"}),(0,h.jsx)("input",{id:"inputAddress",type:"text",className:"form-control form-control-lg",placeholder:"Enter your home address",value:H,onChange:function(e){return G(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"City"}),(0,h.jsx)("input",{id:"inputCity",type:"text",className:"form-control form-control-lg",placeholder:"Enter City",value:q,onChange:function(e){return Y(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"County"}),(0,h.jsx)("input",{id:"inputCounty",type:"text",className:"form-control form-control-lg",placeholder:"County",value:ee,onChange:function(e){return te(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"Postcode"}),(0,h.jsx)("input",{id:"inputPostcode",type:"text",className:"form-control form-control-lg",placeholder:"Postcode",value:ne,onChange:function(e){return ae(e.target.value)}})]})]})}),(0,h.jsxs)("div",{className:"mt-3",children:[(0,h.jsx)("button",{type:"button",className:"btn btn-primary btn-lg mb-4",onClick:Ve,children:"Update profile"}),(0,h.jsxs)("div",{children:["error"===A.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"red"},children:A.text}),"success"===A.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"green"},children:A.text})]})]})]})})}),(0,h.jsxs)("div",{className:"col-xl-4 col-12",children:[(0,h.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,h.jsxs)("div",{className:"card-profile",children:[(0,h.jsx)("div",{className:"profile-cover rounded-top"}),(0,h.jsx)("div",{className:"row g-3 ",children:(0,h.jsx)("div",{className:"text-center",children:(0,h.jsxs)("div",{className:"pb-5 card-body",children:[!D&&C&&(0,h.jsx)("img",{src:C,alt:"User Profile",className:"card-img user-avatar large-avatar rounded-circle mx-auto mt-n7 mb-5",onError:function(){return O(!0)},onClick:qe}),D&&(0,h.jsx)("img",{src:"".concat("","/images/arts/user.webp"),alt:"Custom 404 Image",className:"card-img user-avatar large-avatar rounded-circle mx-auto mt-n7 mb-5",onChange:function(e){return L(e.target.value)},onClick:qe}),(0,h.jsxs)("div",{children:["error"===B.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"red"},children:B.text}),"success"===B.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"green"},children:B.text}),"progress"===B.type&&(0,h.jsx)("p",{className:"fw-light",style:{color:"gray"},children:B.text})]}),(0,h.jsxs)("div",{className:"card-title h5",children:["".concat(g," ").concat(b)," "]}),(0,h.jsx)("div",{className:"fw-normal card-subtitle mb-4 h6",children:me}),(0,h.jsxs)("button",{type:"button",className:"me-4 btn btn-primary btn-sm rounded-pill pt-2 pb-2",children:[(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"25",className:"me-2 svg-inline--fa ",children:(0,h.jsx)("path",{d:"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"})}),(0,h.jsx)("span",{className:"me-2",children:"Connect"})]}),(0,h.jsxs)("button",{type:"button",className:"btn btn-secondary btn-sm rounded-pill pt-2 pb-2",children:[(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"25",className:"me-2 svg-inline--fa ",children:(0,h.jsx)("path",{fillRule:"evenodd",d:"M4.804 21.644A6.707 6.707 0 006 21.75a6.721 6.721 0 003.583-1.029c.774.182 1.584.279 2.417.279 5.322 0 9.75-3.97 9.75-9 0-5.03-4.428-9-9.75-9s-9.75 3.97-9.75 9c0 2.409 1.025 4.587 2.674 6.192.232.226.277.428.254.543a3.73 3.73 0 01-.814 1.686.75.75 0 00.44 1.223zM8.25 10.875a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zM10.875 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875-1.125a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z",clipRule:"evenodd"})}),(0,h.jsx)("span",{className:"me-2",children:"Message"})]})]})})})]})}),(0,h.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,h.jsx)("div",{className:"card-body card-profile",children:(0,h.jsxs)("div",{className:"row g-3",children:[(0,h.jsx)("h5",{className:"mb-4",children:"Select profile photo"}),(0,h.jsx)("div",{className:"d-xl-flex align-items-center",children:(0,h.jsx)("div",{className:"file-field",children:(0,h.jsx)("div",{className:"d-flex justify-content-xl-center",children:(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)("span",{className:"icon icon-md",onClick:function(){document.getElementById("customFile").click()},style:{cursor:"pointer"},children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"45",className:"w-6 h-6 me-3",children:(0,h.jsx)("path",{fillRule:"evenodd",d:"M18.97 3.659a2.25 2.25 0 00-3.182 0l-10.94 10.94a3.75 3.75 0 105.304 5.303l7.693-7.693a.75.75 0 011.06 1.06l-7.693 7.693a5.25 5.25 0 11-7.424-7.424l10.939-10.94a3.75 3.75 0 115.303 5.304L9.097 18.835l-.008.008-.007.007-.002.002-.003.002A2.25 2.25 0 015.91 15.66l7.81-7.81a.75.75 0 011.061 1.06l-7.81 7.81a.75.75 0 001.054 1.068L18.97 6.84a2.25 2.25 0 000-3.182z",clipRule:"evenodd"})})}),(0,h.jsx)("input",{type:"file",accept:"image/*",id:"customFile",onChange:He,style:{display:"none"}}),(0,h.jsxs)("div",{className:"d-md-block text-start",children:[(0,h.jsx)("div",{className:"fw-normal text-dark mb-1",children:"Choose Image"}),(0,h.jsx)("div",{className:"text-gray small",children:"JPG, GIF or PNG. Max size of 800K"})]})]})})})})]})})}),(0,h.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,h.jsx)("div",{className:"card-body card-profile",children:(0,h.jsxs)("div",{className:"row g-3",children:[(0,h.jsx)("h5",{className:"mb-2",children:"Choose 5 Keywords"}),(0,h.jsx)("p",{children:"we recommend choosing keywords that you think will get you highest in the search results"}),(0,h.jsx)("div",{className:"me-3",children:(0,h.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Type a keyword and press Space to add",value:we,onChange:function(e){return ke(e.target.value)},onKeyDown:function(e){" "===e.key&&""!==we.trim()&&(e.preventDefault(),function(){if(""!==we.trim()&&ze.length<5){var e=[].concat((0,s.Z)(ze),[we.trim()]);Ae(e),ke("")}}())},disabled:Le.length>=5})}),(0,h.jsxs)("div",{className:"keywords-list",children:[ze.map((function(e,t){return(0,h.jsxs)("div",{onClick:function(){return Qe(t)},className:"btn btn-primary rounded-pill d-inline-flex align-items-center me-2 mb-2",children:[e,(0,h.jsx)("svg",{onClick:function(){return Qe(t)},xmlns:"http://www.w3.org/2000/svg",color:"#FFFFFF",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Le.map((function(e,t){return(0,h.jsxs)("div",{onClick:function(){return removeKeyword(t)},className:"btn btn-primary rounded-pill d-inline-flex align-items-center me-2 mb-2",children:[e,(0,h.jsx)("svg",{onClick:function(){return removeKeyword(t)},xmlns:"http://www.w3.org/2000/svg",color:"#FFFFFF",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),ze.length+Le.length>=5&&(0,h.jsx)("p",{className:"error-message",children:"Keyword limit reached. You cannot add more keywords."})]})]})})})]})]}),(0,h.jsx)("div",{className:"gap-3 d-md-flex justify-content-md-end text-center",children:(0,h.jsx)("button",{type:"button",className:"btn btn-danger btn-lg",children:"Delete profile"})})]})]})})}),Pe&&(0,h.jsx)("div",{className:"modal-overlay",children:(0,h.jsx)("div",{className:"modalcrop ",children:(0,h.jsx)(p.Z,{setPhotoURL:L,setImageLoadError:O,closeModal:function(){Be(!1)},photoURL:C,handleImageUpload:Ke,handleImageError:function(){O(!0)},user:r,collectionName:"expertApplications"})})})]})}},7386:function(e,t,r){var s=r(4165),n=r(5861),a=r(9439),l=r(2791),o=r(28),c=(r(4333),r(276)),i=r(2481),d=r(673),u=r(184);t.Z=function(e){var t=e.closeModal,r=e.photoURL,m=e.handleImageUpload,p=e.setPhotoURL,h=e.user,x=e.collectionName,f=(0,l.useState)(r),v=(0,a.Z)(f,2),g=v[0],j=v[1],y=(0,l.useState)(null),N=(0,a.Z)(y,2),b=(N[0],N[1]),w=(0,l.useState)(!1),k=(0,a.Z)(w,2),Z=(k[0],k[1]),C=(0,l.useState)(null),L=(0,a.Z)(C,2),E=L[0],R=L[1],U=(0,l.useState)(null),S=(0,a.Z)(U,2),M=S[0],P=S[1],B=(0,l.useRef)(null),F=(0,l.useRef)(null),I=(0,l.useState)(!1),z=(0,a.Z)(I,2),A=z[0],T=z[1],J=function(e){var t=e.target.files[0];if(b(t),t){R(t.name);var r=new FileReader;r.onload=function(e){j(e.target.result)},r.readAsDataURL(t)}},_=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t,r,a,l,o,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=null===(t=B.current)||void 0===t?void 0:t.getCanvas())){e.next=6;break}return e.next=4,new Promise((function(e){return r.toBlob(e,"image/jpeg")}));case 4:(a=e.sent)&&(l=(0,c.iH)(d.tO,"profileImages/".concat(E)),o={contentType:"image/jpeg"},(u=(0,c.B0)(l,a,o)).on("state_changed",(function(e){}),(function(e){}),(function(){(0,c.Jt)(u.snapshot.ref).then(function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,(0,i.r7)(M,{photoURL:t});case 3:m(t),T(!0),setTimeout((function(){T(!1)}),3e3);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!h.uid){e.next=6;break}return t="".concat("","/images/arts/user.webp"),e.next=4,(0,i.r7)(M,{photoURL:t});case 4:p(t),Z(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){F.current=document.createElement("input"),F.current.type="file",F.current.accept="image/*",F.current.addEventListener("change",J);var e=(0,i.JU)(d.RZ,x,h.uid);P(e);var t=(0,i.cf)(e,(function(e){var t;!function(e){j(e)}(null===(t=e.data())||void 0===t?void 0:t.photoURL)}));return function(){return t()}}),[h.uid,x]),(0,u.jsxs)("div",{className:"modalimage align-items-center",children:[(0,u.jsxs)("div",{className:"top-section",children:[(0,u.jsx)("div",{style:{marginRight:"10px"},children:"Profile image"}),(0,u.jsx)("button",{className:"btn-crop",onClick:t,children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,u.jsx)("div",{className:"centerimage",children:(0,u.jsx)("div",{className:"croppers-wizard__body",children:(0,u.jsx)("div",{className:"default-cropper croppers-wizard__cropper",children:g?(0,u.jsx)(o.fle,{ref:B,src:g,stencilComponent:o.xqB,stencilProps:{grid:!0}}):null})})}),(0,u.jsxs)("div",{className:"button-section with-divider",children:[(0,u.jsx)("button",{className:"btn-crop",onClick:function(){F.current.click()},children:(0,u.jsxs)("div",{className:"button-content",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"})}),"New Photo"]})}),(0,u.jsx)("button",{className:"btn-crop",onClick:_,children:(0,u.jsxs)("div",{className:"button-content",children:[(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:[(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),"Upload Photo"]})}),A&&(0,u.jsx)("div",{className:"upload-success-icon",children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#009E60",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),(0,u.jsx)("button",{className:"btn-crop",onClick:D,children:(0,u.jsxs)("div",{className:"button-content",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),"Delete Photo"]})})]})]})}}}]);
//# sourceMappingURL=915.2846e0a6.chunk.js.map