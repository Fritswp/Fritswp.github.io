"use strict";(self.webpackChunkmy_react=self.webpackChunkmy_react||[]).push([[416],{5416:function(e,t,n){n.r(t);var r=n(1413),s=n(3433),o=n(4165),a=n(5861),l=n(9439),c=n(2791),i=n(673),u=n(2481),d=n(276),h=n(6635),m=n(7689),p=n(7386),f=n(6307),x=n(9513),v=n.n(x),g=(n(8639),n(5675)),j=n(2383),y=n(184);t.default=function(){(0,m.UO)().customURL;var e=(0,c.useState)(null),t=(0,l.Z)(e,2),n=t[0],x=t[1],b=(0,c.useState)(""),k=(0,l.Z)(b,2),w=k[0],N=k[1],Z=(0,c.useState)(""),L=(0,l.Z)(Z,2),C=L[0],S=L[1],E=(0,c.useState)(null),M=(0,l.Z)(E,2),U=M[0],R=M[1],z=(0,c.useState)(null),A=(0,l.Z)(z,2),D=(A[0],A[1]),F=(0,c.useState)({text:"",type:""}),B=(0,l.Z)(F,2),P=B[0],I=(B[1],(0,c.useState)({text:"",type:""})),W=(0,l.Z)(I,2),H=W[0],J=W[1],V=(0,c.useState)(!1),O=(0,l.Z)(V,2),T=O[0],G=O[1],q=(0,c.useState)(""),K=(0,l.Z)(q,2),_=K[0],Q=K[1],Y=(0,c.useState)(""),$=(0,l.Z)(Y,2),X=$[0],ee=$[1],te=(0,c.useState)(""),ne=(0,l.Z)(te,2),re=ne[0],se=ne[1],oe=(0,c.useState)(""),ae=(0,l.Z)(oe,2),le=ae[0],ce=ae[1],ie=(0,c.useState)(""),ue=(0,l.Z)(ie,2),de=ue[0],he=ue[1],me=(0,c.useState)(""),pe=(0,l.Z)(me,2),fe=pe[0],xe=pe[1],ve=(0,c.useState)(""),ge=(0,l.Z)(ve,2),je=(ge[0],ge[1]),ye=(0,c.useState)(""),be=(0,l.Z)(ye,2),ke=be[0],we=be[1],Ne=(0,c.useState)(""),Ze=(0,l.Z)(Ne,2),Le=Ze[0],Ce=Ze[1],Se=(0,c.useState)([]),Ee=(0,l.Z)(Se,2),Me=Ee[0],Ue=Ee[1],Re=(0,c.useState)(""),ze=(0,l.Z)(Re,2),Ae=ze[0],De=ze[1],Fe=(0,c.useState)(!1),Be=(0,l.Z)(Fe,2),Pe=Be[0],Ie=Be[1],We=(0,c.useState)([]),He=(0,l.Z)(We,2),Je=He[0],Ve=He[1],Oe=(0,c.useState)([]),Te=(0,l.Z)(Oe,2),Ge=Te[0],qe=Te[1],Ke=(0,c.useState)(!1),_e=(0,l.Z)(Ke,2),Qe=(_e[0],_e[1]),Ye=(0,c.useState)(!1),$e=(0,l.Z)(Ye,2),Xe=$e[0],et=$e[1],tt=(0,c.useState)(!1),nt=(0,l.Z)(tt,2),rt=nt[0],st=nt[1],ot=(0,c.useState)(null),at=(0,l.Z)(ot,2),lt=at[0],ct=at[1],it=(0,c.useState)(null),ut=(0,l.Z)(it,2),dt=ut[0],ht=ut[1],mt=(0,c.useState)(""),pt=(0,l.Z)(mt,2),ft=pt[0],xt=pt[1],vt=(0,c.useState)([]),gt=(0,l.Z)(vt,2),jt=gt[0],yt=gt[1],bt=(0,c.useState)(!1),kt=(0,l.Z)(bt,2),wt=(kt[0],kt[1]),Nt=(0,c.useState)(""),Zt=(0,l.Z)(Nt,2),Lt=Zt[0],Ct=Zt[1],St=(0,c.useState)([""]),Et=(0,l.Z)(St,2),Mt=Et[0],Ut=Et[1],Rt=(0,c.useState)([""]),zt=(0,l.Z)(Rt,2),At=zt[0],Dt=zt[1],Ft=(0,c.useState)([]),Bt=(0,l.Z)(Ft,2),Pt=Bt[0],It=Bt[1],Wt=(0,c.useState)(""),Ht=(0,l.Z)(Wt,2),Jt=Ht[0],Vt=Ht[1],Ot=(0,c.useState)(""),Tt=(0,l.Z)(Ot,2),Gt=Tt[0],qt=Tt[1],Kt=(0,c.useState)(""),_t=(0,l.Z)(Kt,2),Qt=_t[0],Yt=_t[1],$t=(0,c.useState)(""),Xt=(0,l.Z)($t,2),en=Xt[0],tn=Xt[1],nn=(0,c.useState)(!1),rn=(0,l.Z)(nn,2),sn=rn[0],on=rn[1],an=(0,c.useState)(!1),ln=(0,l.Z)(an,2),cn=ln[0],un=ln[1],dn=(0,c.useState)(null),hn=(0,l.Z)(dn,2),mn=hn[0],pn=hn[1];(0,c.useEffect)((function(){var e=i.I8.onAuthStateChanged(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,s,a,l,c,d,h,m,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}return x(t),n=(0,u.JU)(i.RZ,"expertApplications",t.uid),e.next=5,(0,u.QT)(n);case 5:if(!(r=e.sent).exists()||!r.data().approved){e.next=10;break}return s=(0,u.JU)(i.RZ,"userProfiles",t.uid),e.next=10,(0,u.oe)(s);case 10:return r.exists()?(a=r.data(),R(a.photoURL||t.photoURL),pn(a.originalPhotoURL||null),N(a.firstName||(t.displayName?t.displayName.split(" ")[0]:"")),S(a.lastName||(t.displayName?t.displayName.split(" ")[1]:"")),Q(a.address||""),ee(a.city||""),se(a.county||""),ce(a.postcode||""),he(a.mobileNumber||""),xe(a.occupation||""),je(t.email),we(a.description||""),De(a.labels||""),Ut(a.languages||[""]),Dt(a.education||[""]),l=a.employmentHistory||[],It(l),console.log("Employment History Data:",l)):(R(t.photoURL),pn(null)),c=(0,u.hJ)(i.RZ,"expertApplications/".concat(t.uid,"/files")),d=(0,u.cf)(c,(function(e){var t=e.docs.map((function(e){var t=e.data(),n=/\.(jpeg|jpg|gif|png|webp|svg)$/i.test(t.url.split("?")[0]);return{id:e.id,url:t.url,description:t.description||"",title:t.title||"",isImage:n}}));console.log("Gallery List:",t),qe(t)})),h=(0,u.hJ)(i.RZ,"expertApplications/".concat(t.uid,"/links")),e.next=16,(0,u.PL)(h);case 16:return m=e.sent,p=m.docs.map((function(e){var t=e.data();return{id:e.id,url:t.url,description:t.description}})),yt(p),e.abrupt("return",(function(){d()}));case 22:Q(""),ee(""),se(""),ce(""),he(""),R(null),je(""),xe(""),we(""),yt([]);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return e}),[]);var fn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,r){var s,a,l,c,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t[0],a="",l=r||s.name,c=(0,u.hJ)(i.RZ,"expertApplications/".concat(n.uid,"/files")),!(s.size>1048576)){e.next=7;break}return ct({type:"error",message:"File size exceeds the limit (1MB)."}),e.abrupt("return");case 7:if(e.prev=7,!(s.size>1048576)){e.next=14;break}return e.next=11,d(s);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=s;case 15:return d=e.t0,e.next=18,xn(d,a,l,c);case 18:h=e.sent,console.log("Download URL:",h),ct({type:"success",message:"File uploaded successfully!"}),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(7),console.error("Error processing file:",e.t1),ct({type:"error",message:"Error uploading file. Please try again."});case 27:setTimeout((function(){ct(null)}),3e3);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t,n){return e.apply(this,arguments)}}(),xn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,r,a,l){var c,h,m,p,f,x;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,d.iH)(i.tO,"expertFiles/".concat(n.uid,"/").concat(a)),e.prev=1,h=(0,d.B0)(c,t),e.next=5,h;case 5:return m=e.sent,e.next=8,(0,d.Jt)(m.ref);case 8:return p=e.sent,f={id:a,url:p,description:r,title:""},qe((function(e){return[].concat((0,s.Z)(e),[f])})),x=(0,u.JU)(l,a),e.next=14,(0,u.pl)(x,{url:p,description:r,title:""});case 14:return console.log("Files uploaded and stored successfully"),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(1),console.error("Error uploading Files:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n,r,s){return e.apply(this,arguments)}}(),vn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,r){var s,a,l,c,h,m;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Gallery before removal:",Ge),s=Ge[t],console.log(" object:",s),s){e.next=7;break}return console.error("Error removing photo:  not found in gallery"),e.abrupt("return");case 7:return a=s.id,console.log(" name:",a),l=(0,d.iH)(i.tO,"expertFiles/".concat(n.uid,"/").concat(a)),e.next=12,(0,d.oq)(l);case 12:return console.log(" removed successfully from Storage"),c="expertApplications/".concat(n.uid,"/files/").concat(a),console.log("Firestore document path:",c),h=(0,u.JU)(i.RZ,c),e.next=18,(0,u.oe)(h);case 18:console.log("Document removed successfully from Firestore"),m=Ge.filter((function(e,n){return n!==t})),console.log("Updated gallery:",m),qe(m),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error removing photo:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}(),gn=function(e,t){var n=Ge.map((function(n){return n.id===t?(0,r.Z)((0,r.Z)({},n),{},{title:e}):n}));qe(n)},jn=function(e,t){var n=Ge.map((function(n){return n.id===t?(0,r.Z)((0,r.Z)({},n),{},{description:e}):n}));qe(n)},yn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var r,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ge[t],s=(0,u.JU)((0,u.hJ)(i.RZ,"expertApplications/".concat(n.uid,"/files")),r.id),e.prev=2,e.next=5,Promise.all([(0,u.r7)(s,{description:r.description,title:r.title})]);case 5:console.log("Description and title updated successfully in Firestore"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error updating description and title:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),bn=function(e){if(!e)return null;switch(e.split("?")[0].split(".").pop().toLowerCase()){case"pdf":return(0,y.jsxs)("svg",{style:{color:"red"},xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 14 16",children:[" ",(0,y.jsx)("path",{d:"M5.523 12.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.148 21.148 0 0 0 .5-1.05 12.045 12.045 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.881 3.881 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 6.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z",fill:"red"})," ",(0,y.jsx)("path",{"fill-rule":"evenodd",d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3zM4.165 13.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.651 11.651 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.697 19.697 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z",fill:"red"})," "]});case"doc":case"docx":return(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 110.031 107.5",children:[(0,y.jsx)("path",{d:"M57.505 0h7.475v10c13.375.075 26.738-.138 40.101.075 2.85-.288 5.087 1.925 4.825 4.775.212 24.625-.05 49.262.125 73.887-.125 2.525.25 5.325-1.213 7.562-1.825 1.3-4.188 1.138-6.312 1.237-12.514-.061-25.014-.036-37.526-.036v10h-7.812c-19.024-3.475-38.1-6.662-57.162-10-.013-29.162 0-58.325 0-87.475C19.167 6.675 38.343 3.413 57.506 0z",fill:"#2a5699"}),(0,y.jsx)("path",{d:"M64.98 13.75h41.25v80H64.98v-10h32.5v-5h-32.5V72.5h32.5v-5h-32.5v-6.25h32.5v-5h-32.5V50h32.5v-5h-32.5v-6.25h32.5v-5h-32.5V27.5h32.5v-5h-32.5v-8.75zM25.83 35.837c2.375-.137 4.75-.237 7.125-.362 1.662 8.438 3.362 16.862 5.162 25.262 1.413-8.675 2.976-17.325 4.487-25.987 2.5-.087 5-.225 7.488-.375-2.825 12.112-5.3 24.325-8.388 36.362-2.088 1.088-5.213-.05-7.688.125-1.663-8.274-3.6-16.5-5.088-24.812-1.462 8.075-3.362 16.075-5.037 24.101-2.4-.125-4.812-.275-7.226-.438-2.074-11-4.512-21.925-6.449-32.95 2.137-.1 4.287-.188 6.425-.263 1.287 7.962 2.75 15.888 3.875 23.862 1.765-8.174 3.564-16.349 5.314-24.525z",fill:"#fff"})]});case"xls":case"xlsx":return(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 110.037 107.5",children:[(0,y.jsx)("path",{d:"M57.55 0h7.425v10c12.513 0 25.025.025 37.537-.038 2.113.087 4.438-.062 6.275 1.2 1.287 1.85 1.138 4.2 1.225 6.325-.062 21.7-.037 43.388-.024 65.075-.062 3.638.337 7.35-.425 10.938-.5 2.6-3.625 2.662-5.713 2.75-12.95.037-25.912-.025-38.875 0v11.25h-7.763c-19.05-3.463-38.138-6.662-57.212-10V10.013C19.188 6.675 38.375 3.388 57.55 0z",fill:"#207245"}),(0,y.jsx)("path",{d:"M64.975 13.75h41.25V92.5h-41.25V85h10v-8.75h-10v-5h10V62.5h-10v-5h10v-8.75h-10v-5h10V35h-10v-5h10v-8.75h-10v-7.5z",fill:"#fff"}),(0,y.jsx)("path",{d:"M79.975 21.25h17.5V30h-17.5v-8.75z",fill:"#207245"}),(0,y.jsx)("path",{d:"M37.025 32.962c2.825-.2 5.663-.375 8.5-.512a2607.344 2607.344 0 0 1-10.087 20.487c3.438 7 6.949 13.95 10.399 20.95a716.28 716.28 0 0 1-9.024-.575c-2.125-5.213-4.713-10.25-6.238-15.7-1.699 5.075-4.125 9.862-6.074 14.838-2.738-.038-5.476-.15-8.213-.263C19.5 65.9 22.6 59.562 25.912 53.312c-2.812-6.438-5.9-12.75-8.8-19.15 2.75-.163 5.5-.325 8.25-.475 1.862 4.888 3.899 9.712 5.438 14.725 1.649-5.312 4.112-10.312 6.225-15.45z",fill:"#fff"}),(0,y.jsx)("path",{d:"M79.975 35h17.5v8.75h-17.5V35zM79.975 48.75h17.5v8.75h-17.5v-8.75zM79.975 62.5h17.5v8.75h-17.5V62.5zM79.975 76.25h17.5V85h-17.5v-8.75z",fill:"#207245"})]});case"ppt":case"pptx":return(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 110.031 107.5",children:[(0,y.jsx)("path",{d:"M57.893 0h7.087v11.25c13.363.075 26.738-.138 40.088.062 2.875-.275 5.125 1.962 4.838 4.837.212 23.35-.05 46.712.125 70.075-.125 2.525.25 5.325-1.2 7.562-1.825 1.325-4.2 1.15-6.338 1.25-12.5-.062-25-.037-37.513-.037v12.5h-7.774c-19.05-3.475-38.138-6.65-57.2-10-.013-29.162 0-58.325 0-87.475C19.292 6.688 38.58 3.288 57.893 0z",fill:"#d24625"}),(0,y.jsx)("path",{d:"M64.98 15h41.25v76.25H64.98v-10h30v-5h-30V70h30v-5H64.993c-.013-2.45-.013-4.9-.024-7.35 4.95 1.537 10.587 1.5 15.012-1.476 4.788-2.837 7.288-8.25 7.7-13.65-5.487-.038-10.975-.025-16.45-.025-.012-5.438.062-10.875-.112-16.3-2.05.4-4.1.825-6.138 1.262V15z",fill:"#fff"}),(0,y.jsx)("path",{d:"M73.743 23.587c8.688.4 15.987 7.712 16.45 16.375-5.488.063-10.975.038-16.463.038 0-5.475-.012-10.95.013-16.413z",fill:"#d24625"}),(0,y.jsx)("path",{d:"M20.055 33.025c6.788.325 15.013-2.688 20.638 2.4 5.388 6.538 3.963 18.562-4.025 22.476-2.837 1.449-6.087 1.25-9.175 1.149-.013 4.888-.024 9.775-.013 14.663a1323.27 1323.27 0 0 0-7.438-.625c-.112-13.351-.136-26.713.013-40.063z",fill:"#fff"}),(0,y.jsx)("path",{d:"M27.48 39.788c2.463-.113 5.513-.562 7.176 1.75 1.425 2.45 1.35 5.675.162 8.2-1.425 2.575-4.65 2.325-7.138 2.625-.263-4.188-.237-8.376-.2-12.575z",fill:"#d24625"})]});default:return null}};(0,c.useEffect)((function(){var e=0===Ge.length||Ge.some((function(e){return!e.description||e.description&&""!==e.description&&e.isUploadingDescription}));Qe(e);var t=0===Ge.filter((function(e){return e.isImage})).length||Ge.some((function(e){return e.isUploading}));et(t)}),[Ge]);var kn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(t),r=(0,u.JU)(i.RZ,"expertApplications",n.uid),e.next=4,(0,u.r7)(r,{photoURL:t});case 4:(0,h.ck)(n,{photoURL:t}).then((function(){console.log("Profile photo updated successfully")})).catch((function(e){console.error("Error updating profile photo:",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wn=function(){J({text:"",type:""})},Nn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(){var t,r,s,a,l,c,d,h,m;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=(0,u.JU)(i.RZ,"expertApplications",n.uid),e.next=6,(0,u.QT)(t);case 6:if(!(r=e.sent).exists()){e.next=20;break}return s=r.data(),a=s.approved||!1,l=s.customURL||!1,c=s.points||0,d=s.originalPhotoURL||"",h=i.I8.currentUser,m=h.photoURL,e.next=17,(0,u.r7)(t,{displayName:"".concat(w," ").concat(C),email:n.email,mobileNumber:document.getElementById("inputMobileNumber").value,occupation:document.getElementById("inputExpertise").value,address:document.getElementById("inputAddress").value,city:document.getElementById("inputCity").value,county:document.getElementById("inputCounty").value,postcode:document.getElementById("inputPostcode").value,description:document.getElementById("inputDescription").value,photoURL:m,approved:a,customURL:l,originalPhotoURL:d,keywords:Je,points:c,labels:Ae,languages:Mt.filter(Boolean),education:At.filter(Boolean),employmentHistory:Pt});case 17:D(null),J({text:"Profile updated successfully",type:"success"}),setTimeout((function(){return wn()}),3e3);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),J({text:"Error updating profile: ".concat(e.t0.message),type:"error"}),setTimeout((function(){return wn()}),3e3);case 26:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){var e=i.I8.onAuthStateChanged(function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return x(t),n=(0,u.JU)(i.RZ,"expertApplications",t.uid),e.next=5,(0,u.QT)(n);case 5:(r=e.sent).exists()&&(s=r.data(),Ue(s.keywords||[]),De(s.labels||""));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]);var Zn=function(e){var t=(0,s.Z)(Je);t.splice(e,1),Ve(t)},Ln=function(e){var t=(0,s.Z)(Me);t.splice(e,1),Ue(t)},Cn=function(){console.log("Image clicked"),Ie(!0)},Sn=function(){document.body.style.overflow=""},En=function(e){e.preventDefault(),st(!0)},Mn=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var r,a,l,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ft.trim()&&Lt.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,wt(!0),r=ft.startsWith("http://")||ft.startsWith("https://")?ft:"https://".concat(ft),a=(0,u.hJ)(i.RZ,"expertApplications/".concat(n.uid,"/links")),e.next=9,(0,u.ET)(a,{url:r,description:Lt});case 9:l=e.sent,c={id:l.id,url:r,description:Lt},yt([].concat((0,s.Z)(jt),[c])),xt(""),Ct(""),ht({type:"success",message:"Link added successfully!",context:"links"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error("Error adding link:",e.t0),ht({type:"error",message:"Error adding link. Please try again."});case 21:return e.prev=21,wt(!1),e.finish(21);case 24:setTimeout((function(){ht(null)}),3e3);case 25:case"end":return e.stop()}}),e,null,[[3,17,21,24]])})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,r){var s,a,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,wt(!0),s=jt[r].id,a=(0,u.JU)(i.RZ,"expertApplications/".concat(n.uid,"/links"),s),e.next=7,(0,u.oe)(a);case 7:l=jt.filter((function(e,t){return t!==r})),yt(l),ht({type:"success",message:"Link removed successfully!",context:"links"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error removing link:",e.t0),ht({type:"error",message:"Error removing link. Please try again."});case 16:return e.prev=16,wt(!1),e.finish(16);case 19:setTimeout((function(){ht(null)}),3e3);case 20:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t,n){return e.apply(this,arguments)}}(),Rn=function(e,t,n){"Enter"===(null===e||void 0===e?void 0:e.key)&&e.target.value?(Ut([].concat((0,s.Z)(Mt),[e.target.value])),e.target.value=""):void 0!==t&&Mt[t]?(Ut([].concat((0,s.Z)(Mt),[Mt[t]])),Ut(Mt.filter((function(e,n){return n!==t})))):n&&Ut([].concat((0,s.Z)(Mt),[n]))},zn=function(e,t,n){"Enter"===(null===e||void 0===e?void 0:e.key)&&e.target.value?(Dt([].concat((0,s.Z)(At),[e.target.value])),e.target.value=""):void 0!==t&&At[t]?(Dt([].concat((0,s.Z)(At),[At[t]])),Dt(At.filter((function(e,n){return n!==t})))):n&&Dt([].concat((0,s.Z)(At),[n]))},An=function(e){Ut(Mt.filter((function(t,n){return n!==e})))},Dn=function(e){Dt(At.filter((function(t,n){return n!==e})))};return(0,y.jsxs)("div",{className:"profile-container",children:[(0,y.jsx)("div",{className:"container"}),(0,y.jsx)("div",{className:"profile-section",children:(0,y.jsx)("div",{className:"content profile-content ",children:(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsx)("div",{className:"card-profile"}),(0,y.jsxs)("div",{className:"card-body",children:[(0,y.jsxs)("div",{className:"Profile-image position-relative",children:[!T&&U&&(0,y.jsxs)("div",{className:"position-relative",children:[(0,y.jsx)("img",{src:U,alt:"User Profile",className:"user-avatar large-avatar mb-3",onError:function(){return G(!0)},onClick:Cn,style:{cursor:"pointer"}}),(0,y.jsx)("div",{className:"svg-icon",onClick:Cn,children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:2,stroke:"white",className:"w-6 h-6",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]}),T&&(0,y.jsx)("div",{className:"position-relative",children:(0,y.jsx)("img",{src:"".concat("","/images/arts/user.webp"),alt:"Custom 404 Image",className:"user-avatar large-avatar rounded-circle mb-3",onClick:Cn,style:{cursor:"pointer"}})})]}),(0,y.jsxs)("div",{className:"px-3",children:[(0,y.jsx)("div",{className:"card-title",children:"".concat(w," ").concat(C)}),(0,y.jsx)("div",{className:"text-muted card-subtitle h6",children:fe})]}),(0,y.jsxs)("div",{children:["error"===P.type&&(0,y.jsx)("p",{className:"fw-light",style:{color:"red"},children:P.text}),"success"===P.type&&(0,y.jsx)("p",{className:"fw-light",style:{color:"green"},children:P.text}),"progress"===P.type&&(0,y.jsx)("p",{className:"fw-light",style:{color:"gray"},children:P.text})]})]}),(0,y.jsx)("h3",{children:"My Profile"}),(0,y.jsx)("hr",{}),(0,y.jsx)("form",{className:"file-upload",children:(0,y.jsxs)("div",{className:"row mb-4 gx-4",children:[(0,y.jsx)("div",{className:"col-xl-12 col-12",children:(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsx)("div",{className:"card-body card-profile",children:(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsxs)("div",{className:"row g-2",children:[(0,y.jsx)("h4",{children:"Languages"}),Mt.map((function(e,t){return(0,y.jsxs)("div",{className:"langauges-spacing ",children:[(0,y.jsx)("span",{className:"form-control form-control-lg employment-entry",onClick:function(){return An(t)},children:e}),(0,y.jsx)("svg",{onClick:function(){return An(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),(0,y.jsx)("div",{className:"d-flex align-items-center",children:(0,y.jsx)("input",{id:"language-input",type:"text",className:"form-control form-control-lg",placeholder:"Enter language","aria-label":"Language",onKeyDown:function(e){return Rn(e,null)}})}),(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary ms-2",onClick:function(){var e=document.querySelector("#language-input");Rn(null,null,e.value),e.value=""},children:"Add Language"})})]})}),(0,y.jsx)("div",{className:"col-md-2"}),(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsxs)("div",{className:"row g-2",children:[(0,y.jsx)("h4",{children:"Education"}),At.map((function(e,t){return(0,y.jsxs)("div",{className:"langauges-spacing employment-entry",children:[(0,y.jsx)("span",{className:"form-control form-control-lg",onClick:function(){return Dn(t)},children:e}),(0,y.jsx)("svg",{onClick:function(){return Dn(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),(0,y.jsx)("div",{className:"d-flex align-items-center",children:(0,y.jsx)("input",{id:"education-input",type:"text",className:"form-control form-control-lg",placeholder:"Enter Education","aria-label":"Education",onKeyDown:function(e){return zn(e,null)}})}),(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary ms-2",onClick:function(){var e=document.querySelector("#education-input");zn(null,null,e.value),e.value=""},children:"Add Education"})})]})})]})}),(0,y.jsx)("div",{className:"card-body card-profile",children:(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsxs)("div",{className:"col-md-8",children:[(0,y.jsx)("h4",{className:"mb-4",children:"General information"}),(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"First Name *"}),(0,y.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"First name",value:w,onChange:function(e){return N(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,y.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"","aria-label":"Last name",value:C,onChange:function(e){return S(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Email *"}),(0,y.jsx)("input",{type:"email",className:"form-control form-control-lg",id:"inputEmail4",value:n?n.email:"",readOnly:!0,style:{pointerEvents:"none"}})]}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"Mobile number *"}),(0,y.jsx)("input",{id:"inputMobileNumber",type:"text",className:"form-control form-control-lg",placeholder:"Enter your Phone number","aria-label":"Phone number",value:de,onChange:function(e){return he(e.target.value)}})]}),(0,y.jsxs)("div",{className:"col-md-12",children:[(0,y.jsx)("label",{className:"form-label",children:"Role/Expertise *"}),(0,y.jsx)("input",{id:"inputExpertise",type:"text",className:"form-control form-control-lg",placeholder:"Enter your role/expertise","aria-label":"your Role",value:fe,onChange:function(e){return xe(e.target.value)},readOnly:!0,style:{pointerEvents:"none"}})]}),(0,y.jsxs)("div",{className:"col-md-12",children:[(0,y.jsx)("label",{className:"form-label",children:"Description of Expertise"}),(0,y.jsx)("textarea",{id:"inputDescription",type:"text",className:"form-control",rows:"4",placeholder:"Enter a brief description of your expertise or how you can help",value:ke,onChange:function(e){return we(e.target.value)},style:{resize:"none"}})]})]})})]}),(0,y.jsx)("div",{className:"col-md-4",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{className:"form-label",children:"Categories"}),(0,y.jsxs)("ul",{className:"listcard expert-listcard",children:[(0,y.jsxs)("li",{className:"form-check expert-form-check ",children:[(0,y.jsx)("input",{type:"radio",className:"form-check-input listboxes ",id:"jobSuccess90",name:"jobSuccess",onChange:function(){return De("Computer")},checked:"Computer"===Ae}),(0,y.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Computer",(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,y.jsxs)("li",{className:"form-check expert-form-check",children:[(0,y.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",name:"jobSuccess",checked:"Sport"===Ae,onChange:function(){return De("Sport")}}),(0,y.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Sport",(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,y.jsxs)("li",{className:"form-check expert-form-check",children:[(0,y.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",name:"jobSuccess",checked:"Food"===Ae,onChange:function(){return De("Food")}}),(0,y.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Food",(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,y.jsxs)("li",{className:"form-check expert-form-check",children:[(0,y.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",checked:"Health"===Ae,name:"jobSuccess",onChange:function(){return De("Health")}}),(0,y.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Health",(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,y.jsxs)("li",{className:"form-check expert-form-check",children:[(0,y.jsx)("input",{type:"radio",className:"form-check-input listboxes",id:"jobSuccess90",checked:"Work"===Ae,name:"jobSuccess",onChange:function(){return De("Work")}}),(0,y.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Work",(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]}),(0,y.jsxs)("li",{className:"form-check expert-form-check",children:[(0,y.jsx)("input",{type:"radio",className:"form-check-input listboxes",checked:"Hobbies"===Ae,id:"jobSuccess90",name:"jobSuccess",onChange:function(){return De("Hobbies")}}),(0,y.jsxs)("label",{className:"expert-form-check-label expert-label-with-svg",htmlFor:"anyJobSuccess",children:["Hobbies",(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#FF5733",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",height:"25",width:"25",children:[(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"}),(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z"})]})]})]})]})]})})]})})]})}),(0,y.jsxs)("div",{className:"card-body card-profile",children:[(0,y.jsxs)("div",{className:"link-section",children:[(0,y.jsx)("h4",{children:"Links"}),(0,y.jsxs)("div",{className:"link-container",children:[(0,y.jsx)("input",{type:"text",placeholder:"Enter link URL",className:"form-control",value:ft,onChange:function(e){return xt(e.target.value)}}),(0,y.jsx)("input",{type:"text",placeholder:"Enter link description",className:"form-control",value:Lt,onChange:function(e){return Ct(e.target.value)}}),(0,y.jsx)("button",{className:"btn btn-primary mt-2 mb-2",onClick:function(e){return Mn(e)},children:"Add Link"})]}),(0,y.jsx)("div",{className:"links-list",children:jt.map((function(e,t){return(0,y.jsxs)("div",{className:"link-item",children:[(0,y.jsxs)("div",{className:"links-container",children:[(0,y.jsx)("div",{className:"url-container",children:(0,y.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url.replace(/^https?:\/\//,"")})}),e.description&&(0,y.jsx)("div",{className:"description-container",children:e.description})]}),(0,y.jsx)("button",{className:"btn remove-link",onClick:function(e){return Un(e,t)},children:"\u274c"})]},t)}))}),dt&&(0,y.jsx)("div",{className:"alert alert-".concat(dt.type),role:"alert",children:dt.message})]}),(0,y.jsx)("h4",{children:"File Gallery"}),(0,y.jsx)("div",{className:"upload-container-profile ".concat(rt?"drag-over-profile":""),onDragEnter:En,onDragOver:En,onDragLeave:function(e){e.preventDefault(),st(!1)},onDrop:function(e){e.preventDefault(),st(!1);var t=e.dataTransfer.files;fn(t)},children:(0,y.jsxs)("label",{htmlFor:"file-upload-profile",className:"upload-label-profile",children:[(0,y.jsx)("input",{id:"file-upload-profile",type:"file",className:"upload-field-profile",onChange:function(e){return fn(e.target.files)},multiple:!0}),(0,y.jsxs)("div",{className:"upload-wrapper",children:[(0,y.jsx)("div",{className:"upload-icon-profile",children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#7EA0D6",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",height:"75",width:"75",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 12l-3-3m0 0l-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),(0,y.jsxs)("div",{className:"upload-text-profile",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"choosefile mt-2",children:"Choose file"})," ","or"," "]}),(0,y.jsx)("div",{className:"draghere",children:"drag here"})]})]})]})}),lt&&(0,y.jsx)("div",{className:"alert alert-".concat(lt.type),role:"alert",children:lt.message})]}),Ge.some((function(e){return!e.isImage&&e.url}))&&(0,y.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,y.jsx)("div",{className:"card-body card-profile",children:(0,y.jsx)("div",{className:"gallery-container",children:Ge.map((function(e,t){return!e.isImage&&e.url?(0,y.jsxs)("div",{className:"gallery-item",children:[(0,y.jsx)("input",{type:"text",placeholder:"Enter title",className:"form-control form-control-lg borderradius",value:e.title||"",onChange:function(e){return gn(e.target.value,t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),yn(t))}}),e.url&&(0,y.jsx)("div",{className:"file-container",children:(0,y.jsx)("div",{className:"file-icon",children:bn(e.url)})}),(0,y.jsx)("textarea",{type:"text",placeholder:"Enter description",className:"form-control form-control-lg borderradius",value:e.description,onChange:function(e){return jn(e.target.value,t)}}),(0,y.jsxs)("div",{className:"button-container-profile mt-2",children:[(0,y.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),yn(t)},children:"Upload Description"}),(0,y.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),vn(t)},children:"\u274c Remove"})]})]},t):null}))})})}),Ge.some((function(e){return e.isImage}))&&(0,y.jsx)("div",{className:"bg-white shadow-sm mb-4 card border-light",children:(0,y.jsx)("div",{className:"card-body card-profile",children:Xe?(0,y.jsx)("div",{className:"image-loading-container",children:(0,y.jsx)(j.Z,{})}):(0,y.jsx)(g.Z,{"data-bs-theme":"dark",children:Ge.filter((function(e){return e.isImage})).map((function(e,t){return(0,y.jsxs)(g.Z.Item,{children:[(0,y.jsx)("div",{className:"image-loading-container",children:e.isUploading?(0,y.jsx)(j.Z,{}):(0,y.jsx)("img",{className:"carousel-image",src:e.url,alt:"Gallery ".concat(t+1)})}),(0,y.jsxs)(g.Z.Caption,{children:[(0,y.jsx)("input",{type:"text",placeholder:"Enter title",className:"form-control form-control-lg",value:e.title||"",onChange:function(t){return gn(t.target.value,e.id)}}),(0,y.jsx)("textarea",{type:"text",placeholder:"Enter description",className:"form-control form-control-lg mb-2",value:e.description,onChange:function(t){return jn(t.target.value,e.id)}}),(0,y.jsxs)("div",{className:"button-container-profile mt-2",children:[(0,y.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),yn(t)},children:"Upload Changes"}),(0,y.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),vn(t)},children:"Remove"})]})]})]},e.id)}))})})}),(0,y.jsx)("div",{className:"col-xl-12 col-12",children:(0,y.jsxs)("div",{className:"pt-5 rounded",children:[(0,y.jsx)("div",{className:"card-body card-profile",children:(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsx)("h4",{className:"mb-4 mt-0",children:"Address"}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"Address"}),(0,y.jsx)("input",{id:"inputAddress",type:"text",className:"form-control form-control-lg",placeholder:"Enter your home address",value:_,onChange:function(e){return Q(e.target.value)}})]}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"City"}),(0,y.jsx)("input",{id:"inputCity",type:"text",className:"form-control form-control-lg",placeholder:"Enter City",value:X,onChange:function(e){return ee(e.target.value)}})]}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"County"}),(0,y.jsx)("input",{id:"inputCounty",type:"text",className:"form-control form-control-lg",placeholder:"County",value:re,onChange:function(e){return se(e.target.value)}})]}),(0,y.jsxs)("div",{className:"col-md-6",children:[(0,y.jsx)("label",{className:"form-label",children:"Postcode"}),(0,y.jsx)("input",{id:"inputPostcode",type:"text",className:"form-control form-control-lg",placeholder:"Postcode",value:le,onChange:function(e){return ce(e.target.value)}})]})]})}),(0,y.jsxs)("div",{className:"row g-3",children:[(0,y.jsx)("div",{className:"col-md-6",children:(0,y.jsx)("div",{className:"row g-3",children:(0,y.jsxs)("div",{className:"card-body card-profile",children:[(0,y.jsx)("h5",{className:"mb-2",children:"Choose 5 Keywords"}),(0,y.jsx)("p",{children:"we recommend choosing keywords that you think will get you highest in the search results"}),(0,y.jsx)("div",{className:"mb-3",children:(0,y.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:window.innerWidth<=600?"Add keywords here":"Type a keyword and press Space or Enter to add",value:Le,onChange:function(e){return Ce(e.target.value)},onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||""===Le.trim()||(e.preventDefault(),function(){if(""!==Le.trim()&&Je.length<6){var e=[].concat((0,s.Z)(Je),[Le.trim()]);Ve(e),Ce("")}}())},disabled:Je.length+Me.length>=5})}),(0,y.jsxs)("div",{className:"keywords-list",children:[Je.map((function(e,t){return(0,y.jsxs)("div",{onClick:function(){return Zn(t)},className:"keyword-container btn mx-1  d-inline-flex align-items-center  mb-2",children:[e,(0,y.jsx)("svg",{onClick:function(){return Zn(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Me.map((function(e,t){return(0,y.jsxs)("div",{onClick:function(){return Ln(t)},className:"keyword-container btn mx-1  d-inline-flex align-items-center  mb-2",children:[e,(0,y.jsx)("svg",{onClick:function(){return Ln(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},t)})),Je.length+Me.length>=5&&(0,y.jsx)("p",{className:"message",children:"Keyword limit reached. You cannot add more keywords."})]})]})})}),(0,y.jsx)("div",{className:"col-md-6",children:(0,y.jsxs)("div",{className:"card-body card-profile",children:[(0,y.jsx)("h5",{className:"mb-2",children:"Employment History"}),(0,y.jsxs)("div",{className:"me-3",children:[(0,y.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter employer name",value:Jt,onChange:function(e){return Vt(e.target.value)}}),(0,y.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter position",value:Gt,onChange:function(e){return qt(e.target.value)}}),(0,y.jsxs)("div",{className:"d-flex",children:[(0,y.jsxs)("div",{className:"form-group me-3",children:[(0,y.jsx)("label",{htmlFor:"startDate",children:"Start Date:"}),(0,y.jsx)(v(),{selected:Qt,onChange:function(e){return Yt(e)},dateFormat:"dd/MM/yyyy",className:"form-control"})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"endDate",children:"End Date:"}),(0,y.jsx)(v(),{selected:en,onChange:function(e){return tn(e)},dateFormat:"dd/MM/yyyy",className:"form-control",disabled:sn})]}),(0,y.jsxs)("div",{className:"form-check",children:[(0,y.jsx)("input",{type:"checkbox",className:"form-check-input",id:"currentlyEmployed",checked:sn,onChange:function(e){return on(e.target.checked)}}),(0,y.jsx)("p",{className:"form-check-label",htmlFor:"currentlyEmployed",children:"Current Employee"})]})]}),(0,y.jsx)("button",{type:"button",className:"btn btn-primary mt-2 mb-2  ",onClick:function(){if(Jt&&Gt&&Qt){var e=!!sn||Qt<en,t=!!sn||en<=new Date;if(e&&t){var n=Qt.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),r=sn?"Present":en.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});It([].concat((0,s.Z)(Pt),[{employer:Jt,position:Gt,startDate:n,endDate:r}])),Vt(""),qt(""),Yt(""),tn(""),on(!1)}else alert("Please enter valid dates. The start date should be before the end date, and the end date should not be in the future.")}},children:"Add Employment"})]}),(0,y.jsx)("div",{className:"employment-list",children:Pt.map((function(e,t){return(0,y.jsxs)("div",{onClick:function(){return function(e){It(Pt.filter((function(t,n){return n!==e})))}(e.id)},className:"employment-entry form-control form-control-lg d-inline-flex align-items-center mb-2",children:[e.employer," - ",e.position," (",e.startDate," - ",e.endDate,")",(0,y.jsx)("svg",{onClick:function(){return Zn(t)},xmlns:"http://www.w3.org/2000/svg",cursor:"pointer",color:"#000000",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",height:"25",width:"25",style:{marginLeft:"auto"},children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]},e.id)}))})]})})]}),(0,y.jsxs)("div",{className:"mt-3",children:[(0,y.jsx)("button",{type:"button",className:"btn btn-primary  mb-4",onClick:Nn,children:"Update profile"}),(0,y.jsxs)("div",{children:["error"===H.type&&(0,y.jsx)("p",{className:"fw-light",style:{color:"red"},children:H.text}),"success"===H.type&&(0,y.jsx)("p",{className:"fw-light",style:{color:"green"},children:H.text})]})]})]})})]})})]})})}),Pe&&(0,y.jsx)(p.Z,{setPhotoURL:R,setImageLoadError:G,closeModal:function(){Ie(!1),Sn()},photoURL:U,originalPhotoURL:mn,handleImageUpload:kn,handleImageError:function(){G(!0)},user:n,collectionName:"expertApplications",setIsUploadSuccess:un}),cn&&(0,y.jsx)(f.Z,{})]})}},6307:function(e,t,n){var r=n(9439),s=n(2791),o=n(184);t.Z=function(){var e=(0,s.useState)(!0),t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,s.useEffect)((function(){var e=setTimeout((function(){a(!1)}),3e3);return function(){return clearTimeout(e)}}),[]),(0,o.jsx)("div",{className:n?"flash":""})}},7386:function(e,t,n){var r=n(4165),s=n(5861),o=n(9439),a=n(2791),l=n(7005),c=n(7984),i=n(2383),u=n(276),d=n(2481),h=n(673),m=n(184);t.Z=function(e){var t=e.closeModal,n=e.originalPhotoURL,p=e.handleImageUpload,f=e.setPhotoURL,x=e.user,v=e.collectionName,g=e.setIsUploadSuccess,j=(0,a.useState)(n),y=(0,o.Z)(j,2),b=y[0],k=y[1],w=(0,a.useState)(null),N=(0,o.Z)(w,2),Z=N[0],L=N[1],C=(0,a.useState)(null),S=(0,o.Z)(C,2),E=S[0],M=S[1],U=(0,a.useRef)(null),R=(0,a.useState)(null),z=(0,o.Z)(R,2),A=(z[0],z[1]),D=(0,a.useState)({x:0,y:0}),F=(0,o.Z)(D,2),B=F[0],P=F[1],I=(0,a.useState)(1),W=(0,o.Z)(I,2),H=W[0],J=W[1],V=(0,a.useState)(null),O=(0,o.Z)(V,2),T=O[0],G=O[1],q=(0,a.useState)(!1),K=(0,o.Z)(q,2),_=K[0],Q=(K[1],"".concat("","/images/arts/user.webp")),Y=(0,a.useState)(null),$=(0,o.Z)(Y,2),X=($[0],$[1]),ee=(0,a.useState)(!1),te=(0,o.Z)(ee,2),ne=te[0],re=te[1];(0,a.useEffect)((function(){return document.body.classList.add("modal-open"),function(){document.body.classList.remove("modal-open")}}),[]);var se=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var n,o,a,l,i,m,f,j,y,w,N,L,C,S,E,M;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:return re(!0),o=(0,d.JU)(h.RZ,v,x.uid),e.next=6,(0,d.QT)(o);case 6:if(a=e.sent,!(l=null===(n=a.data())||void 0===n?void 0:n.photoURL)||!l.startsWith("https://firebasestorage.googleapis.com")){e.next=18;break}return i=(0,u.iH)(h.tO,l),e.prev=10,e.next=13,(0,u.oq)(i);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.error("Error deleting old cropped image from storage:",e.t0);case 18:return e.prev=18,e.next=21,fetch(b).then((function(e){return e.blob()}));case 21:return m=e.sent,e.next=24,new Promise((function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),o=new Image;o.onload=(0,s.Z)((0,r.Z)().mark((function s(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.width=T.width,t.height=T.height,n.drawImage(o,T.x,T.y,T.width,T.height,0,0,T.width,T.height),t.toBlob(e,"image/jpeg");case 4:case"end":return r.stop()}}),s)}))),o.src=URL.createObjectURL(m)}));case 24:return f=e.sent,console.log("Original cropped image size:",f.size,"bytes"),j=new File([f],Z,{type:"image/jpeg"}),y={maxSizeMB:.5,maxWidthOrHeight:1920,useWebWorker:!0},e.next=30,(0,c.Z)(j,y);case 30:return w=e.sent,console.log("Compressed image size:",w.size,"bytes"),e.next=34,w.arrayBuffer().then((function(e){return new Blob([e])}));case 34:N=e.sent,L=(0,u.iH)(h.tO,"originalImages/".concat(Z)),C={contentType:"image/jpeg"},(S=(0,u.B0)(L,m,C)).on("state_changed",(function(e){}),(function(e){}),(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Jt)(S.snapshot.ref);case 2:if(!(t=e.sent)){e.next=6;break}return e.next=6,(0,d.r7)(o,{originalPhotoURL:t});case 6:case"end":return e.stop()}}),e)})))),E=(0,u.iH)(h.tO,"profileImages/".concat(Z)),(M=(0,u.B0)(E,N)).on("state_changed",(function(e){}),(function(e){}),(0,s.Z)((0,r.Z)().mark((function e(){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Jt)(M.snapshot.ref);case 2:if(!(n=e.sent)){e.next=13;break}return e.next=6,(0,d.r7)(o,{photoURL:n});case 6:p(n),g(!0),t(),m&&((s=new FileReader).onload=function(e){k(e.target.result)},s.readAsDataURL(m)),G(null),J(1),P({x:0,y:0});case 13:case"end":return e.stop()}}),e)})))),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(18),re(!1);case 47:case"end":return e.stop()}}),e,null,[[10,15],[18,44]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x&&x.uid&&E)){e.next=17;break}return t=(0,u.iH)(h.tO,"originalImages/".concat(Z)),n=(0,u.iH)(h.tO,"profileImages/".concat(Z)),e.prev=3,e.next=6,(0,u.oq)(t);case 6:return e.next=8,(0,u.oq)(n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error deleting images from storage:",e.t0);case 13:return e.next=15,(0,d.r7)(E,{photoURL:null,originalPhotoURL:null});case 15:f(Q),k(Q);case 17:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){U.current=document.createElement("input"),U.current.type="file",U.current.accept="capture=camera",U.current.addEventListener("change",(function(e){var t=e.target.files[0];if(t){L(t.name),X(t);var n=new FileReader;n.onload=function(e){k(e.target.result)},n.readAsDataURL(t)}})),document.body.appendChild(U.current);var e=(0,d.JU)(h.RZ,v,x.uid);M(e);var t=(0,d.cf)(e,(function(e){var t;!function(e){k(e)}(null===(t=e.data())||void 0===t?void 0:t.originalPhotoURL)}));return function(){t(),document.body.removeChild(U.current)}}),[x.uid,v]),(0,m.jsx)("div",{className:"modal-overlay",children:(0,m.jsxs)("div",{className:"modalcrop",children:[(0,m.jsxs)("div",{className:"top-section",children:[(0,m.jsx)("div",{style:{marginRight:"10px"},children:"Profile image"}),(0,m.jsx)("button",{className:"btn-crop",onClick:t,children:(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,m.jsx)("div",{className:_?"flash":""})," ",(0,m.jsx)("div",{className:"centerimage",children:b&&(0,m.jsx)(l.ZP,{ref:A,image:b,crop:B,zoom:H,onCropChange:P,onZoomChange:J,onCropComplete:function(e,t){G(t)},cropShape:"round",aspect:1})}),(0,m.jsxs)("div",{className:"button-section",children:[(0,m.jsx)("button",{className:"btn-crop",onClick:function(){return U.current.click()},children:(0,m.jsxs)("div",{className:"button-content",children:[(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:[(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),"New Photo"]})}),(0,m.jsx)("div",{className:"success",children:(0,m.jsx)("div",{className:"button-container",children:ne?(0,m.jsx)(i.Z,{}):(0,m.jsx)("button",{className:"btn-crop",onClick:se,children:(0,m.jsxs)("div",{className:"button-content",children:[(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),"Upload Photo"]})})})}),(0,m.jsx)("button",{className:"btn-crop",onClick:oe,children:(0,m.jsxs)("div",{className:"button-content",children:[(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"1.5",className:"w-6 h-6 smaller-svg",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),"Delete Photo"]})})]})]})})}}}]);
//# sourceMappingURL=416.4fad87a8.chunk.js.map