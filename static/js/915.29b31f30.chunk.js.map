{"version":3,"file":"static/js/915.29b31f30.chunk.js","mappings":"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","sources":["Users/ExpertProfile.js","components/ImageCropper.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth, storage, firestore } from '../firebase';\nimport { doc, getDoc, updateDoc, deleteField, deleteDoc, ollection, query, where, getDocs, setDoc } from 'firebase/firestore';\nimport { updateProfile } from 'firebase/auth';\nimport { ref, uploadBytesResumable, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { useParams } from 'react-router-dom';\nimport ImageCropper from '../components/ImageCropper'; \n\nfunction ExpertProfile() {\nconst { customURL } = useParams();\nconst [user, setUser] = useState(null);\nconst [firstName, setFirstName] = useState('');\nconst [lastName, setLastName] = useState('');\nconst [photoURL, setPhotoURL] = useState(null);\nconst [previousPhotoRef, setPreviousPhotoRef] = useState(null);\nconst [message, setMessage] = useState({ text: '', type: '' });\nconst [updateMessage, setUpdateMessage] = useState({ text: '', type: '' });\nconst [imageLoadError, setImageLoadError] = useState(false);\nconst [address, setAddress] = useState('');\nconst [city, setCity] = useState('');\nconst [county, setCounty] = useState('');\nconst [postcode, setPostcode] = useState('');\nconst [mobileNumber, setMobileNumber] = useState('');\nconst [occupation, setRole] = useState('');\nconst [email, setEmail] = useState(''); \nconst [description, setDescription] = useState('');\nconst [currentKeyword, setCurrentKeyword] = useState('');\nconst [keywords, setKeywords] = useState([]);\n\nconst [isCropperOpen, setIsCropperOpen] = useState(false);\nconst [isModalOpen, setIsModalOpen] = useState(false);\n\n\nconst [currentKeywords, setCurrentKeywords] = useState([]);\nconst [showUpdateMessage, setShowUpdateMessage] = useState(false);\nconst [removedKeywordIndices, setRemovedKeywordIndices] = useState([]);\n\n\n\nuseEffect(() => {\nconst unsubscribe = auth.onAuthStateChanged(async (authUser) => {\nif (authUser) {\nsetUser(authUser);\n\nconst userDocRef = doc(firestore, 'expertApplications', authUser.uid);\nconst userDocSnapshot = await getDoc(userDocRef);\nif (userDocSnapshot.exists()) {\nconst userData = userDocSnapshot.data();\nif (userData.photoURL) {\nsetPhotoURL(userData.photoURL);\n} else {\nsetPhotoURL(authUser.photoURL);\n}\nsetFirstName(userData.first_name || authUser.displayName.split(' ')[0] || '');\nsetLastName(userData.last_name || authUser.displayName.split(' ')[1] || '');\nsetAddress(userData.address || '');\nsetCity(userData.city || '');\nsetCounty(userData.county || '');\nsetPostcode(userData.postcode || '');\nsetMobileNumber(userData.mobileNumber || '');\nsetRole(userData.occupation || '');\nsetEmail(authUser.email); // Set email from authUser\nsetDescription(userData.description)\n} else {\nsetPhotoURL(authUser.photoURL);\n}\n} else {\nsetAddress('');\nsetCity('');\nsetCounty('');\nsetPostcode('');\nsetMobileNumber('');\nsetPhotoURL(null);\nsetEmail(''); // Clear email\nsetRole('');\nsetDescription('')\n}\n});\n\nreturn () => {\nunsubscribe();\n};\n}, []);\n\nconst handleImageUpload = async (downloadURL) => {\n  setPhotoURL(downloadURL);\n\n  // Update Firestore document with new photoURL\n  const userDocRef = doc(firestore, 'expertApplications', user.uid);\n  await updateDoc(userDocRef, { photoURL: downloadURL });\n};\n\nconst handleRemoveImage = async () => {\n  if (!previousPhotoRef) {\n    setMessage({ text: \"No photo to remove\", type: \"error\" });\n    console.log('No previous photo to delete.');\n    return;\n  }\n  try {\n    await deleteObject(previousPhotoRef);\n    setMessage({ text: 'Profile photo removed', type: 'progress' });\n    console.log('Previous photo deleted successfully');\n    setPhotoURL(`${process.env.PUBLIC_URL}/images/arts/user.webp`); // Set photoURL to the 404 image path\n    // The updated photoURL will be logged by the useEffect hook.\n    setPreviousPhotoRef(null); // Clear the previousPhotoRef state\n    // Remove the photoURL field from Firestore\n    const userDocRef = doc(firestore, 'expertProfiles', user.uid);\n    await updateDoc(userDocRef, { photoURL: deleteField() });\n  } catch (error) {\n    setMessage({ text: `Error deleting previous photo: ${error.message}`, type: 'error' });\n    console.error('Error deleting previous photo:', error);\n  }\n};\n\nconst MAX_FILE_SIZE = 5 * 1024 * 1024;\n\nconst handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      if (file.size > MAX_FILE_SIZE) {\n        setMessage({ text: 'File size is too big, max 500kb. Please select a smaller file.', type: 'error' });\n        setTimeout(() => setMessage({ text: '', type: '' }), 3000); // Clear the message after 3 seconds\n        return;\n      }\n  \n      const metadata = {\n        contentType: file.type,\n      };\n  \n      if (previousPhotoRef) {\n        try {\n          await deleteObject(previousPhotoRef);\n          setMessage({ text: 'Profile photo removed', type: 'progress' });\n          console.log('Profile photo removed');\n        } catch (error) {\n          setMessage({ text: `Error deleting previous photo: ${error.message}`, type: 'error' });\n          console.error('Error deleting previous photo:', error);\n        }\n      }\n  \n      const storageRef = ref(storage, `profileImages/${file.name}`);\n      const uploadTask = uploadBytesResumable(storageRef, file, metadata);\n  \n      uploadTask.on(\n        'state_changed',\n        (snapshot) => {\n          const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          setMessage({ text: `Upload is ${progress.toFixed(2)}% done`, type: 'progress' });\n        },\n        (error) => {\n          setMessage({ text: `Error uploading image: ${error.message}`, type: 'error' });\n          console.error('Error uploading image:', error);\n          setImageLoadError(true); // Handle image load error\n          // Clear the error message after 3 seconds\n          setTimeout(() => setMessage({ text: '', type: '' }), 3000);\n        },\n        () => {\n          getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\n            console.log('File available at', downloadURL);\n            updateProfile(user, { photoURL: downloadURL })\n              .then(async () => {\n                setMessage({ text: 'Profile photo updated successfully', type: 'success' });\n                console.log('Profile photo updated successfully');\n                setPhotoURL(downloadURL);\n                setPreviousPhotoRef(uploadTask.snapshot.ref);\n                setImageLoadError(false); // Reset imageLoadError to false on successful upload\n                // Update Firestore document with new photoURL\n                const userDocRef = doc(firestore, 'expertApplications', user.uid);\n                await updateDoc(userDocRef, { photoURL: downloadURL });\n                // Clear the message after 3 seconds\n                setTimeout(() => setMessage({ text: '', type: '' }), 3000);\n              })\n              .catch((error) => {\n                setMessage({ text: `Error updating profile photo: ${error.message}`, type: 'error' });\n                console.error('Error updating profile photo:', error);\n                // Clear the error message after 3 seconds\n                setTimeout(() => setMessage({ text: '', type: '' }), 3000);\n              });\n          });\n        }\n      );\n    }\n  };\n  \n\n\n\nconst clearUpdateMessage = () => {\n    setUpdateMessage({ text: '', type: '' });\n  };\n\n  const updateProfileInfo = async () => {\n    if (!user) {\n      return;\n    }\n  \n    try {\n      const userDocRef = doc(firestore, 'expertApplications', user.uid);\n      const userDocSnapshot = await getDoc(userDocRef);\n  \n      if (userDocSnapshot.exists()) {\n        const userData = userDocSnapshot.data();\n        const approvedStatus = userData.approved || false; // Preserve the approved status\n        const customURLStatus = userData.customURL || false;\n  \n        // Get the existing points from the document\n        const existingPoints = userData.points || 0;\n  \n        // Delete the old userProfiles UID if it exists\n        const userProfileRef = doc(firestore, 'userProfiles', user.uid);\n        await deleteDoc(userProfileRef);\n  \n        const updatedUser = auth.currentUser;\n        const newPhotoURL = updatedUser.photoURL;\n  \n        // Update Firestore document with new user data and preserve the points\n        await setDoc(userDocRef, {\n          displayName: `${firstName} ${lastName}`,\n          email: user.email,\n          mobileNumber: document.getElementById('inputMobileNumber').value,\n          occupation: document.getElementById('inputExpertise').value,\n          address: document.getElementById('inputAddress').value,\n          city: document.getElementById('inputCity').value,\n          county: document.getElementById('inputCounty').value,\n          postcode: document.getElementById('inputPostcode').value,\n          description: document.getElementById('inputDescription').value,\n          photoURL: newPhotoURL,\n          approved: approvedStatus, // Preserve the approved field\n          customURL: customURLStatus,\n          keywords: currentKeywords,\n          points: existingPoints, // Preserve the points field\n        });\n  \n        // Clear the previousPhotoRef state\n        setPreviousPhotoRef(null);\n  \n        setUpdateMessage({ text: 'Profile updated successfully', type: 'success' });\n  \n        // Clear the message after 3 seconds\n        setTimeout(() => clearUpdateMessage(), 3000);\n      }\n    } catch (error) {\n      // Set the error message\n      setUpdateMessage({ text: `Error updating profile: ${error.message}`, type: 'error' });\n  \n      // Clear the error message after 3 seconds\n      setTimeout(() => clearUpdateMessage(), 3000);\n    }\n  };\n\nuseEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (authUser) => {\n      if (authUser) {\n        setUser(authUser);\n  \n        // Assuming 'expertApplications' is the collection containing user data\n        const userDocRef = doc(firestore, 'expertApplications', authUser.uid);\n        const userDocSnapshot = await getDoc(userDocRef);\n  \n        if (userDocSnapshot.exists()) {\n          const userData = userDocSnapshot.data();\n          setKeywords(userData.keywords || []);\n        }\n      }\n    });\n  \n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  \n\n    const handleAddKeyword = () => {\n    if (currentKeyword.trim() !== '') {\n    if (currentKeywords.length < 5) {\n    const updatedKeywords = [...currentKeywords, currentKeyword.trim()];\n    setCurrentKeywords(updatedKeywords);\n    setCurrentKeyword('');\n    }\n    }\n    };\n\n    const handleRemoveKeyword = (index) => {\n      const updatedKeywords = [...currentKeywords];\n      updatedKeywords.splice(index, 1);\n      setCurrentKeywords(updatedKeywords);\n    };\n    \n    // Function to remove a keyword from the keywords array\n    const removeKeyword = (index) => {\n      const updatedKeywords = [...keywords];\n      updatedKeywords.splice(index, 1);\n      setKeywords(updatedKeywords);\n    };\n\n    const MAX_KEYWORDS_LIMIT = 5; \n    \n    const handleImageClick = () => {\n      console.log('Image clicked'); // Check if this message appears in the console\n      setIsModalOpen(true);\n    };\n    \n    const closeModal = () => {\n      setIsModalOpen(false);\n    };\n    \n    const handleImageError = () => {\n      setImageLoadError(true);\n    };\n    \n    const openModal = () => {\n      setIsModalOpen(true);\n    };\n \n    \n\nreturn (\n<div className=\"profile-container\">\n<div className=\"profile-intro-section\">\n<div className=\"container\">\n\n</div>\n</div>\n<div className=\"profile-section\">\n<div className=\"content profile-content \">\n<div className=\"row\">\n<div className=\"card-profile\">\n</div>\n<div className=\"row g-3\">\n<div className=\"card-body\">\n<div className=\"d-flex position-relative\">\n  {!imageLoadError && photoURL && (\n    <div className=\"position-relative\">\n      <img\n        src={photoURL}\n        alt=\"User Profile\"\n        className=\"user-avatar large-avatar mb-3\"\n        onError={() => setImageLoadError(true)}\n        onClick={handleImageClick}\n        style={{ cursor: 'pointer' }}\n      />\n      {/* Plus symbol */}\n      <div className=\"svg-icon\" onClick={handleImageClick}>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"white\" className=\"w-6 h-6\">\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n</svg>\n\n      </div>\n \n    </div>\n  )}\n\n  {imageLoadError && (\n    <div className=\"position-relative\">\n      <img\n        src={`${process.env.PUBLIC_URL}/images/arts/user.webp`}\n        alt=\"Custom 404 Image\"\n        className=\"user-avatar large-avatar rounded-circle mb-3\"\n        onClick={handleImageClick}\n        style={{ cursor: 'pointer' }}\n      />\n      <div className=\"px-3\">\n        <div className=\"card-title\">{`${firstName} ${lastName}`}</div>\n        <div className=\"fw-normal card-subtitle mb-4 h6\">{occupation}</div>\n      </div>\n    </div>\n  )}\n</div>\n<div className=\"px-3\">\n        <div className=\"card-title\">{`${firstName} ${lastName}`}</div>\n        <div className=\"text-muted card-subtitle h6\">{occupation}</div>\n      </div>\n\n\n      <div>\n        {message.type === 'error' && (\n          <p className=\"fw-light\" style={{ color: 'red' }}>{message.text}</p>\n        )}\n        {message.type === 'success' && (\n          <p className=\"fw-light\" style={{ color: 'green' }}>{message.text}</p>\n        )}\n        {message.type === 'progress' && (\n          <p className=\"fw-light\" style={{ color: 'gray' }}>{message.text}</p>\n        )}\n      </div>\n     \n\n    </div>\n</div>\n    <div className=\"\">\n    <h3>My Profile</h3>\n    <hr />\n    </div>\n    <form className=\"file-upload\">\n    \n    <div className=\"row mb-4 gx-4\">\n    <div className=\"col-xl-8 col-12\">\n    <div className=\"\">\n    <div className=\"card-body card-profile\">\n    <div className=\"row g-3\">\n    <h4 className=\"mb-4\">General information</h4>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">First Name *</label>\n    <input\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"\"\n    aria-label=\"First name\"\n    value={firstName} // Display user's first name here\n    onChange={(e) => setFirstName(e.target.value)}\n    readOnly // Make it read-only\n    style={{ pointerEvents: 'none' }}\n    />\n    </div>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">Last Name *</label>\n    <input\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"\"\n    aria-label=\"Last name\"\n    value={lastName} // Display user's last name here\n    onChange={(e) => setLastName(e.target.value)}\n    readOnly // Make it read-only\n    style={{ pointerEvents: 'none' }}\n    />\n    </div>\n    <div className=\"col-md-6\">\n    <label htmlFor=\"inputEmail4\" className=\"form-label\">Email *</label>\n    <input\n    type=\"email\"\n    className=\"form-control form-control-lg\"\n    id=\"inputEmail4\"\n    value={user ? user.email : ''} // Display user's email here\n    readOnly // Make it read-only\n    style={{ pointerEvents: 'none' }}\n    />\n    </div>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">Mobile number *</label>\n    <input\n    id=\"inputMobileNumber\"\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"Enter your Phone number\"\n    aria-label=\"Phone number\"\n    value={mobileNumber} // Display user's mobile number here\n    onChange={(e) => setMobileNumber(e.target.value)}\n    />\n    </div>\n\n<div className=\"col-md-12\">\n  <label className=\"form-label\">Role/Expertise *</label>\n  <input\n    id=\"inputExpertise\"\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"Enter your role/expertise\"\n    aria-label=\"your Role\"\n    value={occupation} // Use setRole here\n    onChange={(e) => setRole(e.target.value)} // Use setRole here\n    readOnly // Make it read-only\n    style={{ pointerEvents: 'none' }}\n  />\n</div>\n\n\n    <div className=\"col-md-12\">\n    <label className=\"form-label\">Description of Expertise</label>\n    <textarea\n    id=\"inputDescription\"\n    type=\"text\"\n    className=\"form-control\"\n    rows=\"4\"\n    placeholder=\"Enter a brief description of your expertise or how you can help\"\n    value={description} // Create a 'description' state and update it accordingly\n    onChange={(e) => setDescription(e.target.value)}\n    style={{ resize: 'none' }}\n    />\n    </div>\n    </div>\n    <div className=\"pt-5 rounded mt-4\">\n    <div className=\"row g-3\">\n    <h4 className=\"mb-4 mt-0\">Address</h4>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">Address</label>\n    <input\n    id=\"inputAddress\"\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"Enter your home address\"\n    value={address} // Display user's address here\n    onChange={(e) => setAddress(e.target.value)}\n    />\n    </div>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">City</label>\n    <input\n    id=\"inputCity\"\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"Enter City\"\n    value={city} // Display user's city here\n    onChange={(e) => setCity(e.target.value)}\n    />\n    </div>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">County</label>\n    <input\n    id=\"inputCounty\"\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"County\"\n    value={county} // Display user's county here\n    onChange={(e) => setCounty(e.target.value)}\n    />\n    </div>\n    <div className=\"col-md-6\">\n    <label className=\"form-label\">Postcode</label>\n    <input\n    id=\"inputPostcode\"\n    type=\"text\"\n    className=\"form-control form-control-lg\"\n    placeholder=\"Postcode\"\n    value={postcode} // Display user's postcode here\n    onChange={(e) => setPostcode(e.target.value)}\n    />\n    </div>\n    \n    </div>\n    </div>\n\n    </div>\n    </div>\n    </div>\n    \n    <div className=\"col-xl-4 col-12\">\n    <div className=\"\">\n    </div>\n    \n    <div className=\"\">\n    </div>\n    <div className=\"bg-white shadow-sm mb-4 card border-light\">\n    <div className=\"card-body card-profile\">\n    <div className=\"row g-3\">\n    <h5 className=\"mb-2\">Choose 5 Keywords</h5>\n    <p>we recommend choosing keywords that you think will get you highest in the search results</p>\n  \n \n    <div className=\"me-3\">\n    <input\n  type=\"text\"\n  className='form-control form-control-lg'\n  placeholder={window.innerWidth <= 600 ? \"Add keywords here\" : \"Type a keyword and press Space or Enter to add\"}\n  value={currentKeyword}\n  onChange={(e) => setCurrentKeyword(e.target.value)}\n  onKeyDown={(e) => {\n    if ((e.key === ' ' || e.key === 'Enter') && currentKeyword.trim() !== '') {\n      e.preventDefault(); // Prevent the Space or Enter character from being entered into the input\n      handleAddKeyword(); // Call the handleAddKeyword function\n    }\n  }}\n  disabled={currentKeywords.length + keywords.length >= MAX_KEYWORDS_LIMIT}\n/>\n\n    \n\n    </div>\n   \n  \n    <div className=\"keywords-list\">\n  {currentKeywords.map((keyword, index) => (\n    <div key={index} onClick={() => handleRemoveKeyword(index)} className=\"keyword-container btn   d-inline-flex align-items-center  mb-2\">\n      {keyword}\n      <svg onClick={() => handleRemoveKeyword(index)} xmlns=\"http://www.w3.org/2000/svg\"   cursor=\"pointer\" color='#000000' fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" height=\"25\" width=\"25\" style={{ marginLeft: 'auto' }}>\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n      </svg>\n    </div>\n  ))}\n\n  {keywords.map((keyword, index) => (\n    <div key={index} onClick={() => removeKeyword(index)} className=\"keyword-container btn   d-inline-flex align-items-center  mb-2\">\n      {keyword}\n      <svg onClick={() => removeKeyword(index)} xmlns=\"http://www.w3.org/2000/svg\" cursor=\"pointer\" color='#000000' fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\" height=\"25\" width=\"25\" style={{ marginLeft: 'auto' }}>\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n      </svg>\n    </div>\n  ))}\n\n{currentKeywords.length + keywords.length >= MAX_KEYWORDS_LIMIT && (\n  <p className=\"message\">Keyword limit reached. You cannot add more keywords.</p>\n)}\n</div>\n  \n\n    </div>\n    </div>\n    </div>\n    <div className='mt-3'>\n    <button\n    type=\"button\"\n    className=\"btn btn-primary btn-lg mb-4\"\n    onClick={updateProfileInfo}\n    \n    >\n    Update profile\n    </button>\n    <div>\n  {updateMessage.type === 'error' && (\n    <p className=\"fw-light\" style={{ color: 'red' }}>{updateMessage.text}</p>\n  )}\n  {updateMessage.type === 'success' && (\n    <p className=\"fw-light\" style={{ color: 'green' }}>{updateMessage.text}</p>\n  )}\n</div>\n    \n    </div>\n    </div>\n\n    <div>\n\n    \n    </div>\n    </div>\n\n    </form>\n    </div>\n    </div>\n    \n    </div>\n    {isModalOpen && (\n        <div className=\"modal-overlay\">\n          <div className=\"modalcrop \">\n          \n          <ImageCropper\n  setPhotoURL={setPhotoURL}\n  setImageLoadError={setImageLoadError}\n  closeModal={closeModal}\n  photoURL={photoURL}\n  handleImageUpload={handleImageUpload}\n  handleImageError={handleImageError}\n  user={user}\n  collectionName=\"expertApplications\" \n/>\n          </div>\n        </div>\n      )}\n    </div>\n    );\n    }\n    \n\nexport default ExpertProfile;\n\n","import React, { useState, useRef, useEffect } from 'react'; // Import React and useState\nimport { CropperRef, Cropper, CircleStencil } from 'react-advanced-cropper';\nimport 'react-advanced-cropper/dist/style.css';\nimport { ref, uploadBytesResumable, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { doc, getDoc, updateDoc, deleteField, setDoc, onSnapshot } from 'firebase/firestore';\nimport { storage, firestore } from '../firebase';\n\n\nfunction ImageCropper({\n  closeModal,\n  photoURL,\n  handleImageUpload,\n  setPhotoURL,\n  user,\n  collectionName,\n}) {\n  const [image, setImage] = useState(photoURL);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isDeleteConfirmed, setIsDeleteConfirmed] = useState(false);\n  const [selectedFileName, setSelectedFileName] = useState(null);\n  const [docRef, setDocRef] = useState(null); // Added local state for the document reference\n  const cropperRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const [isUploadSuccess, setIsUploadSuccess] = useState(false);\n\n  const CustomCheckmark = (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-6 h-6\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\n  </svg>\n);\n\n\n  const handleFileUpload = (e) => {\n    const file = e.target.files[0];\n    setSelectedFile(file); // Update the selectedFile state with the file\n  \n    if (file) {\n      setSelectedFileName(file.name);\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setImage(event.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleNewPhoto = () => {\n    fileInputRef.current.click();\n  };\n\n  const handleUpload = async () => {\n    const canvas = cropperRef.current?.getCanvas();\n    if (canvas) {\n      const blob = await new Promise((resolve) => canvas.toBlob(resolve, 'image/jpeg'));\n  \n      if (blob) {\n        const storageRef = ref(storage, `profileImages/${selectedFileName}`);\n        const metadata = { contentType: 'image/jpeg' };\n  \n        const uploadTask = uploadBytesResumable(storageRef, blob, metadata);\n  \n        uploadTask.on(\n          'state_changed',\n          (snapshot) => {\n            // Handle upload progress here\n          },\n          (error) => {\n            // Handle upload error here\n          },\n          () => {\n            // Handle upload success here\n            getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\n              if (downloadURL) {\n                // Update the Firestore document immediately before handling the upload success\n                await updateDoc(docRef, { photoURL: downloadURL });\n                handleImageUpload(downloadURL);\n                setIsUploadSuccess(true);\n                setTimeout(() => {\n                  setIsUploadSuccess(false);\n                }, 3000);\n              }\n            });\n          }\n        );\n      }\n    }\n  };\n  \n\n  const handleDeletePhoto = async () => {\n    if (user && user.uid) {\n      const defaultImageURL = `${process.env.PUBLIC_URL}/images/arts/user.webp`;\n      await updateDoc(docRef, { photoURL: defaultImageURL });\n      setPhotoURL(defaultImageURL);\n      setIsDeleteConfirmed(false);\n    }\n  };\n  \n\n  useEffect(() => {\n    fileInputRef.current = document.createElement('input');\n    fileInputRef.current.type = 'file';\n    fileInputRef.current.accept = 'image/*';\n    fileInputRef.current.addEventListener('change', handleFileUpload);\n\n    const userDocRef = doc(firestore, collectionName, user.uid);\n    setDocRef(userDocRef); // Set the local state for document reference\n\n    const handlePhotoURLChange = (newPhotoURL) => {\n      setImage(newPhotoURL);\n    };\n  \n    const unsubscribe = onSnapshot(userDocRef, (doc) => {\n      const newPhotoURL = doc.data()?.photoURL;\n      handlePhotoURLChange(newPhotoURL);\n    });\n  \n    return () => unsubscribe();\n  }, [user.uid, collectionName]);\n\n  return (\n    <div className=\"modalimage align-items-center\">\n      <div className=\"top-section\">\n        <div style={{ marginRight: '10px' }}>Profile image</div>\n        <button className=\"btn-crop\" onClick={closeModal}>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"  stroke=\"white\" strokeWidth=\"1.5\"  className={`w-6 h-6 smaller-svg`}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n      </div>\n      <div className='centerimage'>\n      <div className=\"croppers-wizard__body\">\n        <div className='default-cropper croppers-wizard__cropper'>\n\n       \n          {image ? (\n            <Cropper\n              ref={cropperRef}\n              src={image}\n              stencilComponent={CircleStencil}\n              stencilProps={{\n                grid: true,\n              }}\n         \n            />\n          ) : null}\n</div>\n\n</div>\n\n      </div>\n      \n      <div className=\"button-section with-divider\">\n  <button className=\"btn-crop\" onClick={handleNewPhoto}>\n    <div className=\"button-content\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"white\" strokeWidth=\"1.5\" className={`w-6 h-6 smaller-svg`}>\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42\" />\n      </svg>\n      New Photo\n    </div>\n  </button>\n\n  <button className=\"btn-crop\" onClick={handleUpload}>\n        <div className=\"button-content\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"white\" strokeWidth=\"1.5\" className={`w-6 h-6 smaller-svg`}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z\" />\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z\" />\n          </svg>\n          Upload Photo\n        </div>\n      </button>\n\n      {isUploadSuccess && (\n  <div className=\"upload-success-icon\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" color=\"#009E60\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={2} stroke=\"currentColor\">\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4.5 12.75l6 6 9-13.5\" />\n    </svg>\n  </div>\n)}\n\n \n\n  <button className=\"btn-crop\" onClick={handleDeletePhoto}>\n    <div className=\"button-content\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"white\" strokeWidth=\"1.5\" className={`w-6 h-6 smaller-svg`}>\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\" />\n      </svg>\n      Delete Photo\n    </div>\n  </button>\n</div>\n\n\n\n    </div>\n  );\n}\n\nexport default ImageCropper;\n"],"names":["useParams","customURL","_useState","useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","firstName","setFirstName","_useState5","_useState6","lastName","setLastName","_useState7","_useState8","photoURL","setPhotoURL","_useState9","_useState10","setPreviousPhotoRef","_useState11","text","type","_useState12","message","_useState13","_useState14","updateMessage","setUpdateMessage","_useState15","_useState16","imageLoadError","setImageLoadError","_useState17","_useState18","address","setAddress","_useState19","_useState20","city","setCity","_useState21","_useState22","county","setCounty","_useState23","_useState24","postcode","setPostcode","_useState25","_useState26","mobileNumber","setMobileNumber","_useState27","_useState28","occupation","setRole","_useState29","_useState30","setEmail","_useState31","_useState32","description","setDescription","_useState33","_useState34","currentKeyword","setCurrentKeyword","_useState35","_useState36","keywords","setKeywords","_useState37","_useState38","_useState39","_useState40","isModalOpen","setIsModalOpen","_useState41","_useState42","currentKeywords","setCurrentKeywords","_useState43","_useState44","_useState45","_useState46","useEffect","unsubscribe","auth","onAuthStateChanged","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","authUser","userDocRef","userDocSnapshot","userData","wrap","_context","prev","next","doc","firestore","uid","getDoc","sent","exists","data","first_name","displayName","split","last_name","email","stop","_x","apply","arguments","handleImageUpload","_ref2","_callee2","downloadURL","_context2","updateDoc","_x2","clearUpdateMessage","updateProfileInfo","_ref7","_callee7","approvedStatus","customURLStatus","existingPoints","userProfileRef","updatedUser","newPhotoURL","_context7","abrupt","approved","points","deleteDoc","currentUser","setDoc","concat","document","getElementById","value","setTimeout","t0","_ref8","_callee8","_context8","_x5","handleRemoveKeyword","index","updatedKeywords","_toConsumableArray","splice","removeKeyword","handleImageClick","console","log","_jsxs","className","children","_jsx","src","alt","onError","onClick","style","cursor","xmlns","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","process","color","placeholder","onChange","e","target","readOnly","pointerEvents","htmlFor","id","rows","resize","window","innerWidth","onKeyDown","key","trim","preventDefault","length","handleAddKeyword","disabled","map","keyword","fill","height","width","marginLeft","ImageCropper","closeModal","handleImageError","collectionName","image","setImage","setSelectedFile","setIsDeleteConfirmed","selectedFileName","setSelectedFileName","docRef","setDocRef","cropperRef","useRef","fileInputRef","isUploadSuccess","setIsUploadSuccess","handleFileUpload","file","files","name","reader","FileReader","onload","event","result","readAsDataURL","handleUpload","_cropperRef$current","canvas","blob","storageRef","metadata","uploadTask","current","getCanvas","Promise","resolve","toBlob","ref","storage","contentType","uploadBytesResumable","on","snapshot","error","getDownloadURL","then","_ref3","handleDeletePhoto","_ref4","_callee3","defaultImageURL","_context3","createElement","accept","addEventListener","onSnapshot","_doc$data","handlePhotoURLChange","marginRight","Cropper","stencilComponent","CircleStencil","stencilProps","grid","click"],"sourceRoot":""}